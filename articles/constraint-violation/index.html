<!DOCTYPE html>
<html  lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Constraint Validation in Spring Boot Microservices</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:image:width" content="400">
<meta property="og:image:height" content="300">
<meta property="og:image:alt" content="An image showcasing my project.">
<meta property="og:title" content="Constraint Validation in Spring Boot Microservices">
<meta name="description" content="A lightweight intro to validating requests via annotations in Java.">
<meta property="og:description" content="A lightweight intro to validating requests via annotations in Java.">
<meta property="og:image" content="/articles/maximilian-weisbecker-unsplash.webp">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/articles/constraint-violation/_payload.json">
<link rel="stylesheet" href="/_nuxt/entry.56e9e8cd.css">
<link rel="stylesheet" href="/_nuxt/DocumentDrivenNotFound.9ed74d7a.css">
<link rel="stylesheet" href="/_nuxt/article.95c6a3e9.css">
<link rel="stylesheet" href="/_nuxt/ProseA.f602e1d0.css">
<link rel="stylesheet" href="/_nuxt/ProseP.67416748.css">
<link rel="stylesheet" href="/_nuxt/ProseEm.c1406590.css">
<link rel="stylesheet" href="/_nuxt/ProseH2.728a4cb2.css">
<link rel="stylesheet" href="/_nuxt/ProseCodeInline.41a5b560.css">
<link rel="stylesheet" href="/_nuxt/ProseUl.ca4edd9f.css">
<link rel="stylesheet" href="/_nuxt/ProseLi.5af9f5f5.css">
<link rel="stylesheet" href="/_nuxt/ProseHr.0f9cdfe0.css">
<link rel="stylesheet" href="/_nuxt/ProseH3.c179aef7.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.e63e49c6.css">
<link rel="stylesheet" href="/_nuxt/ProseCode.0344ad9e.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.69710830.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/NuxtImg.acbabc33.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/document-driven.5ca56a32.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenEmpty.830c9566.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.6009a821.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.c35390f1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenNotFound.bba72181.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/article.a1227d33.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.e0a2da27.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/date.824a539b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.c1517741.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.9cd15028.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.a2afc04a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.481d8395.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.2d253965.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.3476c726.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.008f23e4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseHr.82212c07.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.f2a4b3f7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.5c3de28e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.7fa4794d.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/default.ba4d8bf5.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/page.f2fab16d.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/client-db.43300a1c.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/debug.c5e03fab.js">
<link rel="prefetch" as="style" href="/_nuxt/useStudio.ae09d8f4.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/useStudio.2852d82c.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/asyncData.2f3d19f9.js">
<link rel="prefetch" as="style" href="/_nuxt/error-404.7910d5ca.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.36d8e781.js">
<link rel="prefetch" as="style" href="/_nuxt/error-500.1db01289.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.353e0755.js">
<script type="module" src="/_nuxt/entry.69710830.js" crossorigin></script><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:T6C-71-v;}.pv-SBXXVt{max-width:var(--elements-container-maxWidth);padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-SBXXVt{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-SBXXVt{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-SBXXVt{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --alpine-readableLine: 68ch;--alpine-backdrop-backgroundColor: #f4f4f5b3;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--prose-p-fontSize: 18px;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 64rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--shadow-lg: 0px 10px 15px -3px #000000, 0px 4px 6px -4px #000000;--shadow-md: 0px 4px 6px -1px #000000, 0px 2px 4px -2px #000000;--shadow-sm: 0px 1px 3px 0px #000000, 0px 1px 2px -1px #000000;--shadow-xs: 0px 1px 2px 0px #000000;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #002e38;--color-primary-800: #005c70;--color-primary-700: #008aa9;--color-primary-600: #00b9e1;--color-primary-500: #1ad6ff;--color-primary-400: #40ddff;--color-primary-300: #66e4ff;--color-primary-200: #8deaff;--color-primary-100: #b3f1ff;--color-primary-50: #d9f8ff;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #002438;--color-blue-800: #004870;--color-blue-700: #006ca9;--color-blue-600: #0090e1;--color-blue-500: #1aadff;--color-blue-400: #40bbff;--color-blue-300: #66c8ff;--color-blue-200: #8dd6ff;--color-blue-100: #b3e4ff;--color-blue-50: #d9f1ff;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #380300;--color-red-800: #700700;--color-red-700: #a90a00;--color-red-600: #e10e00;--color-red-500: #ff281a;--color-red-400: #ff4c40;--color-red-300: #ff7066;--color-red-200: #ff948d;--color-red-100: #ffb7b3;--color-red-50: #ffdbd9;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #362b03;--color-yellow-800: #6d5605;--color-yellow-700: #a38108;--color-yellow-600: #daac0a;--color-yellow-500: #f5c828;--color-yellow-400: #f7d14c;--color-yellow-300: #f8da70;--color-yellow-200: #fae393;--color-yellow-100: #fcedb7;--color-yellow-50: #fdf6db;--color-green-900: #003f25;--color-green-800: #005e38;--color-green-700: #007e4a;--color-green-600: #009d5d;--color-green-500: #00bd6f;--color-green-400: #00dc82;--color-green-300: #30ffaa;--color-green-200: #83ffcc;--color-green-100: #acffdd;--color-green-50: #d6ffee;--color-gray-900: #18181B;--color-gray-800: #27272A;--color-gray-700: #3f3f46;--color-gray-600: #52525B;--color-gray-500: #71717A;--color-gray-400: #a1a1aa;--color-gray-300: #D4d4d8;--color-gray-200: #e4e4e7;--color-gray-100: #f4f4f5;--color-gray-50: #fafafa;--color-black: #0c0c0d;--color-white: #FFFFFF;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--alpine-body-color: var(--color-gray-800);--alpine-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-16);--elements-container-padding-sm: var(--space-12);--elements-container-padding-xs: var(--space-8);--elements-container-padding-mobile: var(--space-6);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--shadow-2xl: 0px 25px 50px -12px var(--color-gray-900);--shadow-xl: 0px 20px 25px -5px var(--color-gray-400), 0px 8px 10px -6px #000000;--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-color-hover: var(--typography-color-primary-500);--typography-color-secondary-900: var(--color-secondary-900);--typography-color-secondary-800: var(--color-secondary-800);--typography-color-secondary-700: var(--color-secondary-700);--typography-color-secondary-600: var(--color-secondary-600);--typography-color-secondary-500: var(--color-secondary-500);--typography-color-secondary-400: var(--color-secondary-400);--typography-color-secondary-300: var(--color-secondary-300);--typography-color-secondary-200: var(--color-secondary-200);--typography-color-secondary-100: var(--color-secondary-100);--typography-color-secondary-50: var(--color-secondary-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400); } }@media { :root.dark {--pinceau-mq: dark; --alpine-backdrop-backgroundColor: #18181bb3;--prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--alpine-body-color: var(--color-gray-200);--alpine-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-color-hover: var(--typography-color-primary-400);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-border-color-static: var(--typography-color-secondary-600); } }</style><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?f():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:f,addColorScheme:i,removeColorScheme:d};function i(o){const t=""+o+"",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function d(o){const t=""+o+"",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function f(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();
</script></head>
<body ><div id="__nuxt"><div class="container pv-SBXXVt pc-T6C-71 app-layout" data-v-f8222c19 data-v-8c9da57d><!--[--><div class="nuxt-progress" style="width:0%;height:3px;opacity:0;background-size:Infinity% auto;" data-v-f8222c19></div><header class="right" data-v-f8222c19 data-v-92d658cf><div class="menu" data-v-92d658cf><button aria-label="Navigation Menu" data-v-92d658cf><svg width="24" height="24" viewBox="0 0 68 68" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-92d658cf><path d="M8 34C8 32.1362 8 31.2044 8.30448 30.4693C8.71046 29.4892 9.48915 28.7105 10.4693 28.3045C11.2044 28 12.1362 28 14 28C15.8638 28 16.7956 28 17.5307 28.3045C18.5108 28.7105 19.2895 29.4892 19.6955 30.4693C20 31.2044 20 32.1362 20 34C20 35.8638 20 36.7956 19.6955 37.5307C19.2895 38.5108 18.5108 39.2895 17.5307 39.6955C16.7956 40 15.8638 40 14 40C12.1362 40 11.2044 40 10.4693 39.6955C9.48915 39.2895 8.71046 38.5108 8.30448 37.5307C8 36.7956 8 35.8638 8 34Z" data-v-92d658cf></path><path d="M28 34C28 32.1362 28 31.2044 28.3045 30.4693C28.7105 29.4892 29.4892 28.7105 30.4693 28.3045C31.2044 28 32.1362 28 34 28C35.8638 28 36.7956 28 37.5307 28.3045C38.5108 28.7105 39.2895 29.4892 39.6955 30.4693C40 31.2044 40 32.1362 40 34C40 35.8638 40 36.7956 39.6955 37.5307C39.2895 38.5108 38.5108 39.2895 37.5307 39.6955C36.7956 40 35.8638 40 34 40C32.1362 40 31.2044 40 30.4693 39.6955C29.4892 39.2895 28.7105 38.5108 28.3045 37.5307C28 36.7956 28 35.8638 28 34Z" data-v-92d658cf></path><path d="M48 34C48 32.1362 48 31.2044 48.3045 30.4693C48.7105 29.4892 49.4892 28.7105 50.4693 28.3045C51.2044 28 52.1362 28 54 28C55.8638 28 56.7956 28 57.5307 28.3045C58.5108 28.7105 59.2895 29.4892 59.6955 30.4693C60 31.2044 60 32.1362 60 34C60 35.8638 60 36.7956 59.6955 37.5307C59.2895 38.5108 58.5108 39.2895 57.5307 39.6955C56.7956 40 55.8638 40 54 40C52.1362 40 51.2044 40 50.4693 39.6955C49.4892 39.2895 48.7105 38.5108 48.3045 37.5307C48 36.7956 48 35.8638 48 34Z" data-v-92d658cf></path></svg></button></div><div class="overlay" data-v-92d658cf><nav data-v-92d658cf data-v-9e5f9383><ul data-v-9e5f9383><!--[--><li data-v-9e5f9383><a href="/" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> About</a></li><li data-v-9e5f9383><a href="/articles" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Articles</a></li><li data-v-9e5f9383><a href="/contact" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Contact</a></li><!--]--></ul></nav></div><div class="logo" data-v-92d658cf><a href="/" class="" data-v-92d658cf><img src="/logo-dark.svg" class="dark-img" alt="alpine" width="89" height="31" data-v-92d658cf><img src="/logo.svg" class="light-img" alt="alpine" width="89" height="31" data-v-92d658cf></a></div><div class="main-nav" data-v-92d658cf><nav data-v-92d658cf data-v-9e5f9383><ul data-v-9e5f9383><!--[--><li data-v-9e5f9383><a href="/" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> About</a></li><li data-v-9e5f9383><a href="/articles" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Articles</a></li><li data-v-9e5f9383><a href="/contact" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Contact</a></li><!--]--></ul></nav></div></header><!--[--><div class="document-driven-page"><article data-v-d14d4756><a href="/articles" class="back" data-v-d14d4756><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d14d4756 style="" width="1em" height="1em" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8Z"/></svg><span data-v-d14d4756> Back </span></a><header data-v-d14d4756><h1 class="title" data-v-d14d4756>Constraint Validation in Spring Boot Microservices</h1><time datetime="2020-09-27T00:00:00.000Z" data-v-d14d4756>September 27, 2020</time></header><div class="prose" data-v-d14d4756><!--[--><div><p data-v-df09d8a4><!--[-->In a microservice architecture, services may accept several, if not many, of the same inputs. This pattern can easily lead to code duplication and redundancy between services. In an effort to mitigate these drawbacks and keep service code focused, we can devise a robust solution involving several APIs provided by Spring and Java.<!--]--></p><p data-v-df09d8a4><!--[--><em data-v-aa62b5ba><!--[-->The following tutorial will assume some working knowledge of Java and Spring Boot, but will cater to a range of skill levels. Regardless, it never hurts to see another developer&#39;s code!<!--]--></em><!--]--></p><h2 id="background" data-v-d392d013><a aria-current="page" href="/articles/constraint-violation#background" class="router-link-active router-link-exact-active" data-v-d392d013><!--[-->Background<!--]--><!----></a></h2><p data-v-df09d8a4><!--[-->Our solution will involve combining the Java and Spring Boot APIs, <code data-v-b931280b><!--[-->ConstraintValidator<!--]--></code> and <code data-v-b931280b><!--[-->ResponseEntityExceptionHandler<!--]--></code>, respectively.<!--]--></p><p data-v-df09d8a4><!--[--><a href="http://hibernate.org/validator/" rel="nofollow" data-v-c180f33c><!--[-->Hibernate Validator<!--]--></a>, enhanced as part of <a href="https://jcp.org/en/jsr/detail?id=380" rel="nofollow" data-v-c180f33c><!--[-->JSR 380<!--]--></a>, is a specification of the Java API for standard <a href="https://beanvalidation.org/" rel="nofollow" data-v-c180f33c><!--[-->Bean validation<!--]--></a>.  In the context of Spring Boot applications, you may have used this without thinking twice.  Examples include:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@NotNull<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Min<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Max<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Pattern<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Past<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Email<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@PositiveOrZero<!--]--></code><!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->In this tutorial, we will examine how to go beyond these basic validations using the <code data-v-b931280b><!--[-->ConstraintValidator<!--]--></code> interface to define our own set of constraints.<!--]--></p><p data-v-df09d8a4><!--[-->While other forms of exception handling exist within the Spring ecosystem, the <code data-v-b931280b><!--[-->ResponseEntityExceptionHandler<!--]--></code> provides global (and centralized) exception handling within a service.  This globalization is key to the efficacy of our custom constraint annotation since it allows us to validate multiple Beans (or fields within them). That said, we will investigate how we can leverage this class to gracefully handle violations to our constraints.<!--]--></p><hr id data-v-521b8f77><h2 id="implementation" data-v-d392d013><a aria-current="page" href="/articles/constraint-violation#implementation" class="router-link-active router-link-exact-active" data-v-d392d013><!--[-->Implementation<!--]--><!----></a></h2><p data-v-df09d8a4><!--[-->Let&#39;s dive in.  To avoid bloating the tutorial with boilerplate code, you will only find necessary blocks of code in the sections below.  This article is coupled with a working example on <a href="https://github.com/Verley93/annotation-validation" rel="nofollow" data-v-c180f33c><!--[-->GitHub<!--]--></a>.<!--]--></p><p data-v-df09d8a4><!--[--><em data-v-aa62b5ba><!--[-->Note: I will be making references to this example project throughout the tutorial.<!--]--></em><!--]--></p><h3 id="dependencies" data-v-a4f0448b><a aria-current="page" href="/articles/constraint-violation#dependencies" class="router-link-active router-link-exact-active" data-v-a4f0448b><!--[-->Dependencies<!--]--><!----></a></h3><p data-v-df09d8a4><!--[-->The list is short and sweet:<!--]--></p><div class="highlight-groovy prose-code" meta data-v-b5601217><!----><!--[--><pre class="language-groovy github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">implementation </span><span class="ct-952708">&#39;org.springframework.boot:spring-boot-starter-validation&#39;</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="creating-the-annotations" data-v-a4f0448b><a aria-current="page" href="/articles/constraint-violation#creating-the-annotations" class="router-link-active router-link-exact-active" data-v-a4f0448b><!--[-->Creating the Annotations<!--]--><!----></a></h3><p data-v-df09d8a4><!--[-->We&#39;ll start simple.  Let&#39;s say we&#39;ve implemented a <em data-v-aa62b5ba><!--[-->Fridge<!--]--></em> and <em data-v-aa62b5ba><!--[-->Pantry Service<!--]--></em> of which allows us to:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->Manage the Fridge and Pantry repositories<!--]--></li><li data-v-c0128672><!--[-->Accept POST and/or PUT requests with a JSON payload<!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->We want to validate common fields between request models of both services.  Our request model may look something like this:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FoodRequestModel.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">FoodRequestModel</span><span class="ct-553616"> {
</span></span><span class="line" line="2"><span></span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> String name;
</span></span><span class="line" line="4"><span></span></span><span class="line" line="5"><span class="ct-553616">    @</span><span class="ct-149352">PositiveOrZero</span><span class="ct-553616">(</span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Quantity must be positive&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="6"><span class="ct-553616">    @</span><span class="ct-149352">Max</span><span class="ct-553616">(</span><span class="ct-617022">value</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-617022">25</span><span class="ct-553616">, </span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Quantity must not exceed 25&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="7"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">int</span><span class="ct-553616"> quantity;
</span></span><span class="line" line="8"><span></span></span><span class="line" line="9"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> String category;
</span></span><span class="line" line="10"><span></span></span><span class="line" line="11"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">boolean</span><span class="ct-553616"> refrigerated;
</span></span><span class="line" line="12"><span></span></span><span class="line" line="13"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->One of the simplest constraints we can build will involve composing existing constraints, such as <code data-v-b931280b><!--[-->@PositiveOrZero<!--]--></code> and <code data-v-b931280b><!--[-->@Max<!--]--></code> in the example above.  This allows us to put an explicit label on common constraints and call it &quot;business logic&quot;.  Below, we define <code data-v-b931280b><!--[-->@FoodQuantity<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FoodQuantity.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">@</span><span class="ct-149352">Documented
</span></span><span class="line" line="2"><span class="ct-553616">@</span><span class="ct-149352">PositiveOrZero</span><span class="ct-553616">(</span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Quantity must be positive&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="3"><span class="ct-553616">@</span><span class="ct-149352">Max</span><span class="ct-553616">(</span><span class="ct-617022">value</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-617022">25</span><span class="ct-553616">, </span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Quantity must not exceed 25&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="4"><span class="ct-553616">@</span><span class="ct-149352">Constraint</span><span class="ct-553616">(</span><span class="ct-617022">validatedBy</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> {})
</span></span><span class="line" line="5"><span class="ct-553616">@</span><span class="ct-149352">Retention</span><span class="ct-553616">(RetentionPolicy.RUNTIME)
</span></span><span class="line" line="6"><span class="ct-553616">@</span><span class="ct-149352">Target</span><span class="ct-553616">({ElementType.FIELD, ElementType.PARAMETER})
</span></span><span class="line" line="7"><span class="ct-149352">public</span><span class="ct-553616"> @</span><span class="ct-149352">interface</span><span class="ct-553616"> </span><span class="ct-149352">FoodQuantity</span><span class="ct-553616"> {
</span></span><span class="line" line="8"><span></span></span><span class="line" line="9"><span class="ct-553616">    String </span><span class="ct-762058">message</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Invalid quantity&quot;</span><span class="ct-553616">;
</span></span><span class="line" line="10"><span></span></span><span class="line" line="11"><span class="ct-553616">    Class</span><span class="ct-149352">&lt;?&gt;</span><span class="ct-553616">[] </span><span class="ct-762058">groups</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> {};
</span></span><span class="line" line="12"><span></span></span><span class="line" line="13"><span class="ct-553616">    Class</span><span class="ct-149352">&lt;?</span><span class="ct-553616"> extends Payload</span><span class="ct-149352">&gt;</span><span class="ct-553616">[] </span><span class="ct-762058">payload</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> {};
</span></span><span class="line" line="14"><span></span></span><span class="line" line="15"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->There&#39;s a lot going on here, so let&#39;s break this down:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Constraint<!--]--></code> marks an annotation as being a Bean Validation constraint and allows us to specify <code data-v-b931280b><!--[-->ConstraintValidator<!--]--></code> implementations; zero, one, or many implementations are welcome here<!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Retention<!--]--></code> is set such that our annotation will be retained at runtime<!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Target<!--]--></code> is set such that we can validate different types of inputs to our services<!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->message<!--]--></code>, <code data-v-b931280b><!--[-->groups<!--]--></code>, and <code data-v-b931280b><!--[-->payload<!--]--></code> are required by <code data-v-b931280b><!--[-->@Constraint<!--]--></code> but do not have to be set--these provide specificity beyond what we&#39;ll cover today<!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->By no means is this a simplification.  Looking past the verbosity, the annotation opens quite a few doors to make handling complexity a breeze as we&#39;ll see in the next example.<!--]--></p><hr id="_1" data-v-521b8f77><p data-v-df09d8a4><!--[-->Let&#39;s define a constraint for the <em data-v-aa62b5ba><!--[-->category<!--]--></em> field such that:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->Category must be passed and cannot be empty<!--]--></li><li data-v-c0128672><!--[-->Only certain categories are allowed to be passed<!--]--></li><li data-v-c0128672><!--[-->Categories may differ between the <em data-v-aa62b5ba><!--[-->Fridge<!--]--></em> and <em data-v-aa62b5ba><!--[-->Pantry<!--]--></em> services<!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->To implement this annotation, we will expand upon the premise of our first annotation by adding a custom parameter and providing an implementation of the <code data-v-b931280b><!--[-->ConstraintValidator<!--]--></code> interface.  The result looks something like this:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FoodCategory.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">@</span><span class="ct-149352">Documented
</span></span><span class="line" line="2"><span class="ct-553616">@</span><span class="ct-149352">NotNull</span><span class="ct-553616">(</span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Category must be present&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="3"><span class="ct-553616">@</span><span class="ct-149352">NotEmpty</span><span class="ct-553616">(</span><span class="ct-617022">message</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Category must not be empty&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="4"><span class="ct-553616">@</span><span class="ct-149352">Constraint</span><span class="ct-553616">(</span><span class="ct-617022">validatedBy</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> FoodCategoryValidator.class)
</span></span><span class="line" line="5"><span class="ct-553616">@</span><span class="ct-149352">Retention</span><span class="ct-553616">(RetentionPolicy.RUNTIME)
</span></span><span class="line" line="6"><span class="ct-553616">@</span><span class="ct-149352">Target</span><span class="ct-553616">({ElementType.FIELD, ElementType.PARAMETER})
</span></span><span class="line" line="7"><span class="ct-149352">public</span><span class="ct-553616"> @</span><span class="ct-149352">interface</span><span class="ct-553616"> </span><span class="ct-149352">FoodCategory</span><span class="ct-553616"> {
</span></span><span class="line" line="8"><span></span></span><span class="line" line="9"><span class="ct-553616">    String </span><span class="ct-762058">message</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Invalid category&quot;</span><span class="ct-553616">;
</span></span><span class="line" line="10"><span></span></span><span class="line" line="11"><span class="ct-553616">    Class</span><span class="ct-149352">&lt;?&gt;</span><span class="ct-553616">[] </span><span class="ct-762058">groups</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> {};
</span></span><span class="line" line="12"><span></span></span><span class="line" line="13"><span class="ct-553616">    Class</span><span class="ct-149352">&lt;?</span><span class="ct-553616"> extends Payload</span><span class="ct-149352">&gt;</span><span class="ct-553616">[] </span><span class="ct-762058">payload</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> {};
</span></span><span class="line" line="14"><span></span></span><span class="line" line="15"><span class="ct-553616">    </span><span class="ct-149352">String</span><span class="ct-553616">[] </span><span class="ct-762058">allowed</span><span class="ct-553616">() </span><span class="ct-149352">default</span><span class="ct-553616"> {</span><span class="ct-952708">&quot;dairy&quot;</span><span class="ct-553616">, </span><span class="ct-952708">&quot;grain&quot;</span><span class="ct-553616">};
</span></span><span class="line" line="16"><span></span></span><span class="line" line="17"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->A few more things are happening in this annotation compared to <code data-v-b931280b><!--[-->@FoodQuantity<!--]--></code>.  We&#39;ve specified a new parameter, <code data-v-b931280b><!--[-->allowed<!--]--></code>, to restrict what may be passed into <code data-v-b931280b><!--[-->category<!--]--></code>.  Notice the default value--this array is only referenced if values are not passed into <code data-v-b931280b><!--[-->@FoodCategory<!--]--></code>.  To handle this constraint, we&#39;ve implemented <code data-v-b931280b><!--[-->FoodCategoryValidator<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FoodCategoryValidator.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">@</span><span class="ct-149352">Slf4j
</span></span><span class="line" line="2"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">FoodCategoryValidator</span><span class="ct-553616"> </span><span class="ct-149352">implements</span><span class="ct-553616"> </span><span class="ct-762058">ConstraintValidator</span><span class="ct-553616">&lt;</span><span class="ct-149352">FoodCategory</span><span class="ct-553616">, </span><span class="ct-149352">String</span><span class="ct-553616">&gt; {
</span></span><span class="line" line="3"><span></span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> List&lt;</span><span class="ct-149352">String</span><span class="ct-553616">&gt; allowed;
</span></span><span class="line" line="5"><span></span></span><span class="line" line="6"><span class="ct-553616">    @</span><span class="ct-149352">Override
</span></span><span class="line" line="7"><span class="ct-553616">    </span><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">void</span><span class="ct-553616"> </span><span class="ct-762058">initialize</span><span class="ct-553616">(FoodCategory </span><span class="ct-157101">constraintAnnotation</span><span class="ct-553616">) {
</span></span><span class="line" line="8"><span class="ct-553616">        </span><span class="ct-617022">this</span><span class="ct-553616">.allowed </span><span class="ct-149352">=</span><span class="ct-553616"> Arrays.</span><span class="ct-762058">asList</span><span class="ct-553616">(constraintAnnotation.</span><span class="ct-762058">allowed</span><span class="ct-553616">());
</span></span><span class="line" line="9"><span class="ct-553616">    }
</span></span><span class="line" line="10"><span></span></span><span class="line" line="11"><span class="ct-553616">    @</span><span class="ct-149352">Override
</span></span><span class="line" line="12"><span class="ct-553616">    </span><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">boolean</span><span class="ct-553616"> </span><span class="ct-762058">isValid</span><span class="ct-553616">(String </span><span class="ct-157101">value</span><span class="ct-553616">, ConstraintValidatorContext </span><span class="ct-157101">context</span><span class="ct-553616">) {
</span></span><span class="line" line="13"><span class="ct-553616">        log.</span><span class="ct-762058">info</span><span class="ct-553616">(</span><span class="ct-952708">&quot;isValid: value=[{}]&quot;</span><span class="ct-553616">, value);
</span></span><span class="line" line="14"><span class="ct-553616">        </span><span class="ct-149352">if</span><span class="ct-553616"> (</span><span class="ct-149352">!</span><span class="ct-553616">allowed.</span><span class="ct-762058">contains</span><span class="ct-553616">(value.</span><span class="ct-762058">toLowerCase</span><span class="ct-553616">())) {
</span></span><span class="line" line="15"><span class="ct-553616">            String err </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;Category must be one of the following: &quot;</span><span class="ct-553616"> </span><span class="ct-149352">+</span><span class="ct-553616"> allowed;
</span></span><span class="line" line="16"><span class="ct-553616">            context.</span><span class="ct-762058">disableDefaultConstraintViolation</span><span class="ct-553616">();
</span></span><span class="line" line="17"><span class="ct-553616">            context.</span><span class="ct-762058">buildConstraintViolationWithTemplate</span><span class="ct-553616">(err)
</span></span><span class="line" line="18"><span class="ct-553616">                    .</span><span class="ct-762058">addConstraintViolation</span><span class="ct-553616">();
</span></span><span class="line" line="19"><span class="ct-553616">            </span><span class="ct-149352">return</span><span class="ct-553616"> </span><span class="ct-617022">false</span><span class="ct-553616">;
</span></span><span class="line" line="20"><span class="ct-553616">        }
</span></span><span class="line" line="21"><span class="ct-553616">        </span><span class="ct-149352">return</span><span class="ct-553616"> </span><span class="ct-617022">true</span><span class="ct-553616">;
</span></span><span class="line" line="22"><span class="ct-553616">    }
</span></span><span class="line" line="23"><span></span></span><span class="line" line="24"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->Let&#39;s breakdown our new validator class:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->ConstraintValidator<!--]--></code> is parameterized with the annotation class and the type being validated--a <code data-v-b931280b><!--[-->String<!--]--></code> containing the value of <em data-v-aa62b5ba><!--[-->category<!--]--></em><!--]--></li><li data-v-c0128672><!--[-->A global field <code data-v-b931280b><!--[-->allowed<!--]--></code>, set within the overridden <code data-v-b931280b><!--[-->initialize<!--]--></code> method
<ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->It is within this method that we gain access to the parameters of <code data-v-b931280b><!--[-->@FoodCategory<!--]--></code> for use throughout the validator class<!--]--></li><!--]--></ul><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->isValid<!--]--></code> is the meat and bones of our constraint validation
<ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->For invalid scenarios, we disable the default constraint violation, build a proper error message, and return false--this eventually throws an exception we&#39;ll be interested in later<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->Lastly, to get the most out of our annotation, we&#39;ll propagate the category field into two subclasses pertaining to each service.<!--]--></p><p data-v-df09d8a4><!--[-->After all our hard work, we&#39;ve reached a clean set of request models ready to be bombarded with invalid values:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FoodRequestModel.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">FoodRequestModel</span><span class="ct-553616"> {
</span></span><span class="line" line="2"><span></span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> String name;
</span></span><span class="line" line="4"><span></span></span><span class="line" line="5"><span class="ct-553616">    @</span><span class="ct-149352">FoodQuantity
</span></span><span class="line" line="6"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">int</span><span class="ct-553616"> quantity;
</span></span><span class="line" line="7"><span></span></span><span class="line" line="8"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">boolean</span><span class="ct-553616"> refrigerated;
</span></span><span class="line" line="9"><span></span></span><span class="line" line="10"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FridgeRequestModel.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">FridgeRequestModel</span><span class="ct-553616"> </span><span class="ct-149352">extends</span><span class="ct-553616"> </span><span class="ct-762058">FoodRequestModel</span><span class="ct-553616"> {
</span></span><span class="line" line="2"><span></span></span><span class="line" line="3"><span class="ct-553616">    @</span><span class="ct-149352">FoodCategory</span><span class="ct-553616">(</span><span class="ct-617022">allowed</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> {</span><span class="ct-952708">&quot;dairy&quot;</span><span class="ct-553616">, </span><span class="ct-952708">&quot;vegetables&quot;</span><span class="ct-553616">, </span><span class="ct-952708">&quot;beer&quot;</span><span class="ct-553616">})
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> String category;
</span></span><span class="line" line="5"><span></span></span><span class="line" line="6"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>PantryRequestModel.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">PantryRequestModel</span><span class="ct-553616"> </span><span class="ct-149352">extends</span><span class="ct-553616"> </span><span class="ct-762058">FoodRequestModel</span><span class="ct-553616"> {
</span></span><span class="line" line="2"><span></span></span><span class="line" line="3"><span class="ct-553616">    @</span><span class="ct-149352">FoodCategory</span><span class="ct-553616">(</span><span class="ct-617022">allowed</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> {</span><span class="ct-952708">&quot;grains&quot;</span><span class="ct-553616">, </span><span class="ct-952708">&quot;canned&quot;</span><span class="ct-553616">, </span><span class="ct-952708">&quot;snacks&quot;</span><span class="ct-553616">})
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> String category;
</span></span><span class="line" line="5"><span></span></span><span class="line" line="6"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="handling-validation-errors" data-v-a4f0448b><a aria-current="page" href="/articles/constraint-violation#handling-validation-errors" class="router-link-active router-link-exact-active" data-v-a4f0448b><!--[-->Handling Validation Errors<!--]--><!----></a></h3><p data-v-df09d8a4><!--[-->Until now, we&#39;ve only defined constraints we (and our consumers) must follow.  Let&#39;s open up an endpoint to allow food to be added to the fridge and test our constraints:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>FridgeController.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">@</span><span class="ct-149352">Slf4j
</span></span><span class="line" line="2"><span class="ct-553616">@</span><span class="ct-149352">Validated
</span></span><span class="line" line="3"><span class="ct-553616">@</span><span class="ct-149352">RestController
</span></span><span class="line" line="4"><span class="ct-553616">@</span><span class="ct-149352">RequestMapping</span><span class="ct-553616">(</span><span class="ct-617022">path</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> </span><span class="ct-952708">&quot;/api/v1/fridge&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="5"><span class="ct-553616">@</span><span class="ct-149352">RequiredArgsConstructor</span><span class="ct-553616">(</span><span class="ct-617022">onConstructor_</span><span class="ct-553616"> </span><span class="ct-149352">=</span><span class="ct-553616"> @</span><span class="ct-149352">Autowired</span><span class="ct-553616">)
</span></span><span class="line" line="6"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">FridgeController</span><span class="ct-553616"> {
</span></span><span class="line" line="7"><span></span></span><span class="line" line="8"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">final</span><span class="ct-553616"> FridgeService fridgeService;
</span></span><span class="line" line="9"><span></span></span><span class="line" line="10"><span class="ct-553616">    @</span><span class="ct-149352">PostMapping</span><span class="ct-553616">(</span><span class="ct-952708">&quot;/food&quot;</span><span class="ct-553616">)
</span></span><span class="line" line="11"><span class="ct-553616">    </span><span class="ct-149352">public</span><span class="ct-553616"> ResponseEntity&lt;</span><span class="ct-149352">FoodResponseModel</span><span class="ct-553616">&gt; </span><span class="ct-762058">addFoodToFridgeV1</span><span class="ct-553616">(
</span></span><span class="line" line="12"><span class="ct-553616">            @</span><span class="ct-149352">Valid</span><span class="ct-553616"> @</span><span class="ct-149352">RequestBody</span><span class="ct-553616"> FridgeRequestModel </span><span class="ct-157101">request</span><span class="ct-553616">) {
</span></span><span class="line" line="13"><span></span></span><span class="line" line="14"><span class="ct-553616">        log.</span><span class="ct-762058">info</span><span class="ct-553616">(</span><span class="ct-952708">&quot;addFoodToFridgeV1: request=[{}]&quot;</span><span class="ct-553616">, request);
</span></span><span class="line" line="15"><span class="ct-553616">        FoodResponseModel response </span><span class="ct-149352">=</span><span class="ct-553616"> fridgeService.</span><span class="ct-762058">addFoodToFridge</span><span class="ct-553616">(request);
</span></span><span class="line" line="16"><span class="ct-553616">        </span><span class="ct-149352">return</span><span class="ct-553616"> ResponseEntity.</span><span class="ct-762058">ok</span><span class="ct-553616">(response);
</span></span><span class="line" line="17"><span class="ct-553616">    }
</span></span><span class="line" line="18"><span></span></span><span class="line" line="19"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->There are a few critical aspects to note for our annotations to work properly:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Validated<!--]--></code> must be used either at the <em data-v-aa62b5ba><!--[-->class<!--]--></em> or <em data-v-aa62b5ba><!--[-->method<!--]--></em> level to indicate where validation needs to take place<!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@Valid<!--]--></code> is used to mark a <em data-v-aa62b5ba><!--[-->property<!--]--></em> for validation cascading, which triggers our constraints<!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->Let&#39;s send a payload:<!--]--></p><div class="highlight-json prose-code" meta data-v-b5601217><!----><!--[--><pre class="language-json github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-086898">// POST {{baseUrl}}/api/v1/fridge/food
</span></span><span class="line" line="2"><span class="ct-553616">{
</span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-617022">&quot;name&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;milk&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-617022">&quot;category&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;dairy&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="5"><span class="ct-553616">    </span><span class="ct-617022">&quot;quantity&quot;</span><span class="ct-553616">: </span><span class="ct-617022">2</span><span class="ct-553616">,
</span></span><span class="line" line="6"><span class="ct-553616">    </span><span class="ct-617022">&quot;refrigerated&quot;</span><span class="ct-553616">: </span><span class="ct-617022">true
</span></span><span class="line" line="7"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->Success!  But let&#39;s see what happens when we send another payload we know will result in error:<!--]--></p><div class="highlight-json prose-code" meta data-v-b5601217><!----><!--[--><pre class="language-json github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-086898">// POST {{baseUrl}}/api/v1/fridge/food
</span></span><span class="line" line="2"><span class="ct-553616">{
</span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-617022">&quot;name&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;pinto beans&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-617022">&quot;category&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;legumes&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="5"><span class="ct-553616">    </span><span class="ct-617022">&quot;quantity&quot;</span><span class="ct-553616">: </span><span class="ct-617022">-3</span><span class="ct-553616">,
</span></span><span class="line" line="6"><span class="ct-553616">    </span><span class="ct-617022">&quot;refrigerated&quot;</span><span class="ct-553616">: </span><span class="ct-617022">true
</span></span><span class="line" line="7"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->Note we are violating multiple constraints for this request model.  You should see a verbose response containing the details of the errors encountered and the exceptions thrown.  This verbosity isn&#39;t ideal for us (or our consumers) to deal with, so let&#39;s filter out important details with a simple override of the <code data-v-b931280b><!--[-->ResponseEntityExceptionHandler<!--]--></code>.<!--]--></p><p data-v-df09d8a4><!--[-->A further look into the error response provided by Spring, you may notice the exception thrown: <code data-v-b931280b><!--[-->MethodArgumentNotValidException<!--]--></code>.  This is the exception we will be interested in for handling constraint violations within the exception handler.<!--]--></p><p data-v-df09d8a4><!--[-->First, we need a model to capture relevant information.  We&#39;re able to distill the following from the original Spring response:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>ErrorResponseModel.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">ErrorResponseModel</span><span class="ct-553616"> {
</span></span><span class="line" line="2"><span></span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">final</span><span class="ct-553616"> String errorMessage;
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">final</span><span class="ct-553616"> LocalDateTime timestamp;
</span></span><span class="line" line="5"><span class="ct-553616">    </span><span class="ct-149352">private</span><span class="ct-553616"> </span><span class="ct-149352">final</span><span class="ct-553616"> String path;
</span></span><span class="line" line="6"><span></span></span><span class="line" line="7"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->Next, we&#39;ll construct both the global exception handler and a method to handle our constraints:<!--]--></p><div class="highlight-java prose-code" meta data-v-b5601217><span class="filename" data-v-b5601217>ErrorController.java</span><!--[--><pre class="language-java github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">@</span><span class="ct-149352">Slf4j
</span></span><span class="line" line="2"><span class="ct-553616">@</span><span class="ct-149352">RestControllerAdvice
</span></span><span class="line" line="3"><span class="ct-149352">public</span><span class="ct-553616"> </span><span class="ct-149352">class</span><span class="ct-553616"> </span><span class="ct-762058">ErrorController</span><span class="ct-553616"> </span><span class="ct-149352">extends</span><span class="ct-553616"> </span><span class="ct-762058">ResponseEntityExceptionHandler</span><span class="ct-553616"> {
</span></span><span class="line" line="4"><span></span></span><span class="line" line="5"><span class="ct-553616">    @</span><span class="ct-149352">Override
</span></span><span class="line" line="6"><span class="ct-553616">    </span><span class="ct-149352">protected</span><span class="ct-553616"> </span><span class="ct-149352">final</span><span class="ct-553616"> ResponseEntity&lt;</span><span class="ct-149352">Object</span><span class="ct-553616">&gt; </span><span class="ct-762058">handleMethodArgumentNotValid</span><span class="ct-553616">(
</span></span><span class="line" line="7"><span class="ct-553616">            MethodArgumentNotValidException </span><span class="ct-157101">ex</span><span class="ct-553616">,
</span></span><span class="line" line="8"><span class="ct-553616">            HttpHeaders </span><span class="ct-157101">headers</span><span class="ct-553616">,
</span></span><span class="line" line="9"><span class="ct-553616">            HttpStatus </span><span class="ct-157101">status</span><span class="ct-553616">,
</span></span><span class="line" line="10"><span class="ct-553616">            WebRequest </span><span class="ct-157101">request</span><span class="ct-553616">) {
</span></span><span class="line" line="11"><span></span></span><span class="line" line="12"><span class="ct-553616">        List&lt;</span><span class="ct-149352">String</span><span class="ct-553616">&gt; errorMessages </span><span class="ct-149352">=</span><span class="ct-553616"> ex.</span><span class="ct-762058">getBindingResult</span><span class="ct-553616">().</span><span class="ct-762058">getAllErrors</span><span class="ct-553616">().</span><span class="ct-762058">stream</span><span class="ct-553616">()
</span></span><span class="line" line="13"><span class="ct-553616">                .</span><span class="ct-762058">map</span><span class="ct-553616">(DefaultMessageSourceResolvable</span><span class="ct-149352">::</span><span class="ct-553616">getDefaultMessage)
</span></span><span class="line" line="14"><span class="ct-553616">                .</span><span class="ct-762058">collect</span><span class="ct-553616">(Collectors.</span><span class="ct-762058">toList</span><span class="ct-553616">());
</span></span><span class="line" line="15"><span class="ct-553616">        log.</span><span class="ct-762058">error</span><span class="ct-553616">(</span><span class="ct-952708">&quot;handleMethodArgumentNotValid: errors=[{}]&quot;</span><span class="ct-553616">, errorMessages);
</span></span><span class="line" line="16"><span class="ct-553616">        </span><span class="ct-149352">return</span><span class="ct-553616"> </span><span class="ct-149352">new</span><span class="ct-553616"> ResponseEntity&lt;&gt;(
</span></span><span class="line" line="17"><span class="ct-553616">                ErrorResponseModel.</span><span class="ct-762058">builder</span><span class="ct-553616">()
</span></span><span class="line" line="18"><span class="ct-553616">                        .</span><span class="ct-762058">errorMessage</span><span class="ct-553616">(errorMessages.</span><span class="ct-762058">get</span><span class="ct-553616">(</span><span class="ct-617022">0</span><span class="ct-553616">))
</span></span><span class="line" line="19"><span class="ct-553616">                        .</span><span class="ct-762058">timestamp</span><span class="ct-553616">(LocalDateTime.</span><span class="ct-762058">now</span><span class="ct-553616">())
</span></span><span class="line" line="20"><span class="ct-553616">                        .</span><span class="ct-762058">path</span><span class="ct-553616">(request.</span><span class="ct-762058">getDescription</span><span class="ct-553616">(</span><span class="ct-617022">false</span><span class="ct-553616">))
</span></span><span class="line" line="21"><span class="ct-553616">                        .</span><span class="ct-762058">build</span><span class="ct-553616">(),
</span></span><span class="line" line="22"><span class="ct-553616">                HttpStatus.BAD_REQUEST
</span></span><span class="line" line="23"><span class="ct-553616">        );
</span></span><span class="line" line="24"><span class="ct-553616">    }
</span></span><span class="line" line="25"><span></span></span><span class="line" line="26"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-df09d8a4><!--[-->Let&#39;s note a few things here:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->Explore what might differ for violating constraints of <code data-v-b931280b><!--[-->@PathVariable<!--]--></code> or <code data-v-b931280b><!--[-->@RequestParam<!--]--></code><!--]--></li><li data-v-c0128672><!--[--><code data-v-b931280b><!--[-->@RestControllerAdvice<!--]--></code> is just that--a specialized component for classes that declare <code data-v-b931280b><!--[-->@ExceptionHandler<!--]--></code> methods shared across multiple controller classes<!--]--></li><li data-v-c0128672><!--[-->We override the <code data-v-b931280b><!--[-->ResponseEntityExceptionHandler<!--]--></code>&#39;s <code data-v-b931280b><!--[-->handleMethodArgumentNotValid<!--]--></code> method so we may
<ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->Log important information<!--]--></li><li data-v-c0128672><!--[-->Build a small, focused error response<!--]--></li><li data-v-c0128672><!--[-->Return an HTTP status code of our choice, based on the constraint violated<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-df09d8a4><!--[-->Upon sending a payload that violates the constraints we&#39;ve defined, you should see a succinct response indicating where we went wrong:<!--]--></p><div class="highlight-json prose-code" meta data-v-b5601217><!----><!--[--><pre class="language-json github-light_github-dark"><!--[--><code><span class="line" line="1"><span class="ct-553616">{
</span></span><span class="line" line="2"><span class="ct-553616">    </span><span class="ct-617022">&quot;errorMessage&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;Quantity must be positive&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="3"><span class="ct-553616">    </span><span class="ct-617022">&quot;timestamp&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;2020-11-20T19:18:31.1899697&quot;</span><span class="ct-553616">,
</span></span><span class="line" line="4"><span class="ct-553616">    </span><span class="ct-617022">&quot;path&quot;</span><span class="ct-553616">: </span><span class="ct-952708">&quot;uri=/api/v1/pantry/food&quot;
</span></span><span class="line" line="5"><span class="ct-553616">}</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-b5601217 data-v-bfd8e38f><span class="sr-only" data-v-bfd8e38f>Copy to clipboard</span><span class="icon-wrapper" data-v-bfd8e38f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-bfd8e38f style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-0cf8eee3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><hr id="_2" data-v-521b8f77><h2 id="challenge" data-v-d392d013><a aria-current="page" href="/articles/constraint-violation#challenge" class="router-link-active router-link-exact-active" data-v-d392d013><!--[-->Challenge<!--]--><!----></a></h2><p data-v-df09d8a4><!--[-->This tutorial provides some basic forms of constraint validation within a Spring-/Java-based REST service.  If you are looking to take things a bit further, here are a few places you can start:<!--]--></p><ul data-v-1649aaa4><!--[--><li data-v-c0128672><!--[-->Implement nested constraints within a complex request model<!--]--></li><li data-v-c0128672><!--[-->Increase the flexibility of the HTTP status code returned to the consumer<!--]--></li><li data-v-c0128672><!--[-->Expand the sample project to handle the nuance of a composite service--a <em data-v-aa62b5ba><!--[-->Picnic Service<!--]--></em>, for instance<!--]--></li><li data-v-c0128672><!--[-->Explore the <code data-v-b931280b><!--[-->@Constraint<!--]--></code> API further--what might <code data-v-b931280b><!--[-->payload<!--]--></code> and <code data-v-b931280b><!--[-->groups<!--]--></code> be used for?<!--]--></li><!--]--></ul><hr id="_3" data-v-521b8f77><h2 id="closing" data-v-d392d013><a aria-current="page" href="/articles/constraint-violation#closing" class="router-link-active router-link-exact-active" data-v-d392d013><!--[-->Closing<!--]--><!----></a></h2><p data-v-df09d8a4><!--[-->This concludes the tutorial on implementing custom constraint validators using annotations!  Don&#39;t be afraid to let me know if I missed anything.  I certainly welcome (and appreciate) criticism, questions, and the like.<!--]--></p><p data-v-df09d8a4><!--[-->For further reference, here is the <a href="https://github.com/Verley93/annotation-validation" rel="nofollow" data-v-c180f33c><!--[-->GitHub repository<!--]--></a> with the full working code and examples presented in this article.<!--]--></p><style>.github-light_github-dark{color:#24292e;background:#fff;}.dark .github-light_github-dark{color:#e1e4e8;background:#24292e;}.ct-553616{color:#24292E;}.dark .ct-553616{color:#E1E4E8;}.ct-952708{color:#032F62;}.dark .ct-952708{color:#9ECBFF;}.ct-149352{color:#D73A49;}.dark .ct-149352{color:#F97583;}.ct-762058{color:#6F42C1;}.dark .ct-762058{color:#B392F0;}.ct-617022{color:#005CC5;}.dark .ct-617022{color:#79B8FF;}.ct-157101{color:#E36209;}.dark .ct-157101{color:#FFAB70;}.ct-086898{color:#6A737D;}</style></div><!--]--><div class="back-to-top" data-v-d14d4756><a data-v-d14d4756 data-v-c180f33c><!--[-->Back to top <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d14d4756 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-0cf8eee3><path fill="currentColor" d="M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20h-2Z"/></svg><!--]--></a></div></div></article></div><!--]--><footer class="center" data-v-f8222c19 data-v-df174f81><!----><div class="navigation" data-v-df174f81><nav data-v-df174f81 data-v-9e5f9383><ul data-v-9e5f9383><!--[--><li data-v-9e5f9383><a href="/" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> About</a></li><li data-v-9e5f9383><a href="/articles" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Articles</a></li><li data-v-9e5f9383><a href="/contact" class="" data-v-9e5f9383><span class="underline-fx" data-v-9e5f9383></span> Contact</a></li><!--]--></ul></nav></div><p class="message" data-v-df174f81>Follow me on</p><div class="icons" data-v-df174f81><div class="social" data-v-df174f81><!--[--><a href="https://twitter.com/verley93" rel="noopener noreferrer" target="_blank" title="verley93" aria-label="verley93" data-v-fa130baf><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fa130baf style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-0cf8eee3><path fill="currentColor" d="M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12Z"/></svg></a><a href="https://instagram.com/devlinverley" rel="noopener noreferrer" target="_blank" title="devlinverley" aria-label="devlinverley" data-v-fa130baf><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fa130baf style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-0cf8eee3><path fill="currentColor" d="M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z"/></svg></a><a href="https://github.com/verley93" rel="noopener noreferrer" target="_blank" title="verley93" aria-label="verley93" data-v-fa130baf><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fa130baf style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-0cf8eee3><path fill="currentColor" d="M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.563 4.937a2.368 2.368 0 0 1 .675 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247Z"/></svg></a><a href="https://www.medium.com/@verley93" rel="noopener noreferrer" target="_blank" title="Medium" aria-label="Medium" data-v-fa130baf><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fa130baf style="" width="1em" height="1em" viewBox="0 0 16 16" data-v-0cf8eee3><path fill="currentColor" d="M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8zm4.95 0c0 2.34-1.01 4.236-2.256 4.236c-1.246 0-2.256-1.897-2.256-4.236c0-2.34 1.01-4.236 2.256-4.236c1.246 0 2.256 1.897 2.256 4.236zM16 8c0 2.096-.355 3.795-.794 3.795c-.438 0-.793-1.7-.793-3.795c0-2.096.355-3.795.794-3.795c.438 0 .793 1.699.793 3.795z"/></svg></a><a href="https://www.linkedin.com/in/devlinverley" rel="noopener noreferrer" target="_blank" title="LinkedIn" aria-label="LinkedIn" data-v-fa130baf><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fa130baf style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-0cf8eee3><path fill="currentColor" d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2ZM8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12Zm12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z"/></svg></a><!--]--></div><div class="color-mode-switch" data-v-df174f81><button aria-label="Color Mode" data-v-df174f81 data-v-73c17c73><span data-v-73c17c73></span></button></div></div></footer><!--]--></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/articles/constraint-violation/_payload.json">[{"state":1,"_errors":4738,"serverRendered":4314,"path":7,"prerenderedAt":-1},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":4279,"$sdd-globals":4694,"$scolor-mode":4696,"$sdd-navigation":4698,"$sicons":4719},["ShallowRef",4],["ShallowReactive",5],{"/articles/constraint-violation":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":11,"description":12,"cover":13,"draft":9,"date":14,"author":15,"layout":19,"body":20,"_type":4274,"_id":4275,"_source":4276,"_file":4277,"_extension":4278},"/articles/constraint-violation","articles",false,"","Constraint Validation in Spring Boot Microservices","A lightweight intro to validating requests via annotations in Java.","/articles/maximilian-weisbecker-unsplash.webp","2020-09-27T00:00:00.000Z",{"name":16,"avatarUrl":17,"link":18},"Devlin Verley","https://drive.google.com/file/d/1G2pwYWjHjdoXqfTsbyKtRnYl6mUFlvCH/view?usp=sharing","https://twitter.com/verley93","article",{"type":21,"children":22,"toc":4264},"root",[23,31,40,47,67,99,160,171,182,186,192,206,214,221,226,254,260,278,291,296,589,612,981,986,1051,1056,1060,1072,1102,1113,1498,1534,2078,2083,2153,2158,2163,2301,2446,2590,2596,2601,2994,2999,3042,3047,3177,3182,3301,3311,3323,3328,3455,3460,3996,4001,4072,4077,4168,4172,4178,4183,4230,4234,4240,4245,4258],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28],{"type":29,"value":30},"text","In a microservice architecture, services may accept several, if not many, of the same inputs. This pattern can easily lead to code duplication and redundancy between services. In an effort to mitigate these drawbacks and keep service code focused, we can devise a robust solution involving several APIs provided by Spring and Java.",{"type":24,"tag":25,"props":32,"children":33},{},[34],{"type":24,"tag":35,"props":36,"children":37},"em",{},[38],{"type":29,"value":39},"The following tutorial will assume some working knowledge of Java and Spring Boot, but will cater to a range of skill levels. Regardless, it never hurts to see another developer's code!",{"type":24,"tag":41,"props":42,"children":44},"h2",{"id":43},"background",[45],{"type":29,"value":46},"Background",{"type":24,"tag":25,"props":48,"children":49},{},[50,52,58,60,65],{"type":29,"value":51},"Our solution will involve combining the Java and Spring Boot APIs, ",{"type":24,"tag":53,"props":54,"children":55},"code",{},[56],{"type":29,"value":57},"ConstraintValidator",{"type":29,"value":59}," and ",{"type":24,"tag":53,"props":61,"children":62},{},[63],{"type":29,"value":64},"ResponseEntityExceptionHandler",{"type":29,"value":66},", respectively.",{"type":24,"tag":25,"props":68,"children":69},{},[70,79,81,88,90,97],{"type":24,"tag":71,"props":72,"children":76},"a",{"href":73,"rel":74},"http://hibernate.org/validator/",[75],"nofollow",[77],{"type":29,"value":78},"Hibernate Validator",{"type":29,"value":80},", enhanced as part of ",{"type":24,"tag":71,"props":82,"children":85},{"href":83,"rel":84},"https://jcp.org/en/jsr/detail?id=380",[75],[86],{"type":29,"value":87},"JSR 380",{"type":29,"value":89},", is a specification of the Java API for standard ",{"type":24,"tag":71,"props":91,"children":94},{"href":92,"rel":93},"https://beanvalidation.org/",[75],[95],{"type":29,"value":96},"Bean validation",{"type":29,"value":98},".  In the context of Spring Boot applications, you may have used this without thinking twice.  Examples include:",{"type":24,"tag":100,"props":101,"children":102},"ul",{},[103,112,120,128,136,144,152],{"type":24,"tag":104,"props":105,"children":106},"li",{},[107],{"type":24,"tag":53,"props":108,"children":109},{},[110],{"type":29,"value":111},"@NotNull",{"type":24,"tag":104,"props":113,"children":114},{},[115],{"type":24,"tag":53,"props":116,"children":117},{},[118],{"type":29,"value":119},"@Min",{"type":24,"tag":104,"props":121,"children":122},{},[123],{"type":24,"tag":53,"props":124,"children":125},{},[126],{"type":29,"value":127},"@Max",{"type":24,"tag":104,"props":129,"children":130},{},[131],{"type":24,"tag":53,"props":132,"children":133},{},[134],{"type":29,"value":135},"@Pattern",{"type":24,"tag":104,"props":137,"children":138},{},[139],{"type":24,"tag":53,"props":140,"children":141},{},[142],{"type":29,"value":143},"@Past",{"type":24,"tag":104,"props":145,"children":146},{},[147],{"type":24,"tag":53,"props":148,"children":149},{},[150],{"type":29,"value":151},"@Email",{"type":24,"tag":104,"props":153,"children":154},{},[155],{"type":24,"tag":53,"props":156,"children":157},{},[158],{"type":29,"value":159},"@PositiveOrZero",{"type":24,"tag":25,"props":161,"children":162},{},[163,165,169],{"type":29,"value":164},"In this tutorial, we will examine how to go beyond these basic validations using the ",{"type":24,"tag":53,"props":166,"children":167},{},[168],{"type":29,"value":57},{"type":29,"value":170}," interface to define our own set of constraints.",{"type":24,"tag":25,"props":172,"children":173},{},[174,176,180],{"type":29,"value":175},"While other forms of exception handling exist within the Spring ecosystem, the ",{"type":24,"tag":53,"props":177,"children":178},{},[179],{"type":29,"value":64},{"type":29,"value":181}," provides global (and centralized) exception handling within a service.  This globalization is key to the efficacy of our custom constraint annotation since it allows us to validate multiple Beans (or fields within them). That said, we will investigate how we can leverage this class to gracefully handle violations to our constraints.",{"type":24,"tag":183,"props":184,"children":185},"hr",{"id":10},[],{"type":24,"tag":41,"props":187,"children":189},{"id":188},"implementation",[190],{"type":29,"value":191},"Implementation",{"type":24,"tag":25,"props":193,"children":194},{},[195,197,204],{"type":29,"value":196},"Let's dive in.  To avoid bloating the tutorial with boilerplate code, you will only find necessary blocks of code in the sections below.  This article is coupled with a working example on ",{"type":24,"tag":71,"props":198,"children":201},{"href":199,"rel":200},"https://github.com/Verley93/annotation-validation",[75],[202],{"type":29,"value":203},"GitHub",{"type":29,"value":205},".",{"type":24,"tag":25,"props":207,"children":208},{},[209],{"type":24,"tag":35,"props":210,"children":211},{},[212],{"type":29,"value":213},"Note: I will be making references to this example project throughout the tutorial.",{"type":24,"tag":215,"props":216,"children":218},"h3",{"id":217},"dependencies",[219],{"type":29,"value":220},"Dependencies",{"type":24,"tag":25,"props":222,"children":223},{},[224],{"type":29,"value":225},"The list is short and sweet:",{"type":24,"tag":227,"props":228,"children":232},"pre",{"className":229,"code":230,"language":231,"meta":10},"language-groovy github-light_github-dark","implementation 'org.springframework.boot:spring-boot-starter-validation'\n","groovy",[233],{"type":24,"tag":53,"props":234,"children":235},{"__ignoreMap":10},[236],{"type":24,"tag":237,"props":238,"children":241},"span",{"class":239,"line":240},"line",1,[242,248],{"type":24,"tag":237,"props":243,"children":245},{"class":244},"ct-553616",[246],{"type":29,"value":247},"implementation ",{"type":24,"tag":237,"props":249,"children":251},{"class":250},"ct-952708",[252],{"type":29,"value":253},"'org.springframework.boot:spring-boot-starter-validation'",{"type":24,"tag":215,"props":255,"children":257},{"id":256},"creating-the-annotations",[258],{"type":29,"value":259},"Creating the Annotations",{"type":24,"tag":25,"props":261,"children":262},{},[263,265,270,271,276],{"type":29,"value":264},"We'll start simple.  Let's say we've implemented a ",{"type":24,"tag":35,"props":266,"children":267},{},[268],{"type":29,"value":269},"Fridge",{"type":29,"value":59},{"type":24,"tag":35,"props":272,"children":273},{},[274],{"type":29,"value":275},"Pantry Service",{"type":29,"value":277}," of which allows us to:",{"type":24,"tag":100,"props":279,"children":280},{},[281,286],{"type":24,"tag":104,"props":282,"children":283},{},[284],{"type":29,"value":285},"Manage the Fridge and Pantry repositories",{"type":24,"tag":104,"props":287,"children":288},{},[289],{"type":29,"value":290},"Accept POST and/or PUT requests with a JSON payload",{"type":24,"tag":25,"props":292,"children":293},{},[294],{"type":29,"value":295},"We want to validate common fields between request models of both services.  Our request model may look something like this:",{"type":24,"tag":227,"props":297,"children":302},{"className":298,"code":299,"filename":300,"language":301,"meta":10},"language-java github-light_github-dark","public class FoodRequestModel {\n\n    private String name;\n\n    @PositiveOrZero(message = \"Quantity must be positive\")\n    @Max(value = 25, message = \"Quantity must not exceed 25\")\n    private int quantity;\n\n    private String category;\n\n    private boolean refrigerated;\n\n}\n","FoodRequestModel.java","java",[303],{"type":24,"tag":53,"props":304,"children":305},{"__ignoreMap":10},[306,340,347,366,373,421,490,516,523,540,547,573,580],{"type":24,"tag":237,"props":307,"children":308},{"class":239,"line":240},[309,315,320,325,329,335],{"type":24,"tag":237,"props":310,"children":312},{"class":311},"ct-149352",[313],{"type":29,"value":314},"public",{"type":24,"tag":237,"props":316,"children":317},{"class":244},[318],{"type":29,"value":319}," ",{"type":24,"tag":237,"props":321,"children":322},{"class":311},[323],{"type":29,"value":324},"class",{"type":24,"tag":237,"props":326,"children":327},{"class":244},[328],{"type":29,"value":319},{"type":24,"tag":237,"props":330,"children":332},{"class":331},"ct-762058",[333],{"type":29,"value":334},"FoodRequestModel",{"type":24,"tag":237,"props":336,"children":337},{"class":244},[338],{"type":29,"value":339}," {\n",{"type":24,"tag":237,"props":341,"children":343},{"class":239,"line":342},2,[344],{"type":24,"tag":237,"props":345,"children":346},{},[],{"type":24,"tag":237,"props":348,"children":350},{"class":239,"line":349},3,[351,356,361],{"type":24,"tag":237,"props":352,"children":353},{"class":244},[354],{"type":29,"value":355},"    ",{"type":24,"tag":237,"props":357,"children":358},{"class":311},[359],{"type":29,"value":360},"private",{"type":24,"tag":237,"props":362,"children":363},{"class":244},[364],{"type":29,"value":365}," String name;\n",{"type":24,"tag":237,"props":367,"children":369},{"class":239,"line":368},4,[370],{"type":24,"tag":237,"props":371,"children":372},{},[],{"type":24,"tag":237,"props":374,"children":376},{"class":239,"line":375},5,[377,382,387,392,398,402,407,411,416],{"type":24,"tag":237,"props":378,"children":379},{"class":244},[380],{"type":29,"value":381},"    @",{"type":24,"tag":237,"props":383,"children":384},{"class":311},[385],{"type":29,"value":386},"PositiveOrZero",{"type":24,"tag":237,"props":388,"children":389},{"class":244},[390],{"type":29,"value":391},"(",{"type":24,"tag":237,"props":393,"children":395},{"class":394},"ct-617022",[396],{"type":29,"value":397},"message",{"type":24,"tag":237,"props":399,"children":400},{"class":244},[401],{"type":29,"value":319},{"type":24,"tag":237,"props":403,"children":404},{"class":311},[405],{"type":29,"value":406},"=",{"type":24,"tag":237,"props":408,"children":409},{"class":244},[410],{"type":29,"value":319},{"type":24,"tag":237,"props":412,"children":413},{"class":250},[414],{"type":29,"value":415},"\"Quantity must be positive\"",{"type":24,"tag":237,"props":417,"children":418},{"class":244},[419],{"type":29,"value":420},")\n",{"type":24,"tag":237,"props":422,"children":424},{"class":239,"line":423},6,[425,429,434,438,443,447,451,455,460,465,469,473,477,481,486],{"type":24,"tag":237,"props":426,"children":427},{"class":244},[428],{"type":29,"value":381},{"type":24,"tag":237,"props":430,"children":431},{"class":311},[432],{"type":29,"value":433},"Max",{"type":24,"tag":237,"props":435,"children":436},{"class":244},[437],{"type":29,"value":391},{"type":24,"tag":237,"props":439,"children":440},{"class":394},[441],{"type":29,"value":442},"value",{"type":24,"tag":237,"props":444,"children":445},{"class":244},[446],{"type":29,"value":319},{"type":24,"tag":237,"props":448,"children":449},{"class":311},[450],{"type":29,"value":406},{"type":24,"tag":237,"props":452,"children":453},{"class":244},[454],{"type":29,"value":319},{"type":24,"tag":237,"props":456,"children":457},{"class":394},[458],{"type":29,"value":459},"25",{"type":24,"tag":237,"props":461,"children":462},{"class":244},[463],{"type":29,"value":464},", ",{"type":24,"tag":237,"props":466,"children":467},{"class":394},[468],{"type":29,"value":397},{"type":24,"tag":237,"props":470,"children":471},{"class":244},[472],{"type":29,"value":319},{"type":24,"tag":237,"props":474,"children":475},{"class":311},[476],{"type":29,"value":406},{"type":24,"tag":237,"props":478,"children":479},{"class":244},[480],{"type":29,"value":319},{"type":24,"tag":237,"props":482,"children":483},{"class":250},[484],{"type":29,"value":485},"\"Quantity must not exceed 25\"",{"type":24,"tag":237,"props":487,"children":488},{"class":244},[489],{"type":29,"value":420},{"type":24,"tag":237,"props":491,"children":493},{"class":239,"line":492},7,[494,498,502,506,511],{"type":24,"tag":237,"props":495,"children":496},{"class":244},[497],{"type":29,"value":355},{"type":24,"tag":237,"props":499,"children":500},{"class":311},[501],{"type":29,"value":360},{"type":24,"tag":237,"props":503,"children":504},{"class":244},[505],{"type":29,"value":319},{"type":24,"tag":237,"props":507,"children":508},{"class":311},[509],{"type":29,"value":510},"int",{"type":24,"tag":237,"props":512,"children":513},{"class":244},[514],{"type":29,"value":515}," quantity;\n",{"type":24,"tag":237,"props":517,"children":519},{"class":239,"line":518},8,[520],{"type":24,"tag":237,"props":521,"children":522},{},[],{"type":24,"tag":237,"props":524,"children":526},{"class":239,"line":525},9,[527,531,535],{"type":24,"tag":237,"props":528,"children":529},{"class":244},[530],{"type":29,"value":355},{"type":24,"tag":237,"props":532,"children":533},{"class":311},[534],{"type":29,"value":360},{"type":24,"tag":237,"props":536,"children":537},{"class":244},[538],{"type":29,"value":539}," String category;\n",{"type":24,"tag":237,"props":541,"children":543},{"class":239,"line":542},10,[544],{"type":24,"tag":237,"props":545,"children":546},{},[],{"type":24,"tag":237,"props":548,"children":550},{"class":239,"line":549},11,[551,555,559,563,568],{"type":24,"tag":237,"props":552,"children":553},{"class":244},[554],{"type":29,"value":355},{"type":24,"tag":237,"props":556,"children":557},{"class":311},[558],{"type":29,"value":360},{"type":24,"tag":237,"props":560,"children":561},{"class":244},[562],{"type":29,"value":319},{"type":24,"tag":237,"props":564,"children":565},{"class":311},[566],{"type":29,"value":567},"boolean",{"type":24,"tag":237,"props":569,"children":570},{"class":244},[571],{"type":29,"value":572}," refrigerated;\n",{"type":24,"tag":237,"props":574,"children":576},{"class":239,"line":575},12,[577],{"type":24,"tag":237,"props":578,"children":579},{},[],{"type":24,"tag":237,"props":581,"children":583},{"class":239,"line":582},13,[584],{"type":24,"tag":237,"props":585,"children":586},{"class":244},[587],{"type":29,"value":588},"}",{"type":24,"tag":25,"props":590,"children":591},{},[592,594,598,599,603,605,610],{"type":29,"value":593},"One of the simplest constraints we can build will involve composing existing constraints, such as ",{"type":24,"tag":53,"props":595,"children":596},{},[597],{"type":29,"value":159},{"type":29,"value":59},{"type":24,"tag":53,"props":600,"children":601},{},[602],{"type":29,"value":127},{"type":29,"value":604}," in the example above.  This allows us to put an explicit label on common constraints and call it \"business logic\".  Below, we define ",{"type":24,"tag":53,"props":606,"children":607},{},[608],{"type":29,"value":609},"@FoodQuantity",{"type":29,"value":611},":",{"type":24,"tag":227,"props":613,"children":616},{"className":298,"code":614,"filename":615,"language":301,"meta":10},"@Documented\n@PositiveOrZero(message = \"Quantity must be positive\")\n@Max(value = 25, message = \"Quantity must not exceed 25\")\n@Constraint(validatedBy = {})\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\npublic @interface FoodQuantity {\n\n    String message() default \"Invalid quantity\";\n\n    Class\u003C?>[] groups() default {};\n\n    Class\u003C? extends Payload>[] payload() default {};\n\n}\n","FoodQuantity.java",[617],{"type":24,"tag":53,"props":618,"children":619},{"__ignoreMap":10},[620,633,672,735,769,786,803,833,839,875,881,917,923,966,973],{"type":24,"tag":237,"props":621,"children":622},{"class":239,"line":240},[623,628],{"type":24,"tag":237,"props":624,"children":625},{"class":244},[626],{"type":29,"value":627},"@",{"type":24,"tag":237,"props":629,"children":630},{"class":311},[631],{"type":29,"value":632},"Documented\n",{"type":24,"tag":237,"props":634,"children":635},{"class":239,"line":342},[636,640,644,648,652,656,660,664,668],{"type":24,"tag":237,"props":637,"children":638},{"class":244},[639],{"type":29,"value":627},{"type":24,"tag":237,"props":641,"children":642},{"class":311},[643],{"type":29,"value":386},{"type":24,"tag":237,"props":645,"children":646},{"class":244},[647],{"type":29,"value":391},{"type":24,"tag":237,"props":649,"children":650},{"class":394},[651],{"type":29,"value":397},{"type":24,"tag":237,"props":653,"children":654},{"class":244},[655],{"type":29,"value":319},{"type":24,"tag":237,"props":657,"children":658},{"class":311},[659],{"type":29,"value":406},{"type":24,"tag":237,"props":661,"children":662},{"class":244},[663],{"type":29,"value":319},{"type":24,"tag":237,"props":665,"children":666},{"class":250},[667],{"type":29,"value":415},{"type":24,"tag":237,"props":669,"children":670},{"class":244},[671],{"type":29,"value":420},{"type":24,"tag":237,"props":673,"children":674},{"class":239,"line":349},[675,679,683,687,691,695,699,703,707,711,715,719,723,727,731],{"type":24,"tag":237,"props":676,"children":677},{"class":244},[678],{"type":29,"value":627},{"type":24,"tag":237,"props":680,"children":681},{"class":311},[682],{"type":29,"value":433},{"type":24,"tag":237,"props":684,"children":685},{"class":244},[686],{"type":29,"value":391},{"type":24,"tag":237,"props":688,"children":689},{"class":394},[690],{"type":29,"value":442},{"type":24,"tag":237,"props":692,"children":693},{"class":244},[694],{"type":29,"value":319},{"type":24,"tag":237,"props":696,"children":697},{"class":311},[698],{"type":29,"value":406},{"type":24,"tag":237,"props":700,"children":701},{"class":244},[702],{"type":29,"value":319},{"type":24,"tag":237,"props":704,"children":705},{"class":394},[706],{"type":29,"value":459},{"type":24,"tag":237,"props":708,"children":709},{"class":244},[710],{"type":29,"value":464},{"type":24,"tag":237,"props":712,"children":713},{"class":394},[714],{"type":29,"value":397},{"type":24,"tag":237,"props":716,"children":717},{"class":244},[718],{"type":29,"value":319},{"type":24,"tag":237,"props":720,"children":721},{"class":311},[722],{"type":29,"value":406},{"type":24,"tag":237,"props":724,"children":725},{"class":244},[726],{"type":29,"value":319},{"type":24,"tag":237,"props":728,"children":729},{"class":250},[730],{"type":29,"value":485},{"type":24,"tag":237,"props":732,"children":733},{"class":244},[734],{"type":29,"value":420},{"type":24,"tag":237,"props":736,"children":737},{"class":239,"line":368},[738,742,747,751,756,760,764],{"type":24,"tag":237,"props":739,"children":740},{"class":244},[741],{"type":29,"value":627},{"type":24,"tag":237,"props":743,"children":744},{"class":311},[745],{"type":29,"value":746},"Constraint",{"type":24,"tag":237,"props":748,"children":749},{"class":244},[750],{"type":29,"value":391},{"type":24,"tag":237,"props":752,"children":753},{"class":394},[754],{"type":29,"value":755},"validatedBy",{"type":24,"tag":237,"props":757,"children":758},{"class":244},[759],{"type":29,"value":319},{"type":24,"tag":237,"props":761,"children":762},{"class":311},[763],{"type":29,"value":406},{"type":24,"tag":237,"props":765,"children":766},{"class":244},[767],{"type":29,"value":768}," {})\n",{"type":24,"tag":237,"props":770,"children":771},{"class":239,"line":375},[772,776,781],{"type":24,"tag":237,"props":773,"children":774},{"class":244},[775],{"type":29,"value":627},{"type":24,"tag":237,"props":777,"children":778},{"class":311},[779],{"type":29,"value":780},"Retention",{"type":24,"tag":237,"props":782,"children":783},{"class":244},[784],{"type":29,"value":785},"(RetentionPolicy.RUNTIME)\n",{"type":24,"tag":237,"props":787,"children":788},{"class":239,"line":423},[789,793,798],{"type":24,"tag":237,"props":790,"children":791},{"class":244},[792],{"type":29,"value":627},{"type":24,"tag":237,"props":794,"children":795},{"class":311},[796],{"type":29,"value":797},"Target",{"type":24,"tag":237,"props":799,"children":800},{"class":244},[801],{"type":29,"value":802},"({ElementType.FIELD, ElementType.PARAMETER})\n",{"type":24,"tag":237,"props":804,"children":805},{"class":239,"line":492},[806,810,815,820,824,829],{"type":24,"tag":237,"props":807,"children":808},{"class":311},[809],{"type":29,"value":314},{"type":24,"tag":237,"props":811,"children":812},{"class":244},[813],{"type":29,"value":814}," @",{"type":24,"tag":237,"props":816,"children":817},{"class":311},[818],{"type":29,"value":819},"interface",{"type":24,"tag":237,"props":821,"children":822},{"class":244},[823],{"type":29,"value":319},{"type":24,"tag":237,"props":825,"children":826},{"class":311},[827],{"type":29,"value":828},"FoodQuantity",{"type":24,"tag":237,"props":830,"children":831},{"class":244},[832],{"type":29,"value":339},{"type":24,"tag":237,"props":834,"children":835},{"class":239,"line":518},[836],{"type":24,"tag":237,"props":837,"children":838},{},[],{"type":24,"tag":237,"props":840,"children":841},{"class":239,"line":525},[842,847,851,856,861,865,870],{"type":24,"tag":237,"props":843,"children":844},{"class":244},[845],{"type":29,"value":846},"    String ",{"type":24,"tag":237,"props":848,"children":849},{"class":331},[850],{"type":29,"value":397},{"type":24,"tag":237,"props":852,"children":853},{"class":244},[854],{"type":29,"value":855},"() ",{"type":24,"tag":237,"props":857,"children":858},{"class":311},[859],{"type":29,"value":860},"default",{"type":24,"tag":237,"props":862,"children":863},{"class":244},[864],{"type":29,"value":319},{"type":24,"tag":237,"props":866,"children":867},{"class":250},[868],{"type":29,"value":869},"\"Invalid quantity\"",{"type":24,"tag":237,"props":871,"children":872},{"class":244},[873],{"type":29,"value":874},";\n",{"type":24,"tag":237,"props":876,"children":877},{"class":239,"line":542},[878],{"type":24,"tag":237,"props":879,"children":880},{},[],{"type":24,"tag":237,"props":882,"children":883},{"class":239,"line":549},[884,889,894,899,904,908,912],{"type":24,"tag":237,"props":885,"children":886},{"class":244},[887],{"type":29,"value":888},"    Class",{"type":24,"tag":237,"props":890,"children":891},{"class":311},[892],{"type":29,"value":893},"\u003C?>",{"type":24,"tag":237,"props":895,"children":896},{"class":244},[897],{"type":29,"value":898},"[] ",{"type":24,"tag":237,"props":900,"children":901},{"class":331},[902],{"type":29,"value":903},"groups",{"type":24,"tag":237,"props":905,"children":906},{"class":244},[907],{"type":29,"value":855},{"type":24,"tag":237,"props":909,"children":910},{"class":311},[911],{"type":29,"value":860},{"type":24,"tag":237,"props":913,"children":914},{"class":244},[915],{"type":29,"value":916}," {};\n",{"type":24,"tag":237,"props":918,"children":919},{"class":239,"line":575},[920],{"type":24,"tag":237,"props":921,"children":922},{},[],{"type":24,"tag":237,"props":924,"children":925},{"class":239,"line":582},[926,930,935,940,945,949,954,958,962],{"type":24,"tag":237,"props":927,"children":928},{"class":244},[929],{"type":29,"value":888},{"type":24,"tag":237,"props":931,"children":932},{"class":311},[933],{"type":29,"value":934},"\u003C?",{"type":24,"tag":237,"props":936,"children":937},{"class":244},[938],{"type":29,"value":939}," extends Payload",{"type":24,"tag":237,"props":941,"children":942},{"class":311},[943],{"type":29,"value":944},">",{"type":24,"tag":237,"props":946,"children":947},{"class":244},[948],{"type":29,"value":898},{"type":24,"tag":237,"props":950,"children":951},{"class":331},[952],{"type":29,"value":953},"payload",{"type":24,"tag":237,"props":955,"children":956},{"class":244},[957],{"type":29,"value":855},{"type":24,"tag":237,"props":959,"children":960},{"class":311},[961],{"type":29,"value":860},{"type":24,"tag":237,"props":963,"children":964},{"class":244},[965],{"type":29,"value":916},{"type":24,"tag":237,"props":967,"children":969},{"class":239,"line":968},14,[970],{"type":24,"tag":237,"props":971,"children":972},{},[],{"type":24,"tag":237,"props":974,"children":976},{"class":239,"line":975},15,[977],{"type":24,"tag":237,"props":978,"children":979},{"class":244},[980],{"type":29,"value":588},{"type":24,"tag":25,"props":982,"children":983},{},[984],{"type":29,"value":985},"There's a lot going on here, so let's break this down:",{"type":24,"tag":100,"props":987,"children":988},{},[989,1005,1015,1025],{"type":24,"tag":104,"props":990,"children":991},{},[992,997,999,1003],{"type":24,"tag":53,"props":993,"children":994},{},[995],{"type":29,"value":996},"@Constraint",{"type":29,"value":998}," marks an annotation as being a Bean Validation constraint and allows us to specify ",{"type":24,"tag":53,"props":1000,"children":1001},{},[1002],{"type":29,"value":57},{"type":29,"value":1004}," implementations; zero, one, or many implementations are welcome here",{"type":24,"tag":104,"props":1006,"children":1007},{},[1008,1013],{"type":24,"tag":53,"props":1009,"children":1010},{},[1011],{"type":29,"value":1012},"@Retention",{"type":29,"value":1014}," is set such that our annotation will be retained at runtime",{"type":24,"tag":104,"props":1016,"children":1017},{},[1018,1023],{"type":24,"tag":53,"props":1019,"children":1020},{},[1021],{"type":29,"value":1022},"@Target",{"type":29,"value":1024}," is set such that we can validate different types of inputs to our services",{"type":24,"tag":104,"props":1026,"children":1027},{},[1028,1032,1033,1037,1039,1043,1045,1049],{"type":24,"tag":53,"props":1029,"children":1030},{},[1031],{"type":29,"value":397},{"type":29,"value":464},{"type":24,"tag":53,"props":1034,"children":1035},{},[1036],{"type":29,"value":903},{"type":29,"value":1038},", and ",{"type":24,"tag":53,"props":1040,"children":1041},{},[1042],{"type":29,"value":953},{"type":29,"value":1044}," are required by ",{"type":24,"tag":53,"props":1046,"children":1047},{},[1048],{"type":29,"value":996},{"type":29,"value":1050}," but do not have to be set--these provide specificity beyond what we'll cover today",{"type":24,"tag":25,"props":1052,"children":1053},{},[1054],{"type":29,"value":1055},"By no means is this a simplification.  Looking past the verbosity, the annotation opens quite a few doors to make handling complexity a breeze as we'll see in the next example.",{"type":24,"tag":183,"props":1057,"children":1059},{"id":1058},"_1",[],{"type":24,"tag":25,"props":1061,"children":1062},{},[1063,1065,1070],{"type":29,"value":1064},"Let's define a constraint for the ",{"type":24,"tag":35,"props":1066,"children":1067},{},[1068],{"type":29,"value":1069},"category",{"type":29,"value":1071}," field such that:",{"type":24,"tag":100,"props":1073,"children":1074},{},[1075,1080,1085],{"type":24,"tag":104,"props":1076,"children":1077},{},[1078],{"type":29,"value":1079},"Category must be passed and cannot be empty",{"type":24,"tag":104,"props":1081,"children":1082},{},[1083],{"type":29,"value":1084},"Only certain categories are allowed to be passed",{"type":24,"tag":104,"props":1086,"children":1087},{},[1088,1090,1094,1095,1100],{"type":29,"value":1089},"Categories may differ between the ",{"type":24,"tag":35,"props":1091,"children":1092},{},[1093],{"type":29,"value":269},{"type":29,"value":59},{"type":24,"tag":35,"props":1096,"children":1097},{},[1098],{"type":29,"value":1099},"Pantry",{"type":29,"value":1101}," services",{"type":24,"tag":25,"props":1103,"children":1104},{},[1105,1107,1111],{"type":29,"value":1106},"To implement this annotation, we will expand upon the premise of our first annotation by adding a custom parameter and providing an implementation of the ",{"type":24,"tag":53,"props":1108,"children":1109},{},[1110],{"type":29,"value":57},{"type":29,"value":1112}," interface.  The result looks something like this:",{"type":24,"tag":227,"props":1114,"children":1117},{"className":298,"code":1115,"filename":1116,"language":301,"meta":10},"@Documented\n@NotNull(message = \"Category must be present\")\n@NotEmpty(message = \"Category must not be empty\")\n@Constraint(validatedBy = FoodCategoryValidator.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\npublic @interface FoodCategory {\n\n    String message() default \"Invalid category\";\n\n    Class\u003C?>[] groups() default {};\n\n    Class\u003C? extends Payload>[] payload() default {};\n\n    String[] allowed() default {\"dairy\", \"grain\"};\n\n}\n","FoodCategory.java",[1118],{"type":24,"tag":53,"props":1119,"children":1120},{"__ignoreMap":10},[1121,1132,1173,1214,1246,1261,1276,1304,1310,1342,1348,1379,1385,1424,1430,1483,1490],{"type":24,"tag":237,"props":1122,"children":1123},{"class":239,"line":240},[1124,1128],{"type":24,"tag":237,"props":1125,"children":1126},{"class":244},[1127],{"type":29,"value":627},{"type":24,"tag":237,"props":1129,"children":1130},{"class":311},[1131],{"type":29,"value":632},{"type":24,"tag":237,"props":1133,"children":1134},{"class":239,"line":342},[1135,1139,1144,1148,1152,1156,1160,1164,1169],{"type":24,"tag":237,"props":1136,"children":1137},{"class":244},[1138],{"type":29,"value":627},{"type":24,"tag":237,"props":1140,"children":1141},{"class":311},[1142],{"type":29,"value":1143},"NotNull",{"type":24,"tag":237,"props":1145,"children":1146},{"class":244},[1147],{"type":29,"value":391},{"type":24,"tag":237,"props":1149,"children":1150},{"class":394},[1151],{"type":29,"value":397},{"type":24,"tag":237,"props":1153,"children":1154},{"class":244},[1155],{"type":29,"value":319},{"type":24,"tag":237,"props":1157,"children":1158},{"class":311},[1159],{"type":29,"value":406},{"type":24,"tag":237,"props":1161,"children":1162},{"class":244},[1163],{"type":29,"value":319},{"type":24,"tag":237,"props":1165,"children":1166},{"class":250},[1167],{"type":29,"value":1168},"\"Category must be present\"",{"type":24,"tag":237,"props":1170,"children":1171},{"class":244},[1172],{"type":29,"value":420},{"type":24,"tag":237,"props":1174,"children":1175},{"class":239,"line":349},[1176,1180,1185,1189,1193,1197,1201,1205,1210],{"type":24,"tag":237,"props":1177,"children":1178},{"class":244},[1179],{"type":29,"value":627},{"type":24,"tag":237,"props":1181,"children":1182},{"class":311},[1183],{"type":29,"value":1184},"NotEmpty",{"type":24,"tag":237,"props":1186,"children":1187},{"class":244},[1188],{"type":29,"value":391},{"type":24,"tag":237,"props":1190,"children":1191},{"class":394},[1192],{"type":29,"value":397},{"type":24,"tag":237,"props":1194,"children":1195},{"class":244},[1196],{"type":29,"value":319},{"type":24,"tag":237,"props":1198,"children":1199},{"class":311},[1200],{"type":29,"value":406},{"type":24,"tag":237,"props":1202,"children":1203},{"class":244},[1204],{"type":29,"value":319},{"type":24,"tag":237,"props":1206,"children":1207},{"class":250},[1208],{"type":29,"value":1209},"\"Category must not be empty\"",{"type":24,"tag":237,"props":1211,"children":1212},{"class":244},[1213],{"type":29,"value":420},{"type":24,"tag":237,"props":1215,"children":1216},{"class":239,"line":368},[1217,1221,1225,1229,1233,1237,1241],{"type":24,"tag":237,"props":1218,"children":1219},{"class":244},[1220],{"type":29,"value":627},{"type":24,"tag":237,"props":1222,"children":1223},{"class":311},[1224],{"type":29,"value":746},{"type":24,"tag":237,"props":1226,"children":1227},{"class":244},[1228],{"type":29,"value":391},{"type":24,"tag":237,"props":1230,"children":1231},{"class":394},[1232],{"type":29,"value":755},{"type":24,"tag":237,"props":1234,"children":1235},{"class":244},[1236],{"type":29,"value":319},{"type":24,"tag":237,"props":1238,"children":1239},{"class":311},[1240],{"type":29,"value":406},{"type":24,"tag":237,"props":1242,"children":1243},{"class":244},[1244],{"type":29,"value":1245}," FoodCategoryValidator.class)\n",{"type":24,"tag":237,"props":1247,"children":1248},{"class":239,"line":375},[1249,1253,1257],{"type":24,"tag":237,"props":1250,"children":1251},{"class":244},[1252],{"type":29,"value":627},{"type":24,"tag":237,"props":1254,"children":1255},{"class":311},[1256],{"type":29,"value":780},{"type":24,"tag":237,"props":1258,"children":1259},{"class":244},[1260],{"type":29,"value":785},{"type":24,"tag":237,"props":1262,"children":1263},{"class":239,"line":423},[1264,1268,1272],{"type":24,"tag":237,"props":1265,"children":1266},{"class":244},[1267],{"type":29,"value":627},{"type":24,"tag":237,"props":1269,"children":1270},{"class":311},[1271],{"type":29,"value":797},{"type":24,"tag":237,"props":1273,"children":1274},{"class":244},[1275],{"type":29,"value":802},{"type":24,"tag":237,"props":1277,"children":1278},{"class":239,"line":492},[1279,1283,1287,1291,1295,1300],{"type":24,"tag":237,"props":1280,"children":1281},{"class":311},[1282],{"type":29,"value":314},{"type":24,"tag":237,"props":1284,"children":1285},{"class":244},[1286],{"type":29,"value":814},{"type":24,"tag":237,"props":1288,"children":1289},{"class":311},[1290],{"type":29,"value":819},{"type":24,"tag":237,"props":1292,"children":1293},{"class":244},[1294],{"type":29,"value":319},{"type":24,"tag":237,"props":1296,"children":1297},{"class":311},[1298],{"type":29,"value":1299},"FoodCategory",{"type":24,"tag":237,"props":1301,"children":1302},{"class":244},[1303],{"type":29,"value":339},{"type":24,"tag":237,"props":1305,"children":1306},{"class":239,"line":518},[1307],{"type":24,"tag":237,"props":1308,"children":1309},{},[],{"type":24,"tag":237,"props":1311,"children":1312},{"class":239,"line":525},[1313,1317,1321,1325,1329,1333,1338],{"type":24,"tag":237,"props":1314,"children":1315},{"class":244},[1316],{"type":29,"value":846},{"type":24,"tag":237,"props":1318,"children":1319},{"class":331},[1320],{"type":29,"value":397},{"type":24,"tag":237,"props":1322,"children":1323},{"class":244},[1324],{"type":29,"value":855},{"type":24,"tag":237,"props":1326,"children":1327},{"class":311},[1328],{"type":29,"value":860},{"type":24,"tag":237,"props":1330,"children":1331},{"class":244},[1332],{"type":29,"value":319},{"type":24,"tag":237,"props":1334,"children":1335},{"class":250},[1336],{"type":29,"value":1337},"\"Invalid category\"",{"type":24,"tag":237,"props":1339,"children":1340},{"class":244},[1341],{"type":29,"value":874},{"type":24,"tag":237,"props":1343,"children":1344},{"class":239,"line":542},[1345],{"type":24,"tag":237,"props":1346,"children":1347},{},[],{"type":24,"tag":237,"props":1349,"children":1350},{"class":239,"line":549},[1351,1355,1359,1363,1367,1371,1375],{"type":24,"tag":237,"props":1352,"children":1353},{"class":244},[1354],{"type":29,"value":888},{"type":24,"tag":237,"props":1356,"children":1357},{"class":311},[1358],{"type":29,"value":893},{"type":24,"tag":237,"props":1360,"children":1361},{"class":244},[1362],{"type":29,"value":898},{"type":24,"tag":237,"props":1364,"children":1365},{"class":331},[1366],{"type":29,"value":903},{"type":24,"tag":237,"props":1368,"children":1369},{"class":244},[1370],{"type":29,"value":855},{"type":24,"tag":237,"props":1372,"children":1373},{"class":311},[1374],{"type":29,"value":860},{"type":24,"tag":237,"props":1376,"children":1377},{"class":244},[1378],{"type":29,"value":916},{"type":24,"tag":237,"props":1380,"children":1381},{"class":239,"line":575},[1382],{"type":24,"tag":237,"props":1383,"children":1384},{},[],{"type":24,"tag":237,"props":1386,"children":1387},{"class":239,"line":582},[1388,1392,1396,1400,1404,1408,1412,1416,1420],{"type":24,"tag":237,"props":1389,"children":1390},{"class":244},[1391],{"type":29,"value":888},{"type":24,"tag":237,"props":1393,"children":1394},{"class":311},[1395],{"type":29,"value":934},{"type":24,"tag":237,"props":1397,"children":1398},{"class":244},[1399],{"type":29,"value":939},{"type":24,"tag":237,"props":1401,"children":1402},{"class":311},[1403],{"type":29,"value":944},{"type":24,"tag":237,"props":1405,"children":1406},{"class":244},[1407],{"type":29,"value":898},{"type":24,"tag":237,"props":1409,"children":1410},{"class":331},[1411],{"type":29,"value":953},{"type":24,"tag":237,"props":1413,"children":1414},{"class":244},[1415],{"type":29,"value":855},{"type":24,"tag":237,"props":1417,"children":1418},{"class":311},[1419],{"type":29,"value":860},{"type":24,"tag":237,"props":1421,"children":1422},{"class":244},[1423],{"type":29,"value":916},{"type":24,"tag":237,"props":1425,"children":1426},{"class":239,"line":968},[1427],{"type":24,"tag":237,"props":1428,"children":1429},{},[],{"type":24,"tag":237,"props":1431,"children":1432},{"class":239,"line":975},[1433,1437,1442,1446,1451,1455,1459,1464,1469,1473,1478],{"type":24,"tag":237,"props":1434,"children":1435},{"class":244},[1436],{"type":29,"value":355},{"type":24,"tag":237,"props":1438,"children":1439},{"class":311},[1440],{"type":29,"value":1441},"String",{"type":24,"tag":237,"props":1443,"children":1444},{"class":244},[1445],{"type":29,"value":898},{"type":24,"tag":237,"props":1447,"children":1448},{"class":331},[1449],{"type":29,"value":1450},"allowed",{"type":24,"tag":237,"props":1452,"children":1453},{"class":244},[1454],{"type":29,"value":855},{"type":24,"tag":237,"props":1456,"children":1457},{"class":311},[1458],{"type":29,"value":860},{"type":24,"tag":237,"props":1460,"children":1461},{"class":244},[1462],{"type":29,"value":1463}," {",{"type":24,"tag":237,"props":1465,"children":1466},{"class":250},[1467],{"type":29,"value":1468},"\"dairy\"",{"type":24,"tag":237,"props":1470,"children":1471},{"class":244},[1472],{"type":29,"value":464},{"type":24,"tag":237,"props":1474,"children":1475},{"class":250},[1476],{"type":29,"value":1477},"\"grain\"",{"type":24,"tag":237,"props":1479,"children":1480},{"class":244},[1481],{"type":29,"value":1482},"};\n",{"type":24,"tag":237,"props":1484,"children":1486},{"class":239,"line":1485},16,[1487],{"type":24,"tag":237,"props":1488,"children":1489},{},[],{"type":24,"tag":237,"props":1491,"children":1493},{"class":239,"line":1492},17,[1494],{"type":24,"tag":237,"props":1495,"children":1496},{"class":244},[1497],{"type":29,"value":588},{"type":24,"tag":25,"props":1499,"children":1500},{},[1501,1503,1507,1509,1513,1515,1519,1521,1526,1528,1533],{"type":29,"value":1502},"A few more things are happening in this annotation compared to ",{"type":24,"tag":53,"props":1504,"children":1505},{},[1506],{"type":29,"value":609},{"type":29,"value":1508},".  We've specified a new parameter, ",{"type":24,"tag":53,"props":1510,"children":1511},{},[1512],{"type":29,"value":1450},{"type":29,"value":1514},", to restrict what may be passed into ",{"type":24,"tag":53,"props":1516,"children":1517},{},[1518],{"type":29,"value":1069},{"type":29,"value":1520},".  Notice the default value--this array is only referenced if values are not passed into ",{"type":24,"tag":53,"props":1522,"children":1523},{},[1524],{"type":29,"value":1525},"@FoodCategory",{"type":29,"value":1527},".  To handle this constraint, we've implemented ",{"type":24,"tag":53,"props":1529,"children":1530},{},[1531],{"type":29,"value":1532},"FoodCategoryValidator",{"type":29,"value":611},{"type":24,"tag":227,"props":1535,"children":1538},{"className":298,"code":1536,"filename":1537,"language":301,"meta":10},"@Slf4j\npublic class FoodCategoryValidator implements ConstraintValidator\u003CFoodCategory, String> {\n\n    private List\u003CString> allowed;\n\n    @Override\n    public void initialize(FoodCategory constraintAnnotation) {\n        this.allowed = Arrays.asList(constraintAnnotation.allowed());\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        log.info(\"isValid: value=[{}]\", value);\n        if (!allowed.contains(value.toLowerCase())) {\n            String err = \"Category must be one of the following: \" + allowed;\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(err)\n                    .addConstraintViolation();\n            return false;\n        }\n        return true;\n    }\n\n}\n","FoodCategoryValidator.java",[1539],{"type":24,"tag":53,"props":1540,"children":1541},{"__ignoreMap":10},[1542,1554,1616,1622,1647,1653,1665,1710,1756,1764,1770,1781,1832,1859,1906,1941,1959,1976,1994,2021,2030,2055,2063,2070],{"type":24,"tag":237,"props":1543,"children":1544},{"class":239,"line":240},[1545,1549],{"type":24,"tag":237,"props":1546,"children":1547},{"class":244},[1548],{"type":29,"value":627},{"type":24,"tag":237,"props":1550,"children":1551},{"class":311},[1552],{"type":29,"value":1553},"Slf4j\n",{"type":24,"tag":237,"props":1555,"children":1556},{"class":239,"line":342},[1557,1561,1565,1569,1573,1577,1581,1586,1590,1594,1599,1603,1607,1611],{"type":24,"tag":237,"props":1558,"children":1559},{"class":311},[1560],{"type":29,"value":314},{"type":24,"tag":237,"props":1562,"children":1563},{"class":244},[1564],{"type":29,"value":319},{"type":24,"tag":237,"props":1566,"children":1567},{"class":311},[1568],{"type":29,"value":324},{"type":24,"tag":237,"props":1570,"children":1571},{"class":244},[1572],{"type":29,"value":319},{"type":24,"tag":237,"props":1574,"children":1575},{"class":331},[1576],{"type":29,"value":1532},{"type":24,"tag":237,"props":1578,"children":1579},{"class":244},[1580],{"type":29,"value":319},{"type":24,"tag":237,"props":1582,"children":1583},{"class":311},[1584],{"type":29,"value":1585},"implements",{"type":24,"tag":237,"props":1587,"children":1588},{"class":244},[1589],{"type":29,"value":319},{"type":24,"tag":237,"props":1591,"children":1592},{"class":331},[1593],{"type":29,"value":57},{"type":24,"tag":237,"props":1595,"children":1596},{"class":244},[1597],{"type":29,"value":1598},"\u003C",{"type":24,"tag":237,"props":1600,"children":1601},{"class":311},[1602],{"type":29,"value":1299},{"type":24,"tag":237,"props":1604,"children":1605},{"class":244},[1606],{"type":29,"value":464},{"type":24,"tag":237,"props":1608,"children":1609},{"class":311},[1610],{"type":29,"value":1441},{"type":24,"tag":237,"props":1612,"children":1613},{"class":244},[1614],{"type":29,"value":1615},"> {\n",{"type":24,"tag":237,"props":1617,"children":1618},{"class":239,"line":349},[1619],{"type":24,"tag":237,"props":1620,"children":1621},{},[],{"type":24,"tag":237,"props":1623,"children":1624},{"class":239,"line":368},[1625,1629,1633,1638,1642],{"type":24,"tag":237,"props":1626,"children":1627},{"class":244},[1628],{"type":29,"value":355},{"type":24,"tag":237,"props":1630,"children":1631},{"class":311},[1632],{"type":29,"value":360},{"type":24,"tag":237,"props":1634,"children":1635},{"class":244},[1636],{"type":29,"value":1637}," List\u003C",{"type":24,"tag":237,"props":1639,"children":1640},{"class":311},[1641],{"type":29,"value":1441},{"type":24,"tag":237,"props":1643,"children":1644},{"class":244},[1645],{"type":29,"value":1646},"> allowed;\n",{"type":24,"tag":237,"props":1648,"children":1649},{"class":239,"line":375},[1650],{"type":24,"tag":237,"props":1651,"children":1652},{},[],{"type":24,"tag":237,"props":1654,"children":1655},{"class":239,"line":423},[1656,1660],{"type":24,"tag":237,"props":1657,"children":1658},{"class":244},[1659],{"type":29,"value":381},{"type":24,"tag":237,"props":1661,"children":1662},{"class":311},[1663],{"type":29,"value":1664},"Override\n",{"type":24,"tag":237,"props":1666,"children":1667},{"class":239,"line":492},[1668,1672,1676,1680,1685,1689,1694,1699,1705],{"type":24,"tag":237,"props":1669,"children":1670},{"class":244},[1671],{"type":29,"value":355},{"type":24,"tag":237,"props":1673,"children":1674},{"class":311},[1675],{"type":29,"value":314},{"type":24,"tag":237,"props":1677,"children":1678},{"class":244},[1679],{"type":29,"value":319},{"type":24,"tag":237,"props":1681,"children":1682},{"class":311},[1683],{"type":29,"value":1684},"void",{"type":24,"tag":237,"props":1686,"children":1687},{"class":244},[1688],{"type":29,"value":319},{"type":24,"tag":237,"props":1690,"children":1691},{"class":331},[1692],{"type":29,"value":1693},"initialize",{"type":24,"tag":237,"props":1695,"children":1696},{"class":244},[1697],{"type":29,"value":1698},"(FoodCategory ",{"type":24,"tag":237,"props":1700,"children":1702},{"class":1701},"ct-157101",[1703],{"type":29,"value":1704},"constraintAnnotation",{"type":24,"tag":237,"props":1706,"children":1707},{"class":244},[1708],{"type":29,"value":1709},") {\n",{"type":24,"tag":237,"props":1711,"children":1712},{"class":239,"line":518},[1713,1718,1723,1728,1732,1737,1742,1747,1751],{"type":24,"tag":237,"props":1714,"children":1715},{"class":244},[1716],{"type":29,"value":1717},"        ",{"type":24,"tag":237,"props":1719,"children":1720},{"class":394},[1721],{"type":29,"value":1722},"this",{"type":24,"tag":237,"props":1724,"children":1725},{"class":244},[1726],{"type":29,"value":1727},".allowed ",{"type":24,"tag":237,"props":1729,"children":1730},{"class":311},[1731],{"type":29,"value":406},{"type":24,"tag":237,"props":1733,"children":1734},{"class":244},[1735],{"type":29,"value":1736}," Arrays.",{"type":24,"tag":237,"props":1738,"children":1739},{"class":331},[1740],{"type":29,"value":1741},"asList",{"type":24,"tag":237,"props":1743,"children":1744},{"class":244},[1745],{"type":29,"value":1746},"(constraintAnnotation.",{"type":24,"tag":237,"props":1748,"children":1749},{"class":331},[1750],{"type":29,"value":1450},{"type":24,"tag":237,"props":1752,"children":1753},{"class":244},[1754],{"type":29,"value":1755},"());\n",{"type":24,"tag":237,"props":1757,"children":1758},{"class":239,"line":525},[1759],{"type":24,"tag":237,"props":1760,"children":1761},{"class":244},[1762],{"type":29,"value":1763},"    }\n",{"type":24,"tag":237,"props":1765,"children":1766},{"class":239,"line":542},[1767],{"type":24,"tag":237,"props":1768,"children":1769},{},[],{"type":24,"tag":237,"props":1771,"children":1772},{"class":239,"line":549},[1773,1777],{"type":24,"tag":237,"props":1774,"children":1775},{"class":244},[1776],{"type":29,"value":381},{"type":24,"tag":237,"props":1778,"children":1779},{"class":311},[1780],{"type":29,"value":1664},{"type":24,"tag":237,"props":1782,"children":1783},{"class":239,"line":575},[1784,1788,1792,1796,1800,1804,1809,1814,1818,1823,1828],{"type":24,"tag":237,"props":1785,"children":1786},{"class":244},[1787],{"type":29,"value":355},{"type":24,"tag":237,"props":1789,"children":1790},{"class":311},[1791],{"type":29,"value":314},{"type":24,"tag":237,"props":1793,"children":1794},{"class":244},[1795],{"type":29,"value":319},{"type":24,"tag":237,"props":1797,"children":1798},{"class":311},[1799],{"type":29,"value":567},{"type":24,"tag":237,"props":1801,"children":1802},{"class":244},[1803],{"type":29,"value":319},{"type":24,"tag":237,"props":1805,"children":1806},{"class":331},[1807],{"type":29,"value":1808},"isValid",{"type":24,"tag":237,"props":1810,"children":1811},{"class":244},[1812],{"type":29,"value":1813},"(String ",{"type":24,"tag":237,"props":1815,"children":1816},{"class":1701},[1817],{"type":29,"value":442},{"type":24,"tag":237,"props":1819,"children":1820},{"class":244},[1821],{"type":29,"value":1822},", ConstraintValidatorContext ",{"type":24,"tag":237,"props":1824,"children":1825},{"class":1701},[1826],{"type":29,"value":1827},"context",{"type":24,"tag":237,"props":1829,"children":1830},{"class":244},[1831],{"type":29,"value":1709},{"type":24,"tag":237,"props":1833,"children":1834},{"class":239,"line":582},[1835,1840,1845,1849,1854],{"type":24,"tag":237,"props":1836,"children":1837},{"class":244},[1838],{"type":29,"value":1839},"        log.",{"type":24,"tag":237,"props":1841,"children":1842},{"class":331},[1843],{"type":29,"value":1844},"info",{"type":24,"tag":237,"props":1846,"children":1847},{"class":244},[1848],{"type":29,"value":391},{"type":24,"tag":237,"props":1850,"children":1851},{"class":250},[1852],{"type":29,"value":1853},"\"isValid: value=[{}]\"",{"type":24,"tag":237,"props":1855,"children":1856},{"class":244},[1857],{"type":29,"value":1858},", value);\n",{"type":24,"tag":237,"props":1860,"children":1861},{"class":239,"line":968},[1862,1866,1871,1876,1881,1886,1891,1896,1901],{"type":24,"tag":237,"props":1863,"children":1864},{"class":244},[1865],{"type":29,"value":1717},{"type":24,"tag":237,"props":1867,"children":1868},{"class":311},[1869],{"type":29,"value":1870},"if",{"type":24,"tag":237,"props":1872,"children":1873},{"class":244},[1874],{"type":29,"value":1875}," (",{"type":24,"tag":237,"props":1877,"children":1878},{"class":311},[1879],{"type":29,"value":1880},"!",{"type":24,"tag":237,"props":1882,"children":1883},{"class":244},[1884],{"type":29,"value":1885},"allowed.",{"type":24,"tag":237,"props":1887,"children":1888},{"class":331},[1889],{"type":29,"value":1890},"contains",{"type":24,"tag":237,"props":1892,"children":1893},{"class":244},[1894],{"type":29,"value":1895},"(value.",{"type":24,"tag":237,"props":1897,"children":1898},{"class":331},[1899],{"type":29,"value":1900},"toLowerCase",{"type":24,"tag":237,"props":1902,"children":1903},{"class":244},[1904],{"type":29,"value":1905},"())) {\n",{"type":24,"tag":237,"props":1907,"children":1908},{"class":239,"line":975},[1909,1914,1918,1922,1927,1931,1936],{"type":24,"tag":237,"props":1910,"children":1911},{"class":244},[1912],{"type":29,"value":1913},"            String err ",{"type":24,"tag":237,"props":1915,"children":1916},{"class":311},[1917],{"type":29,"value":406},{"type":24,"tag":237,"props":1919,"children":1920},{"class":244},[1921],{"type":29,"value":319},{"type":24,"tag":237,"props":1923,"children":1924},{"class":250},[1925],{"type":29,"value":1926},"\"Category must be one of the following: \"",{"type":24,"tag":237,"props":1928,"children":1929},{"class":244},[1930],{"type":29,"value":319},{"type":24,"tag":237,"props":1932,"children":1933},{"class":311},[1934],{"type":29,"value":1935},"+",{"type":24,"tag":237,"props":1937,"children":1938},{"class":244},[1939],{"type":29,"value":1940}," allowed;\n",{"type":24,"tag":237,"props":1942,"children":1943},{"class":239,"line":1485},[1944,1949,1954],{"type":24,"tag":237,"props":1945,"children":1946},{"class":244},[1947],{"type":29,"value":1948},"            context.",{"type":24,"tag":237,"props":1950,"children":1951},{"class":331},[1952],{"type":29,"value":1953},"disableDefaultConstraintViolation",{"type":24,"tag":237,"props":1955,"children":1956},{"class":244},[1957],{"type":29,"value":1958},"();\n",{"type":24,"tag":237,"props":1960,"children":1961},{"class":239,"line":1492},[1962,1966,1971],{"type":24,"tag":237,"props":1963,"children":1964},{"class":244},[1965],{"type":29,"value":1948},{"type":24,"tag":237,"props":1967,"children":1968},{"class":331},[1969],{"type":29,"value":1970},"buildConstraintViolationWithTemplate",{"type":24,"tag":237,"props":1972,"children":1973},{"class":244},[1974],{"type":29,"value":1975},"(err)\n",{"type":24,"tag":237,"props":1977,"children":1979},{"class":239,"line":1978},18,[1980,1985,1990],{"type":24,"tag":237,"props":1981,"children":1982},{"class":244},[1983],{"type":29,"value":1984},"                    .",{"type":24,"tag":237,"props":1986,"children":1987},{"class":331},[1988],{"type":29,"value":1989},"addConstraintViolation",{"type":24,"tag":237,"props":1991,"children":1992},{"class":244},[1993],{"type":29,"value":1958},{"type":24,"tag":237,"props":1995,"children":1997},{"class":239,"line":1996},19,[1998,2003,2008,2012,2017],{"type":24,"tag":237,"props":1999,"children":2000},{"class":244},[2001],{"type":29,"value":2002},"            ",{"type":24,"tag":237,"props":2004,"children":2005},{"class":311},[2006],{"type":29,"value":2007},"return",{"type":24,"tag":237,"props":2009,"children":2010},{"class":244},[2011],{"type":29,"value":319},{"type":24,"tag":237,"props":2013,"children":2014},{"class":394},[2015],{"type":29,"value":2016},"false",{"type":24,"tag":237,"props":2018,"children":2019},{"class":244},[2020],{"type":29,"value":874},{"type":24,"tag":237,"props":2022,"children":2024},{"class":239,"line":2023},20,[2025],{"type":24,"tag":237,"props":2026,"children":2027},{"class":244},[2028],{"type":29,"value":2029},"        }\n",{"type":24,"tag":237,"props":2031,"children":2033},{"class":239,"line":2032},21,[2034,2038,2042,2046,2051],{"type":24,"tag":237,"props":2035,"children":2036},{"class":244},[2037],{"type":29,"value":1717},{"type":24,"tag":237,"props":2039,"children":2040},{"class":311},[2041],{"type":29,"value":2007},{"type":24,"tag":237,"props":2043,"children":2044},{"class":244},[2045],{"type":29,"value":319},{"type":24,"tag":237,"props":2047,"children":2048},{"class":394},[2049],{"type":29,"value":2050},"true",{"type":24,"tag":237,"props":2052,"children":2053},{"class":244},[2054],{"type":29,"value":874},{"type":24,"tag":237,"props":2056,"children":2058},{"class":239,"line":2057},22,[2059],{"type":24,"tag":237,"props":2060,"children":2061},{"class":244},[2062],{"type":29,"value":1763},{"type":24,"tag":237,"props":2064,"children":2066},{"class":239,"line":2065},23,[2067],{"type":24,"tag":237,"props":2068,"children":2069},{},[],{"type":24,"tag":237,"props":2071,"children":2073},{"class":239,"line":2072},24,[2074],{"type":24,"tag":237,"props":2075,"children":2076},{"class":244},[2077],{"type":29,"value":588},{"type":24,"tag":25,"props":2079,"children":2080},{},[2081],{"type":29,"value":2082},"Let's breakdown our new validator class:",{"type":24,"tag":100,"props":2084,"children":2085},{},[2086,2105,2136],{"type":24,"tag":104,"props":2087,"children":2088},{},[2089,2093,2095,2099,2101],{"type":24,"tag":53,"props":2090,"children":2091},{},[2092],{"type":29,"value":57},{"type":29,"value":2094}," is parameterized with the annotation class and the type being validated--a ",{"type":24,"tag":53,"props":2096,"children":2097},{},[2098],{"type":29,"value":1441},{"type":29,"value":2100}," containing the value of ",{"type":24,"tag":35,"props":2102,"children":2103},{},[2104],{"type":29,"value":1069},{"type":24,"tag":104,"props":2106,"children":2107},{},[2108,2110,2114,2116,2120,2122],{"type":29,"value":2109},"A global field ",{"type":24,"tag":53,"props":2111,"children":2112},{},[2113],{"type":29,"value":1450},{"type":29,"value":2115},", set within the overridden ",{"type":24,"tag":53,"props":2117,"children":2118},{},[2119],{"type":29,"value":1693},{"type":29,"value":2121}," method\n",{"type":24,"tag":100,"props":2123,"children":2124},{},[2125],{"type":24,"tag":104,"props":2126,"children":2127},{},[2128,2130,2134],{"type":29,"value":2129},"It is within this method that we gain access to the parameters of ",{"type":24,"tag":53,"props":2131,"children":2132},{},[2133],{"type":29,"value":1525},{"type":29,"value":2135}," for use throughout the validator class",{"type":24,"tag":104,"props":2137,"children":2138},{},[2139,2143,2145],{"type":24,"tag":53,"props":2140,"children":2141},{},[2142],{"type":29,"value":1808},{"type":29,"value":2144}," is the meat and bones of our constraint validation\n",{"type":24,"tag":100,"props":2146,"children":2147},{},[2148],{"type":24,"tag":104,"props":2149,"children":2150},{},[2151],{"type":29,"value":2152},"For invalid scenarios, we disable the default constraint violation, build a proper error message, and return false--this eventually throws an exception we'll be interested in later",{"type":24,"tag":25,"props":2154,"children":2155},{},[2156],{"type":29,"value":2157},"Lastly, to get the most out of our annotation, we'll propagate the category field into two subclasses pertaining to each service.",{"type":24,"tag":25,"props":2159,"children":2160},{},[2161],{"type":29,"value":2162},"After all our hard work, we've reached a clean set of request models ready to be bombarded with invalid values:",{"type":24,"tag":227,"props":2164,"children":2166},{"className":298,"code":2165,"filename":300,"language":301,"meta":10},"public class FoodRequestModel {\n\n    private String name;\n\n    @FoodQuantity\n    private int quantity;\n\n    private boolean refrigerated;\n\n}\n",[2167],{"type":24,"tag":53,"props":2168,"children":2169},{"__ignoreMap":10},[2170,2197,2203,2218,2224,2236,2259,2265,2288,2294],{"type":24,"tag":237,"props":2171,"children":2172},{"class":239,"line":240},[2173,2177,2181,2185,2189,2193],{"type":24,"tag":237,"props":2174,"children":2175},{"class":311},[2176],{"type":29,"value":314},{"type":24,"tag":237,"props":2178,"children":2179},{"class":244},[2180],{"type":29,"value":319},{"type":24,"tag":237,"props":2182,"children":2183},{"class":311},[2184],{"type":29,"value":324},{"type":24,"tag":237,"props":2186,"children":2187},{"class":244},[2188],{"type":29,"value":319},{"type":24,"tag":237,"props":2190,"children":2191},{"class":331},[2192],{"type":29,"value":334},{"type":24,"tag":237,"props":2194,"children":2195},{"class":244},[2196],{"type":29,"value":339},{"type":24,"tag":237,"props":2198,"children":2199},{"class":239,"line":342},[2200],{"type":24,"tag":237,"props":2201,"children":2202},{},[],{"type":24,"tag":237,"props":2204,"children":2205},{"class":239,"line":349},[2206,2210,2214],{"type":24,"tag":237,"props":2207,"children":2208},{"class":244},[2209],{"type":29,"value":355},{"type":24,"tag":237,"props":2211,"children":2212},{"class":311},[2213],{"type":29,"value":360},{"type":24,"tag":237,"props":2215,"children":2216},{"class":244},[2217],{"type":29,"value":365},{"type":24,"tag":237,"props":2219,"children":2220},{"class":239,"line":368},[2221],{"type":24,"tag":237,"props":2222,"children":2223},{},[],{"type":24,"tag":237,"props":2225,"children":2226},{"class":239,"line":375},[2227,2231],{"type":24,"tag":237,"props":2228,"children":2229},{"class":244},[2230],{"type":29,"value":381},{"type":24,"tag":237,"props":2232,"children":2233},{"class":311},[2234],{"type":29,"value":2235},"FoodQuantity\n",{"type":24,"tag":237,"props":2237,"children":2238},{"class":239,"line":423},[2239,2243,2247,2251,2255],{"type":24,"tag":237,"props":2240,"children":2241},{"class":244},[2242],{"type":29,"value":355},{"type":24,"tag":237,"props":2244,"children":2245},{"class":311},[2246],{"type":29,"value":360},{"type":24,"tag":237,"props":2248,"children":2249},{"class":244},[2250],{"type":29,"value":319},{"type":24,"tag":237,"props":2252,"children":2253},{"class":311},[2254],{"type":29,"value":510},{"type":24,"tag":237,"props":2256,"children":2257},{"class":244},[2258],{"type":29,"value":515},{"type":24,"tag":237,"props":2260,"children":2261},{"class":239,"line":492},[2262],{"type":24,"tag":237,"props":2263,"children":2264},{},[],{"type":24,"tag":237,"props":2266,"children":2267},{"class":239,"line":518},[2268,2272,2276,2280,2284],{"type":24,"tag":237,"props":2269,"children":2270},{"class":244},[2271],{"type":29,"value":355},{"type":24,"tag":237,"props":2273,"children":2274},{"class":311},[2275],{"type":29,"value":360},{"type":24,"tag":237,"props":2277,"children":2278},{"class":244},[2279],{"type":29,"value":319},{"type":24,"tag":237,"props":2281,"children":2282},{"class":311},[2283],{"type":29,"value":567},{"type":24,"tag":237,"props":2285,"children":2286},{"class":244},[2287],{"type":29,"value":572},{"type":24,"tag":237,"props":2289,"children":2290},{"class":239,"line":525},[2291],{"type":24,"tag":237,"props":2292,"children":2293},{},[],{"type":24,"tag":237,"props":2295,"children":2296},{"class":239,"line":542},[2297],{"type":24,"tag":237,"props":2298,"children":2299},{"class":244},[2300],{"type":29,"value":588},{"type":24,"tag":227,"props":2302,"children":2305},{"className":298,"code":2303,"filename":2304,"language":301,"meta":10},"public class FridgeRequestModel extends FoodRequestModel {\n\n    @FoodCategory(allowed = {\"dairy\", \"vegetables\", \"beer\"})\n    private String category;\n\n}\n","FridgeRequestModel.java",[2306],{"type":24,"tag":53,"props":2307,"children":2308},{"__ignoreMap":10},[2309,2354,2360,2418,2433,2439],{"type":24,"tag":237,"props":2310,"children":2311},{"class":239,"line":240},[2312,2316,2320,2324,2328,2333,2337,2342,2346,2350],{"type":24,"tag":237,"props":2313,"children":2314},{"class":311},[2315],{"type":29,"value":314},{"type":24,"tag":237,"props":2317,"children":2318},{"class":244},[2319],{"type":29,"value":319},{"type":24,"tag":237,"props":2321,"children":2322},{"class":311},[2323],{"type":29,"value":324},{"type":24,"tag":237,"props":2325,"children":2326},{"class":244},[2327],{"type":29,"value":319},{"type":24,"tag":237,"props":2329,"children":2330},{"class":331},[2331],{"type":29,"value":2332},"FridgeRequestModel",{"type":24,"tag":237,"props":2334,"children":2335},{"class":244},[2336],{"type":29,"value":319},{"type":24,"tag":237,"props":2338,"children":2339},{"class":311},[2340],{"type":29,"value":2341},"extends",{"type":24,"tag":237,"props":2343,"children":2344},{"class":244},[2345],{"type":29,"value":319},{"type":24,"tag":237,"props":2347,"children":2348},{"class":331},[2349],{"type":29,"value":334},{"type":24,"tag":237,"props":2351,"children":2352},{"class":244},[2353],{"type":29,"value":339},{"type":24,"tag":237,"props":2355,"children":2356},{"class":239,"line":342},[2357],{"type":24,"tag":237,"props":2358,"children":2359},{},[],{"type":24,"tag":237,"props":2361,"children":2362},{"class":239,"line":349},[2363,2367,2371,2375,2379,2383,2387,2391,2395,2399,2404,2408,2413],{"type":24,"tag":237,"props":2364,"children":2365},{"class":244},[2366],{"type":29,"value":381},{"type":24,"tag":237,"props":2368,"children":2369},{"class":311},[2370],{"type":29,"value":1299},{"type":24,"tag":237,"props":2372,"children":2373},{"class":244},[2374],{"type":29,"value":391},{"type":24,"tag":237,"props":2376,"children":2377},{"class":394},[2378],{"type":29,"value":1450},{"type":24,"tag":237,"props":2380,"children":2381},{"class":244},[2382],{"type":29,"value":319},{"type":24,"tag":237,"props":2384,"children":2385},{"class":311},[2386],{"type":29,"value":406},{"type":24,"tag":237,"props":2388,"children":2389},{"class":244},[2390],{"type":29,"value":1463},{"type":24,"tag":237,"props":2392,"children":2393},{"class":250},[2394],{"type":29,"value":1468},{"type":24,"tag":237,"props":2396,"children":2397},{"class":244},[2398],{"type":29,"value":464},{"type":24,"tag":237,"props":2400,"children":2401},{"class":250},[2402],{"type":29,"value":2403},"\"vegetables\"",{"type":24,"tag":237,"props":2405,"children":2406},{"class":244},[2407],{"type":29,"value":464},{"type":24,"tag":237,"props":2409,"children":2410},{"class":250},[2411],{"type":29,"value":2412},"\"beer\"",{"type":24,"tag":237,"props":2414,"children":2415},{"class":244},[2416],{"type":29,"value":2417},"})\n",{"type":24,"tag":237,"props":2419,"children":2420},{"class":239,"line":368},[2421,2425,2429],{"type":24,"tag":237,"props":2422,"children":2423},{"class":244},[2424],{"type":29,"value":355},{"type":24,"tag":237,"props":2426,"children":2427},{"class":311},[2428],{"type":29,"value":360},{"type":24,"tag":237,"props":2430,"children":2431},{"class":244},[2432],{"type":29,"value":539},{"type":24,"tag":237,"props":2434,"children":2435},{"class":239,"line":375},[2436],{"type":24,"tag":237,"props":2437,"children":2438},{},[],{"type":24,"tag":237,"props":2440,"children":2441},{"class":239,"line":423},[2442],{"type":24,"tag":237,"props":2443,"children":2444},{"class":244},[2445],{"type":29,"value":588},{"type":24,"tag":227,"props":2447,"children":2450},{"className":298,"code":2448,"filename":2449,"language":301,"meta":10},"public class PantryRequestModel extends FoodRequestModel {\n\n    @FoodCategory(allowed = {\"grains\", \"canned\", \"snacks\"})\n    private String category;\n\n}\n","PantryRequestModel.java",[2451],{"type":24,"tag":53,"props":2452,"children":2453},{"__ignoreMap":10},[2454,2498,2504,2562,2577,2583],{"type":24,"tag":237,"props":2455,"children":2456},{"class":239,"line":240},[2457,2461,2465,2469,2473,2478,2482,2486,2490,2494],{"type":24,"tag":237,"props":2458,"children":2459},{"class":311},[2460],{"type":29,"value":314},{"type":24,"tag":237,"props":2462,"children":2463},{"class":244},[2464],{"type":29,"value":319},{"type":24,"tag":237,"props":2466,"children":2467},{"class":311},[2468],{"type":29,"value":324},{"type":24,"tag":237,"props":2470,"children":2471},{"class":244},[2472],{"type":29,"value":319},{"type":24,"tag":237,"props":2474,"children":2475},{"class":331},[2476],{"type":29,"value":2477},"PantryRequestModel",{"type":24,"tag":237,"props":2479,"children":2480},{"class":244},[2481],{"type":29,"value":319},{"type":24,"tag":237,"props":2483,"children":2484},{"class":311},[2485],{"type":29,"value":2341},{"type":24,"tag":237,"props":2487,"children":2488},{"class":244},[2489],{"type":29,"value":319},{"type":24,"tag":237,"props":2491,"children":2492},{"class":331},[2493],{"type":29,"value":334},{"type":24,"tag":237,"props":2495,"children":2496},{"class":244},[2497],{"type":29,"value":339},{"type":24,"tag":237,"props":2499,"children":2500},{"class":239,"line":342},[2501],{"type":24,"tag":237,"props":2502,"children":2503},{},[],{"type":24,"tag":237,"props":2505,"children":2506},{"class":239,"line":349},[2507,2511,2515,2519,2523,2527,2531,2535,2540,2544,2549,2553,2558],{"type":24,"tag":237,"props":2508,"children":2509},{"class":244},[2510],{"type":29,"value":381},{"type":24,"tag":237,"props":2512,"children":2513},{"class":311},[2514],{"type":29,"value":1299},{"type":24,"tag":237,"props":2516,"children":2517},{"class":244},[2518],{"type":29,"value":391},{"type":24,"tag":237,"props":2520,"children":2521},{"class":394},[2522],{"type":29,"value":1450},{"type":24,"tag":237,"props":2524,"children":2525},{"class":244},[2526],{"type":29,"value":319},{"type":24,"tag":237,"props":2528,"children":2529},{"class":311},[2530],{"type":29,"value":406},{"type":24,"tag":237,"props":2532,"children":2533},{"class":244},[2534],{"type":29,"value":1463},{"type":24,"tag":237,"props":2536,"children":2537},{"class":250},[2538],{"type":29,"value":2539},"\"grains\"",{"type":24,"tag":237,"props":2541,"children":2542},{"class":244},[2543],{"type":29,"value":464},{"type":24,"tag":237,"props":2545,"children":2546},{"class":250},[2547],{"type":29,"value":2548},"\"canned\"",{"type":24,"tag":237,"props":2550,"children":2551},{"class":244},[2552],{"type":29,"value":464},{"type":24,"tag":237,"props":2554,"children":2555},{"class":250},[2556],{"type":29,"value":2557},"\"snacks\"",{"type":24,"tag":237,"props":2559,"children":2560},{"class":244},[2561],{"type":29,"value":2417},{"type":24,"tag":237,"props":2563,"children":2564},{"class":239,"line":368},[2565,2569,2573],{"type":24,"tag":237,"props":2566,"children":2567},{"class":244},[2568],{"type":29,"value":355},{"type":24,"tag":237,"props":2570,"children":2571},{"class":311},[2572],{"type":29,"value":360},{"type":24,"tag":237,"props":2574,"children":2575},{"class":244},[2576],{"type":29,"value":539},{"type":24,"tag":237,"props":2578,"children":2579},{"class":239,"line":375},[2580],{"type":24,"tag":237,"props":2581,"children":2582},{},[],{"type":24,"tag":237,"props":2584,"children":2585},{"class":239,"line":423},[2586],{"type":24,"tag":237,"props":2587,"children":2588},{"class":244},[2589],{"type":29,"value":588},{"type":24,"tag":215,"props":2591,"children":2593},{"id":2592},"handling-validation-errors",[2594],{"type":29,"value":2595},"Handling Validation Errors",{"type":24,"tag":25,"props":2597,"children":2598},{},[2599],{"type":29,"value":2600},"Until now, we've only defined constraints we (and our consumers) must follow.  Let's open up an endpoint to allow food to be added to the fridge and test our constraints:",{"type":24,"tag":227,"props":2602,"children":2605},{"className":298,"code":2603,"filename":2604,"language":301,"meta":10},"@Slf4j\n@Validated\n@RestController\n@RequestMapping(path = \"/api/v1/fridge\")\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\npublic class FridgeController {\n\n    private final FridgeService fridgeService;\n\n    @PostMapping(\"/food\")\n    public ResponseEntity\u003CFoodResponseModel> addFoodToFridgeV1(\n            @Valid @RequestBody FridgeRequestModel request) {\n\n        log.info(\"addFoodToFridgeV1: request=[{}]\", request);\n        FoodResponseModel response = fridgeService.addFoodToFridge(request);\n        return ResponseEntity.ok(response);\n    }\n\n}\n","FridgeController.java",[2606],{"type":24,"tag":53,"props":2607,"children":2608},{"__ignoreMap":10},[2609,2620,2632,2644,2686,2728,2756,2762,2787,2793,2818,2854,2890,2896,2921,2948,2974,2981,2987],{"type":24,"tag":237,"props":2610,"children":2611},{"class":239,"line":240},[2612,2616],{"type":24,"tag":237,"props":2613,"children":2614},{"class":244},[2615],{"type":29,"value":627},{"type":24,"tag":237,"props":2617,"children":2618},{"class":311},[2619],{"type":29,"value":1553},{"type":24,"tag":237,"props":2621,"children":2622},{"class":239,"line":342},[2623,2627],{"type":24,"tag":237,"props":2624,"children":2625},{"class":244},[2626],{"type":29,"value":627},{"type":24,"tag":237,"props":2628,"children":2629},{"class":311},[2630],{"type":29,"value":2631},"Validated\n",{"type":24,"tag":237,"props":2633,"children":2634},{"class":239,"line":349},[2635,2639],{"type":24,"tag":237,"props":2636,"children":2637},{"class":244},[2638],{"type":29,"value":627},{"type":24,"tag":237,"props":2640,"children":2641},{"class":311},[2642],{"type":29,"value":2643},"RestController\n",{"type":24,"tag":237,"props":2645,"children":2646},{"class":239,"line":368},[2647,2651,2656,2660,2665,2669,2673,2677,2682],{"type":24,"tag":237,"props":2648,"children":2649},{"class":244},[2650],{"type":29,"value":627},{"type":24,"tag":237,"props":2652,"children":2653},{"class":311},[2654],{"type":29,"value":2655},"RequestMapping",{"type":24,"tag":237,"props":2657,"children":2658},{"class":244},[2659],{"type":29,"value":391},{"type":24,"tag":237,"props":2661,"children":2662},{"class":394},[2663],{"type":29,"value":2664},"path",{"type":24,"tag":237,"props":2666,"children":2667},{"class":244},[2668],{"type":29,"value":319},{"type":24,"tag":237,"props":2670,"children":2671},{"class":311},[2672],{"type":29,"value":406},{"type":24,"tag":237,"props":2674,"children":2675},{"class":244},[2676],{"type":29,"value":319},{"type":24,"tag":237,"props":2678,"children":2679},{"class":250},[2680],{"type":29,"value":2681},"\"/api/v1/fridge\"",{"type":24,"tag":237,"props":2683,"children":2684},{"class":244},[2685],{"type":29,"value":420},{"type":24,"tag":237,"props":2687,"children":2688},{"class":239,"line":375},[2689,2693,2698,2702,2707,2711,2715,2719,2724],{"type":24,"tag":237,"props":2690,"children":2691},{"class":244},[2692],{"type":29,"value":627},{"type":24,"tag":237,"props":2694,"children":2695},{"class":311},[2696],{"type":29,"value":2697},"RequiredArgsConstructor",{"type":24,"tag":237,"props":2699,"children":2700},{"class":244},[2701],{"type":29,"value":391},{"type":24,"tag":237,"props":2703,"children":2704},{"class":394},[2705],{"type":29,"value":2706},"onConstructor_",{"type":24,"tag":237,"props":2708,"children":2709},{"class":244},[2710],{"type":29,"value":319},{"type":24,"tag":237,"props":2712,"children":2713},{"class":311},[2714],{"type":29,"value":406},{"type":24,"tag":237,"props":2716,"children":2717},{"class":244},[2718],{"type":29,"value":814},{"type":24,"tag":237,"props":2720,"children":2721},{"class":311},[2722],{"type":29,"value":2723},"Autowired",{"type":24,"tag":237,"props":2725,"children":2726},{"class":244},[2727],{"type":29,"value":420},{"type":24,"tag":237,"props":2729,"children":2730},{"class":239,"line":423},[2731,2735,2739,2743,2747,2752],{"type":24,"tag":237,"props":2732,"children":2733},{"class":311},[2734],{"type":29,"value":314},{"type":24,"tag":237,"props":2736,"children":2737},{"class":244},[2738],{"type":29,"value":319},{"type":24,"tag":237,"props":2740,"children":2741},{"class":311},[2742],{"type":29,"value":324},{"type":24,"tag":237,"props":2744,"children":2745},{"class":244},[2746],{"type":29,"value":319},{"type":24,"tag":237,"props":2748,"children":2749},{"class":331},[2750],{"type":29,"value":2751},"FridgeController",{"type":24,"tag":237,"props":2753,"children":2754},{"class":244},[2755],{"type":29,"value":339},{"type":24,"tag":237,"props":2757,"children":2758},{"class":239,"line":492},[2759],{"type":24,"tag":237,"props":2760,"children":2761},{},[],{"type":24,"tag":237,"props":2763,"children":2764},{"class":239,"line":518},[2765,2769,2773,2777,2782],{"type":24,"tag":237,"props":2766,"children":2767},{"class":244},[2768],{"type":29,"value":355},{"type":24,"tag":237,"props":2770,"children":2771},{"class":311},[2772],{"type":29,"value":360},{"type":24,"tag":237,"props":2774,"children":2775},{"class":244},[2776],{"type":29,"value":319},{"type":24,"tag":237,"props":2778,"children":2779},{"class":311},[2780],{"type":29,"value":2781},"final",{"type":24,"tag":237,"props":2783,"children":2784},{"class":244},[2785],{"type":29,"value":2786}," FridgeService fridgeService;\n",{"type":24,"tag":237,"props":2788,"children":2789},{"class":239,"line":525},[2790],{"type":24,"tag":237,"props":2791,"children":2792},{},[],{"type":24,"tag":237,"props":2794,"children":2795},{"class":239,"line":542},[2796,2800,2805,2809,2814],{"type":24,"tag":237,"props":2797,"children":2798},{"class":244},[2799],{"type":29,"value":381},{"type":24,"tag":237,"props":2801,"children":2802},{"class":311},[2803],{"type":29,"value":2804},"PostMapping",{"type":24,"tag":237,"props":2806,"children":2807},{"class":244},[2808],{"type":29,"value":391},{"type":24,"tag":237,"props":2810,"children":2811},{"class":250},[2812],{"type":29,"value":2813},"\"/food\"",{"type":24,"tag":237,"props":2815,"children":2816},{"class":244},[2817],{"type":29,"value":420},{"type":24,"tag":237,"props":2819,"children":2820},{"class":239,"line":549},[2821,2825,2829,2834,2839,2844,2849],{"type":24,"tag":237,"props":2822,"children":2823},{"class":244},[2824],{"type":29,"value":355},{"type":24,"tag":237,"props":2826,"children":2827},{"class":311},[2828],{"type":29,"value":314},{"type":24,"tag":237,"props":2830,"children":2831},{"class":244},[2832],{"type":29,"value":2833}," ResponseEntity\u003C",{"type":24,"tag":237,"props":2835,"children":2836},{"class":311},[2837],{"type":29,"value":2838},"FoodResponseModel",{"type":24,"tag":237,"props":2840,"children":2841},{"class":244},[2842],{"type":29,"value":2843},"> ",{"type":24,"tag":237,"props":2845,"children":2846},{"class":331},[2847],{"type":29,"value":2848},"addFoodToFridgeV1",{"type":24,"tag":237,"props":2850,"children":2851},{"class":244},[2852],{"type":29,"value":2853},"(\n",{"type":24,"tag":237,"props":2855,"children":2856},{"class":239,"line":575},[2857,2862,2867,2871,2876,2881,2886],{"type":24,"tag":237,"props":2858,"children":2859},{"class":244},[2860],{"type":29,"value":2861},"            @",{"type":24,"tag":237,"props":2863,"children":2864},{"class":311},[2865],{"type":29,"value":2866},"Valid",{"type":24,"tag":237,"props":2868,"children":2869},{"class":244},[2870],{"type":29,"value":814},{"type":24,"tag":237,"props":2872,"children":2873},{"class":311},[2874],{"type":29,"value":2875},"RequestBody",{"type":24,"tag":237,"props":2877,"children":2878},{"class":244},[2879],{"type":29,"value":2880}," FridgeRequestModel ",{"type":24,"tag":237,"props":2882,"children":2883},{"class":1701},[2884],{"type":29,"value":2885},"request",{"type":24,"tag":237,"props":2887,"children":2888},{"class":244},[2889],{"type":29,"value":1709},{"type":24,"tag":237,"props":2891,"children":2892},{"class":239,"line":582},[2893],{"type":24,"tag":237,"props":2894,"children":2895},{},[],{"type":24,"tag":237,"props":2897,"children":2898},{"class":239,"line":968},[2899,2903,2907,2911,2916],{"type":24,"tag":237,"props":2900,"children":2901},{"class":244},[2902],{"type":29,"value":1839},{"type":24,"tag":237,"props":2904,"children":2905},{"class":331},[2906],{"type":29,"value":1844},{"type":24,"tag":237,"props":2908,"children":2909},{"class":244},[2910],{"type":29,"value":391},{"type":24,"tag":237,"props":2912,"children":2913},{"class":250},[2914],{"type":29,"value":2915},"\"addFoodToFridgeV1: request=[{}]\"",{"type":24,"tag":237,"props":2917,"children":2918},{"class":244},[2919],{"type":29,"value":2920},", request);\n",{"type":24,"tag":237,"props":2922,"children":2923},{"class":239,"line":975},[2924,2929,2933,2938,2943],{"type":24,"tag":237,"props":2925,"children":2926},{"class":244},[2927],{"type":29,"value":2928},"        FoodResponseModel response ",{"type":24,"tag":237,"props":2930,"children":2931},{"class":311},[2932],{"type":29,"value":406},{"type":24,"tag":237,"props":2934,"children":2935},{"class":244},[2936],{"type":29,"value":2937}," fridgeService.",{"type":24,"tag":237,"props":2939,"children":2940},{"class":331},[2941],{"type":29,"value":2942},"addFoodToFridge",{"type":24,"tag":237,"props":2944,"children":2945},{"class":244},[2946],{"type":29,"value":2947},"(request);\n",{"type":24,"tag":237,"props":2949,"children":2950},{"class":239,"line":1485},[2951,2955,2959,2964,2969],{"type":24,"tag":237,"props":2952,"children":2953},{"class":244},[2954],{"type":29,"value":1717},{"type":24,"tag":237,"props":2956,"children":2957},{"class":311},[2958],{"type":29,"value":2007},{"type":24,"tag":237,"props":2960,"children":2961},{"class":244},[2962],{"type":29,"value":2963}," ResponseEntity.",{"type":24,"tag":237,"props":2965,"children":2966},{"class":331},[2967],{"type":29,"value":2968},"ok",{"type":24,"tag":237,"props":2970,"children":2971},{"class":244},[2972],{"type":29,"value":2973},"(response);\n",{"type":24,"tag":237,"props":2975,"children":2976},{"class":239,"line":1492},[2977],{"type":24,"tag":237,"props":2978,"children":2979},{"class":244},[2980],{"type":29,"value":1763},{"type":24,"tag":237,"props":2982,"children":2983},{"class":239,"line":1978},[2984],{"type":24,"tag":237,"props":2985,"children":2986},{},[],{"type":24,"tag":237,"props":2988,"children":2989},{"class":239,"line":1996},[2990],{"type":24,"tag":237,"props":2991,"children":2992},{"class":244},[2993],{"type":29,"value":588},{"type":24,"tag":25,"props":2995,"children":2996},{},[2997],{"type":29,"value":2998},"There are a few critical aspects to note for our annotations to work properly:",{"type":24,"tag":100,"props":3000,"children":3001},{},[3002,3025],{"type":24,"tag":104,"props":3003,"children":3004},{},[3005,3010,3012,3016,3018,3023],{"type":24,"tag":53,"props":3006,"children":3007},{},[3008],{"type":29,"value":3009},"@Validated",{"type":29,"value":3011}," must be used either at the ",{"type":24,"tag":35,"props":3013,"children":3014},{},[3015],{"type":29,"value":324},{"type":29,"value":3017}," or ",{"type":24,"tag":35,"props":3019,"children":3020},{},[3021],{"type":29,"value":3022},"method",{"type":29,"value":3024}," level to indicate where validation needs to take place",{"type":24,"tag":104,"props":3026,"children":3027},{},[3028,3033,3035,3040],{"type":24,"tag":53,"props":3029,"children":3030},{},[3031],{"type":29,"value":3032},"@Valid",{"type":29,"value":3034}," is used to mark a ",{"type":24,"tag":35,"props":3036,"children":3037},{},[3038],{"type":29,"value":3039},"property",{"type":29,"value":3041}," for validation cascading, which triggers our constraints",{"type":24,"tag":25,"props":3043,"children":3044},{},[3045],{"type":29,"value":3046},"Let's send a payload:",{"type":24,"tag":227,"props":3048,"children":3052},{"className":3049,"code":3050,"language":3051,"meta":10},"language-json github-light_github-dark","// POST {{baseUrl}}/api/v1/fridge/food\n{\n    \"name\": \"milk\",\n    \"category\": \"dairy\",\n    \"quantity\": 2,\n    \"refrigerated\": true\n}\n","json",[3053],{"type":24,"tag":53,"props":3054,"children":3055},{"__ignoreMap":10},[3056,3065,3073,3100,3124,3149,3170],{"type":24,"tag":237,"props":3057,"children":3058},{"class":239,"line":240},[3059],{"type":24,"tag":237,"props":3060,"children":3062},{"class":3061},"ct-086898",[3063],{"type":29,"value":3064},"// POST {{baseUrl}}/api/v1/fridge/food\n",{"type":24,"tag":237,"props":3066,"children":3067},{"class":239,"line":342},[3068],{"type":24,"tag":237,"props":3069,"children":3070},{"class":244},[3071],{"type":29,"value":3072},"{\n",{"type":24,"tag":237,"props":3074,"children":3075},{"class":239,"line":349},[3076,3080,3085,3090,3095],{"type":24,"tag":237,"props":3077,"children":3078},{"class":244},[3079],{"type":29,"value":355},{"type":24,"tag":237,"props":3081,"children":3082},{"class":394},[3083],{"type":29,"value":3084},"\"name\"",{"type":24,"tag":237,"props":3086,"children":3087},{"class":244},[3088],{"type":29,"value":3089},": ",{"type":24,"tag":237,"props":3091,"children":3092},{"class":250},[3093],{"type":29,"value":3094},"\"milk\"",{"type":24,"tag":237,"props":3096,"children":3097},{"class":244},[3098],{"type":29,"value":3099},",\n",{"type":24,"tag":237,"props":3101,"children":3102},{"class":239,"line":368},[3103,3107,3112,3116,3120],{"type":24,"tag":237,"props":3104,"children":3105},{"class":244},[3106],{"type":29,"value":355},{"type":24,"tag":237,"props":3108,"children":3109},{"class":394},[3110],{"type":29,"value":3111},"\"category\"",{"type":24,"tag":237,"props":3113,"children":3114},{"class":244},[3115],{"type":29,"value":3089},{"type":24,"tag":237,"props":3117,"children":3118},{"class":250},[3119],{"type":29,"value":1468},{"type":24,"tag":237,"props":3121,"children":3122},{"class":244},[3123],{"type":29,"value":3099},{"type":24,"tag":237,"props":3125,"children":3126},{"class":239,"line":375},[3127,3131,3136,3140,3145],{"type":24,"tag":237,"props":3128,"children":3129},{"class":244},[3130],{"type":29,"value":355},{"type":24,"tag":237,"props":3132,"children":3133},{"class":394},[3134],{"type":29,"value":3135},"\"quantity\"",{"type":24,"tag":237,"props":3137,"children":3138},{"class":244},[3139],{"type":29,"value":3089},{"type":24,"tag":237,"props":3141,"children":3142},{"class":394},[3143],{"type":29,"value":3144},"2",{"type":24,"tag":237,"props":3146,"children":3147},{"class":244},[3148],{"type":29,"value":3099},{"type":24,"tag":237,"props":3150,"children":3151},{"class":239,"line":423},[3152,3156,3161,3165],{"type":24,"tag":237,"props":3153,"children":3154},{"class":244},[3155],{"type":29,"value":355},{"type":24,"tag":237,"props":3157,"children":3158},{"class":394},[3159],{"type":29,"value":3160},"\"refrigerated\"",{"type":24,"tag":237,"props":3162,"children":3163},{"class":244},[3164],{"type":29,"value":3089},{"type":24,"tag":237,"props":3166,"children":3167},{"class":394},[3168],{"type":29,"value":3169},"true\n",{"type":24,"tag":237,"props":3171,"children":3172},{"class":239,"line":492},[3173],{"type":24,"tag":237,"props":3174,"children":3175},{"class":244},[3176],{"type":29,"value":588},{"type":24,"tag":25,"props":3178,"children":3179},{},[3180],{"type":29,"value":3181},"Success!  But let's see what happens when we send another payload we know will result in error:",{"type":24,"tag":227,"props":3183,"children":3185},{"className":3049,"code":3184,"language":3051,"meta":10},"// POST {{baseUrl}}/api/v1/fridge/food\n{\n    \"name\": \"pinto beans\",\n    \"category\": \"legumes\",\n    \"quantity\": -3,\n    \"refrigerated\": true\n}\n",[3186],{"type":24,"tag":53,"props":3187,"children":3188},{"__ignoreMap":10},[3189,3196,3203,3227,3251,3275,3294],{"type":24,"tag":237,"props":3190,"children":3191},{"class":239,"line":240},[3192],{"type":24,"tag":237,"props":3193,"children":3194},{"class":3061},[3195],{"type":29,"value":3064},{"type":24,"tag":237,"props":3197,"children":3198},{"class":239,"line":342},[3199],{"type":24,"tag":237,"props":3200,"children":3201},{"class":244},[3202],{"type":29,"value":3072},{"type":24,"tag":237,"props":3204,"children":3205},{"class":239,"line":349},[3206,3210,3214,3218,3223],{"type":24,"tag":237,"props":3207,"children":3208},{"class":244},[3209],{"type":29,"value":355},{"type":24,"tag":237,"props":3211,"children":3212},{"class":394},[3213],{"type":29,"value":3084},{"type":24,"tag":237,"props":3215,"children":3216},{"class":244},[3217],{"type":29,"value":3089},{"type":24,"tag":237,"props":3219,"children":3220},{"class":250},[3221],{"type":29,"value":3222},"\"pinto beans\"",{"type":24,"tag":237,"props":3224,"children":3225},{"class":244},[3226],{"type":29,"value":3099},{"type":24,"tag":237,"props":3228,"children":3229},{"class":239,"line":368},[3230,3234,3238,3242,3247],{"type":24,"tag":237,"props":3231,"children":3232},{"class":244},[3233],{"type":29,"value":355},{"type":24,"tag":237,"props":3235,"children":3236},{"class":394},[3237],{"type":29,"value":3111},{"type":24,"tag":237,"props":3239,"children":3240},{"class":244},[3241],{"type":29,"value":3089},{"type":24,"tag":237,"props":3243,"children":3244},{"class":250},[3245],{"type":29,"value":3246},"\"legumes\"",{"type":24,"tag":237,"props":3248,"children":3249},{"class":244},[3250],{"type":29,"value":3099},{"type":24,"tag":237,"props":3252,"children":3253},{"class":239,"line":375},[3254,3258,3262,3266,3271],{"type":24,"tag":237,"props":3255,"children":3256},{"class":244},[3257],{"type":29,"value":355},{"type":24,"tag":237,"props":3259,"children":3260},{"class":394},[3261],{"type":29,"value":3135},{"type":24,"tag":237,"props":3263,"children":3264},{"class":244},[3265],{"type":29,"value":3089},{"type":24,"tag":237,"props":3267,"children":3268},{"class":394},[3269],{"type":29,"value":3270},"-3",{"type":24,"tag":237,"props":3272,"children":3273},{"class":244},[3274],{"type":29,"value":3099},{"type":24,"tag":237,"props":3276,"children":3277},{"class":239,"line":423},[3278,3282,3286,3290],{"type":24,"tag":237,"props":3279,"children":3280},{"class":244},[3281],{"type":29,"value":355},{"type":24,"tag":237,"props":3283,"children":3284},{"class":394},[3285],{"type":29,"value":3160},{"type":24,"tag":237,"props":3287,"children":3288},{"class":244},[3289],{"type":29,"value":3089},{"type":24,"tag":237,"props":3291,"children":3292},{"class":394},[3293],{"type":29,"value":3169},{"type":24,"tag":237,"props":3295,"children":3296},{"class":239,"line":492},[3297],{"type":24,"tag":237,"props":3298,"children":3299},{"class":244},[3300],{"type":29,"value":588},{"type":24,"tag":25,"props":3302,"children":3303},{},[3304,3306,3310],{"type":29,"value":3305},"Note we are violating multiple constraints for this request model.  You should see a verbose response containing the details of the errors encountered and the exceptions thrown.  This verbosity isn't ideal for us (or our consumers) to deal with, so let's filter out important details with a simple override of the ",{"type":24,"tag":53,"props":3307,"children":3308},{},[3309],{"type":29,"value":64},{"type":29,"value":205},{"type":24,"tag":25,"props":3312,"children":3313},{},[3314,3316,3321],{"type":29,"value":3315},"A further look into the error response provided by Spring, you may notice the exception thrown: ",{"type":24,"tag":53,"props":3317,"children":3318},{},[3319],{"type":29,"value":3320},"MethodArgumentNotValidException",{"type":29,"value":3322},".  This is the exception we will be interested in for handling constraint violations within the exception handler.",{"type":24,"tag":25,"props":3324,"children":3325},{},[3326],{"type":29,"value":3327},"First, we need a model to capture relevant information.  We're able to distill the following from the original Spring response:",{"type":24,"tag":227,"props":3329,"children":3332},{"className":298,"code":3330,"filename":3331,"language":301,"meta":10},"public class ErrorResponseModel {\n\n    private final String errorMessage;\n    private final LocalDateTime timestamp;\n    private final String path;\n\n}\n","ErrorResponseModel.java",[3333],{"type":24,"tag":53,"props":3334,"children":3335},{"__ignoreMap":10},[3336,3364,3370,3394,3418,3442,3448],{"type":24,"tag":237,"props":3337,"children":3338},{"class":239,"line":240},[3339,3343,3347,3351,3355,3360],{"type":24,"tag":237,"props":3340,"children":3341},{"class":311},[3342],{"type":29,"value":314},{"type":24,"tag":237,"props":3344,"children":3345},{"class":244},[3346],{"type":29,"value":319},{"type":24,"tag":237,"props":3348,"children":3349},{"class":311},[3350],{"type":29,"value":324},{"type":24,"tag":237,"props":3352,"children":3353},{"class":244},[3354],{"type":29,"value":319},{"type":24,"tag":237,"props":3356,"children":3357},{"class":331},[3358],{"type":29,"value":3359},"ErrorResponseModel",{"type":24,"tag":237,"props":3361,"children":3362},{"class":244},[3363],{"type":29,"value":339},{"type":24,"tag":237,"props":3365,"children":3366},{"class":239,"line":342},[3367],{"type":24,"tag":237,"props":3368,"children":3369},{},[],{"type":24,"tag":237,"props":3371,"children":3372},{"class":239,"line":349},[3373,3377,3381,3385,3389],{"type":24,"tag":237,"props":3374,"children":3375},{"class":244},[3376],{"type":29,"value":355},{"type":24,"tag":237,"props":3378,"children":3379},{"class":311},[3380],{"type":29,"value":360},{"type":24,"tag":237,"props":3382,"children":3383},{"class":244},[3384],{"type":29,"value":319},{"type":24,"tag":237,"props":3386,"children":3387},{"class":311},[3388],{"type":29,"value":2781},{"type":24,"tag":237,"props":3390,"children":3391},{"class":244},[3392],{"type":29,"value":3393}," String errorMessage;\n",{"type":24,"tag":237,"props":3395,"children":3396},{"class":239,"line":368},[3397,3401,3405,3409,3413],{"type":24,"tag":237,"props":3398,"children":3399},{"class":244},[3400],{"type":29,"value":355},{"type":24,"tag":237,"props":3402,"children":3403},{"class":311},[3404],{"type":29,"value":360},{"type":24,"tag":237,"props":3406,"children":3407},{"class":244},[3408],{"type":29,"value":319},{"type":24,"tag":237,"props":3410,"children":3411},{"class":311},[3412],{"type":29,"value":2781},{"type":24,"tag":237,"props":3414,"children":3415},{"class":244},[3416],{"type":29,"value":3417}," LocalDateTime timestamp;\n",{"type":24,"tag":237,"props":3419,"children":3420},{"class":239,"line":375},[3421,3425,3429,3433,3437],{"type":24,"tag":237,"props":3422,"children":3423},{"class":244},[3424],{"type":29,"value":355},{"type":24,"tag":237,"props":3426,"children":3427},{"class":311},[3428],{"type":29,"value":360},{"type":24,"tag":237,"props":3430,"children":3431},{"class":244},[3432],{"type":29,"value":319},{"type":24,"tag":237,"props":3434,"children":3435},{"class":311},[3436],{"type":29,"value":2781},{"type":24,"tag":237,"props":3438,"children":3439},{"class":244},[3440],{"type":29,"value":3441}," String path;\n",{"type":24,"tag":237,"props":3443,"children":3444},{"class":239,"line":423},[3445],{"type":24,"tag":237,"props":3446,"children":3447},{},[],{"type":24,"tag":237,"props":3449,"children":3450},{"class":239,"line":492},[3451],{"type":24,"tag":237,"props":3452,"children":3453},{"class":244},[3454],{"type":29,"value":588},{"type":24,"tag":25,"props":3456,"children":3457},{},[3458],{"type":29,"value":3459},"Next, we'll construct both the global exception handler and a method to handle our constraints:",{"type":24,"tag":227,"props":3461,"children":3464},{"className":298,"code":3462,"filename":3463,"language":301,"meta":10},"@Slf4j\n@RestControllerAdvice\npublic class ErrorController extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected final ResponseEntity\u003CObject> handleMethodArgumentNotValid(\n            MethodArgumentNotValidException ex,\n            HttpHeaders headers,\n            HttpStatus status,\n            WebRequest request) {\n\n        List\u003CString> errorMessages = ex.getBindingResult().getAllErrors().stream()\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\n                .collect(Collectors.toList());\n        log.error(\"handleMethodArgumentNotValid: errors=[{}]\", errorMessages);\n        return new ResponseEntity\u003C>(\n                ErrorResponseModel.builder()\n                        .errorMessage(errorMessages.get(0))\n                        .timestamp(LocalDateTime.now())\n                        .path(request.getDescription(false))\n                        .build(),\n                HttpStatus.BAD_REQUEST\n        );\n    }\n\n}\n","ErrorController.java",[3465],{"type":24,"tag":53,"props":3466,"children":3467},{"__ignoreMap":10},[3468,3479,3491,3535,3541,3552,3594,3611,3628,3645,3661,3667,3722,3750,3776,3802,3827,3844,3881,3908,3941,3958,3966,3974,3981,3988],{"type":24,"tag":237,"props":3469,"children":3470},{"class":239,"line":240},[3471,3475],{"type":24,"tag":237,"props":3472,"children":3473},{"class":244},[3474],{"type":29,"value":627},{"type":24,"tag":237,"props":3476,"children":3477},{"class":311},[3478],{"type":29,"value":1553},{"type":24,"tag":237,"props":3480,"children":3481},{"class":239,"line":342},[3482,3486],{"type":24,"tag":237,"props":3483,"children":3484},{"class":244},[3485],{"type":29,"value":627},{"type":24,"tag":237,"props":3487,"children":3488},{"class":311},[3489],{"type":29,"value":3490},"RestControllerAdvice\n",{"type":24,"tag":237,"props":3492,"children":3493},{"class":239,"line":349},[3494,3498,3502,3506,3510,3515,3519,3523,3527,3531],{"type":24,"tag":237,"props":3495,"children":3496},{"class":311},[3497],{"type":29,"value":314},{"type":24,"tag":237,"props":3499,"children":3500},{"class":244},[3501],{"type":29,"value":319},{"type":24,"tag":237,"props":3503,"children":3504},{"class":311},[3505],{"type":29,"value":324},{"type":24,"tag":237,"props":3507,"children":3508},{"class":244},[3509],{"type":29,"value":319},{"type":24,"tag":237,"props":3511,"children":3512},{"class":331},[3513],{"type":29,"value":3514},"ErrorController",{"type":24,"tag":237,"props":3516,"children":3517},{"class":244},[3518],{"type":29,"value":319},{"type":24,"tag":237,"props":3520,"children":3521},{"class":311},[3522],{"type":29,"value":2341},{"type":24,"tag":237,"props":3524,"children":3525},{"class":244},[3526],{"type":29,"value":319},{"type":24,"tag":237,"props":3528,"children":3529},{"class":331},[3530],{"type":29,"value":64},{"type":24,"tag":237,"props":3532,"children":3533},{"class":244},[3534],{"type":29,"value":339},{"type":24,"tag":237,"props":3536,"children":3537},{"class":239,"line":368},[3538],{"type":24,"tag":237,"props":3539,"children":3540},{},[],{"type":24,"tag":237,"props":3542,"children":3543},{"class":239,"line":375},[3544,3548],{"type":24,"tag":237,"props":3545,"children":3546},{"class":244},[3547],{"type":29,"value":381},{"type":24,"tag":237,"props":3549,"children":3550},{"class":311},[3551],{"type":29,"value":1664},{"type":24,"tag":237,"props":3553,"children":3554},{"class":239,"line":423},[3555,3559,3564,3568,3572,3576,3581,3585,3590],{"type":24,"tag":237,"props":3556,"children":3557},{"class":244},[3558],{"type":29,"value":355},{"type":24,"tag":237,"props":3560,"children":3561},{"class":311},[3562],{"type":29,"value":3563},"protected",{"type":24,"tag":237,"props":3565,"children":3566},{"class":244},[3567],{"type":29,"value":319},{"type":24,"tag":237,"props":3569,"children":3570},{"class":311},[3571],{"type":29,"value":2781},{"type":24,"tag":237,"props":3573,"children":3574},{"class":244},[3575],{"type":29,"value":2833},{"type":24,"tag":237,"props":3577,"children":3578},{"class":311},[3579],{"type":29,"value":3580},"Object",{"type":24,"tag":237,"props":3582,"children":3583},{"class":244},[3584],{"type":29,"value":2843},{"type":24,"tag":237,"props":3586,"children":3587},{"class":331},[3588],{"type":29,"value":3589},"handleMethodArgumentNotValid",{"type":24,"tag":237,"props":3591,"children":3592},{"class":244},[3593],{"type":29,"value":2853},{"type":24,"tag":237,"props":3595,"children":3596},{"class":239,"line":492},[3597,3602,3607],{"type":24,"tag":237,"props":3598,"children":3599},{"class":244},[3600],{"type":29,"value":3601},"            MethodArgumentNotValidException ",{"type":24,"tag":237,"props":3603,"children":3604},{"class":1701},[3605],{"type":29,"value":3606},"ex",{"type":24,"tag":237,"props":3608,"children":3609},{"class":244},[3610],{"type":29,"value":3099},{"type":24,"tag":237,"props":3612,"children":3613},{"class":239,"line":518},[3614,3619,3624],{"type":24,"tag":237,"props":3615,"children":3616},{"class":244},[3617],{"type":29,"value":3618},"            HttpHeaders ",{"type":24,"tag":237,"props":3620,"children":3621},{"class":1701},[3622],{"type":29,"value":3623},"headers",{"type":24,"tag":237,"props":3625,"children":3626},{"class":244},[3627],{"type":29,"value":3099},{"type":24,"tag":237,"props":3629,"children":3630},{"class":239,"line":525},[3631,3636,3641],{"type":24,"tag":237,"props":3632,"children":3633},{"class":244},[3634],{"type":29,"value":3635},"            HttpStatus ",{"type":24,"tag":237,"props":3637,"children":3638},{"class":1701},[3639],{"type":29,"value":3640},"status",{"type":24,"tag":237,"props":3642,"children":3643},{"class":244},[3644],{"type":29,"value":3099},{"type":24,"tag":237,"props":3646,"children":3647},{"class":239,"line":542},[3648,3653,3657],{"type":24,"tag":237,"props":3649,"children":3650},{"class":244},[3651],{"type":29,"value":3652},"            WebRequest ",{"type":24,"tag":237,"props":3654,"children":3655},{"class":1701},[3656],{"type":29,"value":2885},{"type":24,"tag":237,"props":3658,"children":3659},{"class":244},[3660],{"type":29,"value":1709},{"type":24,"tag":237,"props":3662,"children":3663},{"class":239,"line":549},[3664],{"type":24,"tag":237,"props":3665,"children":3666},{},[],{"type":24,"tag":237,"props":3668,"children":3669},{"class":239,"line":575},[3670,3675,3679,3684,3688,3693,3698,3703,3708,3712,3717],{"type":24,"tag":237,"props":3671,"children":3672},{"class":244},[3673],{"type":29,"value":3674},"        List\u003C",{"type":24,"tag":237,"props":3676,"children":3677},{"class":311},[3678],{"type":29,"value":1441},{"type":24,"tag":237,"props":3680,"children":3681},{"class":244},[3682],{"type":29,"value":3683},"> errorMessages ",{"type":24,"tag":237,"props":3685,"children":3686},{"class":311},[3687],{"type":29,"value":406},{"type":24,"tag":237,"props":3689,"children":3690},{"class":244},[3691],{"type":29,"value":3692}," ex.",{"type":24,"tag":237,"props":3694,"children":3695},{"class":331},[3696],{"type":29,"value":3697},"getBindingResult",{"type":24,"tag":237,"props":3699,"children":3700},{"class":244},[3701],{"type":29,"value":3702},"().",{"type":24,"tag":237,"props":3704,"children":3705},{"class":331},[3706],{"type":29,"value":3707},"getAllErrors",{"type":24,"tag":237,"props":3709,"children":3710},{"class":244},[3711],{"type":29,"value":3702},{"type":24,"tag":237,"props":3713,"children":3714},{"class":331},[3715],{"type":29,"value":3716},"stream",{"type":24,"tag":237,"props":3718,"children":3719},{"class":244},[3720],{"type":29,"value":3721},"()\n",{"type":24,"tag":237,"props":3723,"children":3724},{"class":239,"line":582},[3725,3730,3735,3740,3745],{"type":24,"tag":237,"props":3726,"children":3727},{"class":244},[3728],{"type":29,"value":3729},"                .",{"type":24,"tag":237,"props":3731,"children":3732},{"class":331},[3733],{"type":29,"value":3734},"map",{"type":24,"tag":237,"props":3736,"children":3737},{"class":244},[3738],{"type":29,"value":3739},"(DefaultMessageSourceResolvable",{"type":24,"tag":237,"props":3741,"children":3742},{"class":311},[3743],{"type":29,"value":3744},"::",{"type":24,"tag":237,"props":3746,"children":3747},{"class":244},[3748],{"type":29,"value":3749},"getDefaultMessage)\n",{"type":24,"tag":237,"props":3751,"children":3752},{"class":239,"line":968},[3753,3757,3762,3767,3772],{"type":24,"tag":237,"props":3754,"children":3755},{"class":244},[3756],{"type":29,"value":3729},{"type":24,"tag":237,"props":3758,"children":3759},{"class":331},[3760],{"type":29,"value":3761},"collect",{"type":24,"tag":237,"props":3763,"children":3764},{"class":244},[3765],{"type":29,"value":3766},"(Collectors.",{"type":24,"tag":237,"props":3768,"children":3769},{"class":331},[3770],{"type":29,"value":3771},"toList",{"type":24,"tag":237,"props":3773,"children":3774},{"class":244},[3775],{"type":29,"value":1755},{"type":24,"tag":237,"props":3777,"children":3778},{"class":239,"line":975},[3779,3783,3788,3792,3797],{"type":24,"tag":237,"props":3780,"children":3781},{"class":244},[3782],{"type":29,"value":1839},{"type":24,"tag":237,"props":3784,"children":3785},{"class":331},[3786],{"type":29,"value":3787},"error",{"type":24,"tag":237,"props":3789,"children":3790},{"class":244},[3791],{"type":29,"value":391},{"type":24,"tag":237,"props":3793,"children":3794},{"class":250},[3795],{"type":29,"value":3796},"\"handleMethodArgumentNotValid: errors=[{}]\"",{"type":24,"tag":237,"props":3798,"children":3799},{"class":244},[3800],{"type":29,"value":3801},", errorMessages);\n",{"type":24,"tag":237,"props":3803,"children":3804},{"class":239,"line":1485},[3805,3809,3813,3817,3822],{"type":24,"tag":237,"props":3806,"children":3807},{"class":244},[3808],{"type":29,"value":1717},{"type":24,"tag":237,"props":3810,"children":3811},{"class":311},[3812],{"type":29,"value":2007},{"type":24,"tag":237,"props":3814,"children":3815},{"class":244},[3816],{"type":29,"value":319},{"type":24,"tag":237,"props":3818,"children":3819},{"class":311},[3820],{"type":29,"value":3821},"new",{"type":24,"tag":237,"props":3823,"children":3824},{"class":244},[3825],{"type":29,"value":3826}," ResponseEntity\u003C>(\n",{"type":24,"tag":237,"props":3828,"children":3829},{"class":239,"line":1492},[3830,3835,3840],{"type":24,"tag":237,"props":3831,"children":3832},{"class":244},[3833],{"type":29,"value":3834},"                ErrorResponseModel.",{"type":24,"tag":237,"props":3836,"children":3837},{"class":331},[3838],{"type":29,"value":3839},"builder",{"type":24,"tag":237,"props":3841,"children":3842},{"class":244},[3843],{"type":29,"value":3721},{"type":24,"tag":237,"props":3845,"children":3846},{"class":239,"line":1978},[3847,3852,3857,3862,3867,3871,3876],{"type":24,"tag":237,"props":3848,"children":3849},{"class":244},[3850],{"type":29,"value":3851},"                        .",{"type":24,"tag":237,"props":3853,"children":3854},{"class":331},[3855],{"type":29,"value":3856},"errorMessage",{"type":24,"tag":237,"props":3858,"children":3859},{"class":244},[3860],{"type":29,"value":3861},"(errorMessages.",{"type":24,"tag":237,"props":3863,"children":3864},{"class":331},[3865],{"type":29,"value":3866},"get",{"type":24,"tag":237,"props":3868,"children":3869},{"class":244},[3870],{"type":29,"value":391},{"type":24,"tag":237,"props":3872,"children":3873},{"class":394},[3874],{"type":29,"value":3875},"0",{"type":24,"tag":237,"props":3877,"children":3878},{"class":244},[3879],{"type":29,"value":3880},"))\n",{"type":24,"tag":237,"props":3882,"children":3883},{"class":239,"line":1996},[3884,3888,3893,3898,3903],{"type":24,"tag":237,"props":3885,"children":3886},{"class":244},[3887],{"type":29,"value":3851},{"type":24,"tag":237,"props":3889,"children":3890},{"class":331},[3891],{"type":29,"value":3892},"timestamp",{"type":24,"tag":237,"props":3894,"children":3895},{"class":244},[3896],{"type":29,"value":3897},"(LocalDateTime.",{"type":24,"tag":237,"props":3899,"children":3900},{"class":331},[3901],{"type":29,"value":3902},"now",{"type":24,"tag":237,"props":3904,"children":3905},{"class":244},[3906],{"type":29,"value":3907},"())\n",{"type":24,"tag":237,"props":3909,"children":3910},{"class":239,"line":2023},[3911,3915,3919,3924,3929,3933,3937],{"type":24,"tag":237,"props":3912,"children":3913},{"class":244},[3914],{"type":29,"value":3851},{"type":24,"tag":237,"props":3916,"children":3917},{"class":331},[3918],{"type":29,"value":2664},{"type":24,"tag":237,"props":3920,"children":3921},{"class":244},[3922],{"type":29,"value":3923},"(request.",{"type":24,"tag":237,"props":3925,"children":3926},{"class":331},[3927],{"type":29,"value":3928},"getDescription",{"type":24,"tag":237,"props":3930,"children":3931},{"class":244},[3932],{"type":29,"value":391},{"type":24,"tag":237,"props":3934,"children":3935},{"class":394},[3936],{"type":29,"value":2016},{"type":24,"tag":237,"props":3938,"children":3939},{"class":244},[3940],{"type":29,"value":3880},{"type":24,"tag":237,"props":3942,"children":3943},{"class":239,"line":2032},[3944,3948,3953],{"type":24,"tag":237,"props":3945,"children":3946},{"class":244},[3947],{"type":29,"value":3851},{"type":24,"tag":237,"props":3949,"children":3950},{"class":331},[3951],{"type":29,"value":3952},"build",{"type":24,"tag":237,"props":3954,"children":3955},{"class":244},[3956],{"type":29,"value":3957},"(),\n",{"type":24,"tag":237,"props":3959,"children":3960},{"class":239,"line":2057},[3961],{"type":24,"tag":237,"props":3962,"children":3963},{"class":244},[3964],{"type":29,"value":3965},"                HttpStatus.BAD_REQUEST\n",{"type":24,"tag":237,"props":3967,"children":3968},{"class":239,"line":2065},[3969],{"type":24,"tag":237,"props":3970,"children":3971},{"class":244},[3972],{"type":29,"value":3973},"        );\n",{"type":24,"tag":237,"props":3975,"children":3976},{"class":239,"line":2072},[3977],{"type":24,"tag":237,"props":3978,"children":3979},{"class":244},[3980],{"type":29,"value":1763},{"type":24,"tag":237,"props":3982,"children":3984},{"class":239,"line":3983},25,[3985],{"type":24,"tag":237,"props":3986,"children":3987},{},[],{"type":24,"tag":237,"props":3989,"children":3991},{"class":239,"line":3990},26,[3992],{"type":24,"tag":237,"props":3993,"children":3994},{"class":244},[3995],{"type":29,"value":588},{"type":24,"tag":25,"props":3997,"children":3998},{},[3999],{"type":29,"value":4000},"Let's note a few things here:",{"type":24,"tag":100,"props":4002,"children":4003},{},[4004,4020,4037],{"type":24,"tag":104,"props":4005,"children":4006},{},[4007,4009,4014,4015],{"type":29,"value":4008},"Explore what might differ for violating constraints of ",{"type":24,"tag":53,"props":4010,"children":4011},{},[4012],{"type":29,"value":4013},"@PathVariable",{"type":29,"value":3017},{"type":24,"tag":53,"props":4016,"children":4017},{},[4018],{"type":29,"value":4019},"@RequestParam",{"type":24,"tag":104,"props":4021,"children":4022},{},[4023,4028,4030,4035],{"type":24,"tag":53,"props":4024,"children":4025},{},[4026],{"type":29,"value":4027},"@RestControllerAdvice",{"type":29,"value":4029}," is just that--a specialized component for classes that declare ",{"type":24,"tag":53,"props":4031,"children":4032},{},[4033],{"type":29,"value":4034},"@ExceptionHandler",{"type":29,"value":4036}," methods shared across multiple controller classes",{"type":24,"tag":104,"props":4038,"children":4039},{},[4040,4042,4046,4048,4052,4054],{"type":29,"value":4041},"We override the ",{"type":24,"tag":53,"props":4043,"children":4044},{},[4045],{"type":29,"value":64},{"type":29,"value":4047},"'s ",{"type":24,"tag":53,"props":4049,"children":4050},{},[4051],{"type":29,"value":3589},{"type":29,"value":4053}," method so we may\n",{"type":24,"tag":100,"props":4055,"children":4056},{},[4057,4062,4067],{"type":24,"tag":104,"props":4058,"children":4059},{},[4060],{"type":29,"value":4061},"Log important information",{"type":24,"tag":104,"props":4063,"children":4064},{},[4065],{"type":29,"value":4066},"Build a small, focused error response",{"type":24,"tag":104,"props":4068,"children":4069},{},[4070],{"type":29,"value":4071},"Return an HTTP status code of our choice, based on the constraint violated",{"type":24,"tag":25,"props":4073,"children":4074},{},[4075],{"type":29,"value":4076},"Upon sending a payload that violates the constraints we've defined, you should see a succinct response indicating where we went wrong:",{"type":24,"tag":227,"props":4078,"children":4080},{"className":3049,"code":4079,"language":3051,"meta":10},"{\n    \"errorMessage\": \"Quantity must be positive\",\n    \"timestamp\": \"2020-11-20T19:18:31.1899697\",\n    \"path\": \"uri=/api/v1/pantry/food\"\n}\n",[4081],{"type":24,"tag":53,"props":4082,"children":4083},{"__ignoreMap":10},[4084,4091,4115,4140,4161],{"type":24,"tag":237,"props":4085,"children":4086},{"class":239,"line":240},[4087],{"type":24,"tag":237,"props":4088,"children":4089},{"class":244},[4090],{"type":29,"value":3072},{"type":24,"tag":237,"props":4092,"children":4093},{"class":239,"line":342},[4094,4098,4103,4107,4111],{"type":24,"tag":237,"props":4095,"children":4096},{"class":244},[4097],{"type":29,"value":355},{"type":24,"tag":237,"props":4099,"children":4100},{"class":394},[4101],{"type":29,"value":4102},"\"errorMessage\"",{"type":24,"tag":237,"props":4104,"children":4105},{"class":244},[4106],{"type":29,"value":3089},{"type":24,"tag":237,"props":4108,"children":4109},{"class":250},[4110],{"type":29,"value":415},{"type":24,"tag":237,"props":4112,"children":4113},{"class":244},[4114],{"type":29,"value":3099},{"type":24,"tag":237,"props":4116,"children":4117},{"class":239,"line":349},[4118,4122,4127,4131,4136],{"type":24,"tag":237,"props":4119,"children":4120},{"class":244},[4121],{"type":29,"value":355},{"type":24,"tag":237,"props":4123,"children":4124},{"class":394},[4125],{"type":29,"value":4126},"\"timestamp\"",{"type":24,"tag":237,"props":4128,"children":4129},{"class":244},[4130],{"type":29,"value":3089},{"type":24,"tag":237,"props":4132,"children":4133},{"class":250},[4134],{"type":29,"value":4135},"\"2020-11-20T19:18:31.1899697\"",{"type":24,"tag":237,"props":4137,"children":4138},{"class":244},[4139],{"type":29,"value":3099},{"type":24,"tag":237,"props":4141,"children":4142},{"class":239,"line":368},[4143,4147,4152,4156],{"type":24,"tag":237,"props":4144,"children":4145},{"class":244},[4146],{"type":29,"value":355},{"type":24,"tag":237,"props":4148,"children":4149},{"class":394},[4150],{"type":29,"value":4151},"\"path\"",{"type":24,"tag":237,"props":4153,"children":4154},{"class":244},[4155],{"type":29,"value":3089},{"type":24,"tag":237,"props":4157,"children":4158},{"class":250},[4159],{"type":29,"value":4160},"\"uri=/api/v1/pantry/food\"\n",{"type":24,"tag":237,"props":4162,"children":4163},{"class":239,"line":375},[4164],{"type":24,"tag":237,"props":4165,"children":4166},{"class":244},[4167],{"type":29,"value":588},{"type":24,"tag":183,"props":4169,"children":4171},{"id":4170},"_2",[],{"type":24,"tag":41,"props":4173,"children":4175},{"id":4174},"challenge",[4176],{"type":29,"value":4177},"Challenge",{"type":24,"tag":25,"props":4179,"children":4180},{},[4181],{"type":29,"value":4182},"This tutorial provides some basic forms of constraint validation within a Spring-/Java-based REST service.  If you are looking to take things a bit further, here are a few places you can start:",{"type":24,"tag":100,"props":4184,"children":4185},{},[4186,4191,4196,4208],{"type":24,"tag":104,"props":4187,"children":4188},{},[4189],{"type":29,"value":4190},"Implement nested constraints within a complex request model",{"type":24,"tag":104,"props":4192,"children":4193},{},[4194],{"type":29,"value":4195},"Increase the flexibility of the HTTP status code returned to the consumer",{"type":24,"tag":104,"props":4197,"children":4198},{},[4199,4201,4206],{"type":29,"value":4200},"Expand the sample project to handle the nuance of a composite service--a ",{"type":24,"tag":35,"props":4202,"children":4203},{},[4204],{"type":29,"value":4205},"Picnic Service",{"type":29,"value":4207},", for instance",{"type":24,"tag":104,"props":4209,"children":4210},{},[4211,4213,4217,4219,4223,4224,4228],{"type":29,"value":4212},"Explore the ",{"type":24,"tag":53,"props":4214,"children":4215},{},[4216],{"type":29,"value":996},{"type":29,"value":4218}," API further--what might ",{"type":24,"tag":53,"props":4220,"children":4221},{},[4222],{"type":29,"value":953},{"type":29,"value":59},{"type":24,"tag":53,"props":4225,"children":4226},{},[4227],{"type":29,"value":903},{"type":29,"value":4229}," be used for?",{"type":24,"tag":183,"props":4231,"children":4233},{"id":4232},"_3",[],{"type":24,"tag":41,"props":4235,"children":4237},{"id":4236},"closing",[4238],{"type":29,"value":4239},"Closing",{"type":24,"tag":25,"props":4241,"children":4242},{},[4243],{"type":29,"value":4244},"This concludes the tutorial on implementing custom constraint validators using annotations!  Don't be afraid to let me know if I missed anything.  I certainly welcome (and appreciate) criticism, questions, and the like.",{"type":24,"tag":25,"props":4246,"children":4247},{},[4248,4250,4256],{"type":29,"value":4249},"For further reference, here is the ",{"type":24,"tag":71,"props":4251,"children":4253},{"href":199,"rel":4252},[75],[4254],{"type":29,"value":4255},"GitHub repository",{"type":29,"value":4257}," with the full working code and examples presented in this article.",{"type":24,"tag":4259,"props":4260,"children":4261},"style",{},[4262],{"type":29,"value":4263},".github-light_github-dark{color:#24292e;background:#fff;}.dark .github-light_github-dark{color:#e1e4e8;background:#24292e;}.ct-553616{color:#24292E;}.dark .ct-553616{color:#E1E4E8;}.ct-952708{color:#032F62;}.dark .ct-952708{color:#9ECBFF;}.ct-149352{color:#D73A49;}.dark .ct-149352{color:#F97583;}.ct-762058{color:#6F42C1;}.dark .ct-762058{color:#B392F0;}.ct-617022{color:#005CC5;}.dark .ct-617022{color:#79B8FF;}.ct-157101{color:#E36209;}.dark .ct-157101{color:#FFAB70;}.ct-086898{color:#6A737D;}",{"title":10,"searchDepth":342,"depth":342,"links":4265},[4266,4267,4272,4273],{"id":43,"depth":342,"text":46},{"id":188,"depth":342,"text":191,"children":4268},[4269,4270,4271],{"id":217,"depth":349,"text":220},{"id":256,"depth":349,"text":259},{"id":2592,"depth":349,"text":2595},{"id":4174,"depth":342,"text":4177},{"id":4236,"depth":342,"text":4239},"markdown","content:articles:0.constraint-violation.md","content","articles/0.constraint-violation.md","md",["ShallowRef",4280],["ShallowReactive",4281],{"/articles/constraint-violation":4282},[4283,4304],{"_path":4284,"_dir":10,"_draft":9,"_partial":9,"_locale":10,"title":4285,"description":10,"layout":860,"body":4286,"_type":4274,"_id":4302,"_source":4276,"_file":4303,"_extension":4278},"/contact","Contact",{"type":21,"children":4287,"toc":4300},[4288,4295],{"type":24,"tag":4289,"props":4290,"children":4292},"h1",{"id":4291},"get-in-touch",[4293],{"type":29,"value":4294},"Get in touch",{"type":24,"tag":4296,"props":4297,"children":4299},"contact-form",{":fields":4298},"[{\"type\":\"text\",\"name\":\"name\",\"label\":\"Your name\",\"required\":true},{\"type\":\"email\",\"name\":\"email\",\"label\":\"Your email\",\"required\":true},{\"type\":\"text\",\"name\":\"subject\",\"label\":\"Subject\",\"required\":false},{\"type\":\"textarea\",\"name\":\"message\",\"label\":\"Message\",\"required\":true}]",[],{"title":10,"searchDepth":342,"depth":342,"links":4301},[],"content:3.contact.md","3.contact.md",{"_path":4305,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":4306,"description":4307,"cover":4308,"author":4309,"date":4313,"draft":4314,"layout":19,"body":4315,"_type":4274,"_id":4692,"_source":4276,"_file":4693,"_extension":4278},"/articles/get-started","Get started with Alpine","Creating a blog with Alpine is a command away, as well as deploying to many platforms.","/articles/get-started.webp",{"name":4310,"avatarUrl":4311,"link":4312},"Sébastien Chopin","https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg","https://twitter.com/atinux","2022-08-23T00:00:00.000Z",true,{"type":21,"children":4316,"toc":4682},[4317,4322,4326,4332,4337,4390,4394,4406,4430,4436,4441,4473,4485,4491,4497,4502,4533,4545,4551,4563,4596,4602,4607,4637,4648,4653,4677],{"type":24,"tag":4289,"props":4318,"children":4320},{"id":4319},"get-started-with-alpine",[4321],{"type":29,"value":4306},{"type":24,"tag":25,"props":4323,"children":4324},{},[4325],{"type":29,"value":4307},{"type":24,"tag":41,"props":4327,"children":4329},{"id":4328},"create-a-blog",[4330],{"type":29,"value":4331},"Create a blog",{"type":24,"tag":25,"props":4333,"children":4334},{},[4335],{"type":29,"value":4336},"Open a terminal an run the following command:",{"type":24,"tag":227,"props":4338,"children":4342},{"className":4339,"code":4340,"language":4341,"meta":10},"language-bash github-light_github-dark","npx nuxi@latest init -t themes/alpine\n","bash",[4343],{"type":24,"tag":53,"props":4344,"children":4345},{"__ignoreMap":10},[4346],{"type":24,"tag":237,"props":4347,"children":4348},{"class":239,"line":240},[4349,4354,4358,4363,4367,4372,4376,4381,4385],{"type":24,"tag":237,"props":4350,"children":4351},{"class":331},[4352],{"type":29,"value":4353},"npx",{"type":24,"tag":237,"props":4355,"children":4356},{"class":244},[4357],{"type":29,"value":319},{"type":24,"tag":237,"props":4359,"children":4360},{"class":250},[4361],{"type":29,"value":4362},"nuxi@latest",{"type":24,"tag":237,"props":4364,"children":4365},{"class":244},[4366],{"type":29,"value":319},{"type":24,"tag":237,"props":4368,"children":4369},{"class":250},[4370],{"type":29,"value":4371},"init",{"type":24,"tag":237,"props":4373,"children":4374},{"class":244},[4375],{"type":29,"value":319},{"type":24,"tag":237,"props":4377,"children":4378},{"class":394},[4379],{"type":29,"value":4380},"-t",{"type":24,"tag":237,"props":4382,"children":4383},{"class":244},[4384],{"type":29,"value":319},{"type":24,"tag":237,"props":4386,"children":4387},{"class":250},[4388],{"type":29,"value":4389},"themes/alpine",{"type":24,"tag":41,"props":4391,"children":4392},{"id":217},[4393],{"type":29,"value":220},{"type":24,"tag":25,"props":4395,"children":4396},{},[4397,4399,4404],{"type":29,"value":4398},"Next, go to to ",{"type":24,"tag":53,"props":4400,"children":4401},{},[4402],{"type":29,"value":4403},"my-blog/",{"type":29,"value":4405}," directory and install the dependencies:",{"type":24,"tag":227,"props":4407,"children":4409},{"className":4339,"code":4408,"language":4341,"meta":10},"npm install\n",[4410],{"type":24,"tag":53,"props":4411,"children":4412},{"__ignoreMap":10},[4413],{"type":24,"tag":237,"props":4414,"children":4415},{"class":239,"line":240},[4416,4421,4425],{"type":24,"tag":237,"props":4417,"children":4418},{"class":331},[4419],{"type":29,"value":4420},"npm",{"type":24,"tag":237,"props":4422,"children":4423},{"class":244},[4424],{"type":29,"value":319},{"type":24,"tag":237,"props":4426,"children":4427},{"class":250},[4428],{"type":29,"value":4429},"install",{"type":24,"tag":41,"props":4431,"children":4433},{"id":4432},"development",[4434],{"type":29,"value":4435},"Development",{"type":24,"tag":25,"props":4437,"children":4438},{},[4439],{"type":29,"value":4440},"Start the development server on port 3000:",{"type":24,"tag":227,"props":4442,"children":4444},{"className":4339,"code":4443,"language":4341,"meta":10},"npm run dev\n",[4445],{"type":24,"tag":53,"props":4446,"children":4447},{"__ignoreMap":10},[4448],{"type":24,"tag":237,"props":4449,"children":4450},{"class":239,"line":240},[4451,4455,4459,4464,4468],{"type":24,"tag":237,"props":4452,"children":4453},{"class":331},[4454],{"type":29,"value":4420},{"type":24,"tag":237,"props":4456,"children":4457},{"class":244},[4458],{"type":29,"value":319},{"type":24,"tag":237,"props":4460,"children":4461},{"class":250},[4462],{"type":29,"value":4463},"run",{"type":24,"tag":237,"props":4465,"children":4466},{"class":244},[4467],{"type":29,"value":319},{"type":24,"tag":237,"props":4469,"children":4470},{"class":250},[4471],{"type":29,"value":4472},"dev",{"type":24,"tag":25,"props":4474,"children":4475},{},[4476,4478,4483],{"type":29,"value":4477},"Next, you can start creating your content in Markdown in the ",{"type":24,"tag":53,"props":4479,"children":4480},{},[4481],{"type":29,"value":4482},"content/",{"type":29,"value":4484}," directory.",{"type":24,"tag":41,"props":4486,"children":4488},{"id":4487},"deploy",[4489],{"type":29,"value":4490},"Deploy",{"type":24,"tag":215,"props":4492,"children":4494},{"id":4493},"static-hosting",[4495],{"type":29,"value":4496},"Static hosting",{"type":24,"tag":25,"props":4498,"children":4499},{},[4500],{"type":29,"value":4501},"You can deploy Alpine to any static hosting by running the following command:",{"type":24,"tag":227,"props":4503,"children":4505},{"className":4339,"code":4504,"language":4341,"meta":10},"npm run generate\n",[4506],{"type":24,"tag":53,"props":4507,"children":4508},{"__ignoreMap":10},[4509],{"type":24,"tag":237,"props":4510,"children":4511},{"class":239,"line":240},[4512,4516,4520,4524,4528],{"type":24,"tag":237,"props":4513,"children":4514},{"class":331},[4515],{"type":29,"value":4420},{"type":24,"tag":237,"props":4517,"children":4518},{"class":244},[4519],{"type":29,"value":319},{"type":24,"tag":237,"props":4521,"children":4522},{"class":250},[4523],{"type":29,"value":4463},{"type":24,"tag":237,"props":4525,"children":4526},{"class":244},[4527],{"type":29,"value":319},{"type":24,"tag":237,"props":4529,"children":4530},{"class":250},[4531],{"type":29,"value":4532},"generate",{"type":24,"tag":25,"props":4534,"children":4535},{},[4536,4538,4543],{"type":29,"value":4537},"This command will create a ",{"type":24,"tag":53,"props":4539,"children":4540},{},[4541],{"type":29,"value":4542},"dist/",{"type":29,"value":4544}," directory with the compiled files ready to be uploaded to any static hosting.",{"type":24,"tag":215,"props":4546,"children":4548},{"id":4547},"edge-platforms",[4549],{"type":29,"value":4550},"Edge platforms",{"type":24,"tag":25,"props":4552,"children":4553},{},[4554,4556,4562],{"type":29,"value":4555},"Alpine supports deploying to the following platforms with ",{"type":24,"tag":4557,"props":4558,"children":4559},"strong",{},[4560],{"type":29,"value":4561},"zero configuration",{"type":29,"value":611},{"type":24,"tag":100,"props":4564,"children":4565},{},[4566,4576,4586],{"type":24,"tag":104,"props":4567,"children":4568},{},[4569],{"type":24,"tag":71,"props":4570,"children":4573},{"href":4571,"rel":4572},"https://vercel.com",[75],[4574],{"type":29,"value":4575},"Vercel",{"type":24,"tag":104,"props":4577,"children":4578},{},[4579],{"type":24,"tag":71,"props":4580,"children":4583},{"href":4581,"rel":4582},"https://netlify.com",[75],[4584],{"type":29,"value":4585},"Netlify",{"type":24,"tag":104,"props":4587,"children":4588},{},[4589],{"type":24,"tag":71,"props":4590,"children":4593},{"href":4591,"rel":4592},"https://v3.nuxtjs.org/guide/deploy/presets#supported-hosting-providers",[75],[4594],{"type":29,"value":4595},"and more...",{"type":24,"tag":215,"props":4597,"children":4599},{"id":4598},"node-server",[4600],{"type":29,"value":4601},"Node server",{"type":24,"tag":25,"props":4603,"children":4604},{},[4605],{"type":29,"value":4606},"You can deploy Alpine to a Node server by running the following command:",{"type":24,"tag":227,"props":4608,"children":4610},{"className":4339,"code":4609,"language":4341,"meta":10},"npm run build\n",[4611],{"type":24,"tag":53,"props":4612,"children":4613},{"__ignoreMap":10},[4614],{"type":24,"tag":237,"props":4615,"children":4616},{"class":239,"line":240},[4617,4621,4625,4629,4633],{"type":24,"tag":237,"props":4618,"children":4619},{"class":331},[4620],{"type":29,"value":4420},{"type":24,"tag":237,"props":4622,"children":4623},{"class":244},[4624],{"type":29,"value":319},{"type":24,"tag":237,"props":4626,"children":4627},{"class":250},[4628],{"type":29,"value":4463},{"type":24,"tag":237,"props":4630,"children":4631},{"class":244},[4632],{"type":29,"value":319},{"type":24,"tag":237,"props":4634,"children":4635},{"class":250},[4636],{"type":29,"value":3952},{"type":24,"tag":25,"props":4638,"children":4639},{},[4640,4641,4646],{"type":29,"value":4537},{"type":24,"tag":53,"props":4642,"children":4643},{},[4644],{"type":29,"value":4645},".output/",{"type":29,"value":4647}," directory with the compiled files ready to be uploaded to any Node server.",{"type":24,"tag":25,"props":4649,"children":4650},{},[4651],{"type":29,"value":4652},"To start the production server, run the following command:",{"type":24,"tag":227,"props":4654,"children":4656},{"className":4339,"code":4655,"language":4341,"meta":10},"node .output/server/index.mjs\n",[4657],{"type":24,"tag":53,"props":4658,"children":4659},{"__ignoreMap":10},[4660],{"type":24,"tag":237,"props":4661,"children":4662},{"class":239,"line":240},[4663,4668,4672],{"type":24,"tag":237,"props":4664,"children":4665},{"class":331},[4666],{"type":29,"value":4667},"node",{"type":24,"tag":237,"props":4669,"children":4670},{"class":244},[4671],{"type":29,"value":319},{"type":24,"tag":237,"props":4673,"children":4674},{"class":250},[4675],{"type":29,"value":4676},".output/server/index.mjs",{"type":24,"tag":4259,"props":4678,"children":4679},{},[4680],{"type":29,"value":4681},".github-light_github-dark{color:#24292e;background:#fff;}.dark .github-light_github-dark{color:#e1e4e8;background:#24292e;}.ct-762058{color:#6F42C1;}.dark .ct-762058{color:#B392F0;}.ct-553616{color:#24292E;}.dark .ct-553616{color:#E1E4E8;}.ct-952708{color:#032F62;}.dark .ct-952708{color:#9ECBFF;}.ct-617022{color:#005CC5;}.dark .ct-617022{color:#79B8FF;}",{"title":10,"searchDepth":342,"depth":342,"links":4683},[4684,4685,4686,4687],{"id":4328,"depth":342,"text":4331},{"id":217,"depth":342,"text":220},{"id":4432,"depth":342,"text":4435},{"id":4487,"depth":342,"text":4490,"children":4688},[4689,4690,4691],{"id":4493,"depth":349,"text":4496},{"id":4547,"depth":349,"text":4550},{"id":4598,"depth":349,"text":4601},"content:articles:1.get-started.md","articles/1.get-started.md",["ShallowRef",4695],{},{"preference":4697,"value":4697,"unknown":4314,"forced":9},"system",[4699,4702,4718],{"title":4700,"_path":4701,"layout":860},"About","/",{"title":4703,"_path":4704,"children":4705,"layout":4717},"Articles","/articles",[4706,4707,4708,4711,4714],{"title":11,"_path":7,"layout":19},{"title":4306,"_path":4305,"layout":19},{"title":4709,"_path":4710,"layout":19},"Configure Alpine","/articles/configure",{"title":4712,"_path":4713,"layout":19},"Write Articles","/articles/write-articles",{"title":4715,"_path":4716,"layout":19},"Customize Alpine","/articles/design-tokens","page",{"title":4285,"_path":4284,"layout":860},{"uil:twitter":4720,"uil:instagram":4723,"uil:github":4725,"bi:medium":4727,"uil:linkedin":4729,"ph:arrow-left":4731,"material-symbols:arrow-upward":4734,"ph:copy":4736},{"left":4721,"top":4721,"width":2072,"height":2072,"rotate":4721,"vFlip":9,"hFlip":9,"body":4722},0,"\u003Cpath fill=\"currentColor\" d=\"M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12Z\"/>",{"left":4721,"top":4721,"width":2072,"height":2072,"rotate":4721,"vFlip":9,"hFlip":9,"body":4724},"\u003Cpath fill=\"currentColor\" d=\"M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z\"/>",{"left":4721,"top":4721,"width":2072,"height":2072,"rotate":4721,"vFlip":9,"hFlip":9,"body":4726},"\u003Cpath fill=\"currentColor\" d=\"M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.563 4.937a2.368 2.368 0 0 1 .675 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247Z\"/>",{"left":4721,"top":4721,"width":1485,"height":1485,"rotate":4721,"vFlip":9,"hFlip":9,"body":4728},"\u003Cpath fill=\"currentColor\" d=\"M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8zm4.95 0c0 2.34-1.01 4.236-2.256 4.236c-1.246 0-2.256-1.897-2.256-4.236c0-2.34 1.01-4.236 2.256-4.236c1.246 0 2.256 1.897 2.256 4.236zM16 8c0 2.096-.355 3.795-.794 3.795c-.438 0-.793-1.7-.793-3.795c0-2.096.355-3.795.794-3.795c.438 0 .793 1.699.793 3.795z\"/>",{"left":4721,"top":4721,"width":2072,"height":2072,"rotate":4721,"vFlip":9,"hFlip":9,"body":4730},"\u003Cpath fill=\"currentColor\" d=\"M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2ZM8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12Zm12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z\"/>",{"left":4721,"top":4721,"width":4732,"height":4732,"rotate":4721,"vFlip":9,"hFlip":9,"body":4733},256,"\u003Cpath fill=\"currentColor\" d=\"M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8Z\"/>",{"left":4721,"top":4721,"width":2072,"height":2072,"rotate":4721,"vFlip":9,"hFlip":9,"body":4735},"\u003Cpath fill=\"currentColor\" d=\"M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20h-2Z\"/>",{"left":4721,"top":4721,"width":4732,"height":4732,"rotate":4721,"vFlip":9,"hFlip":9,"body":4737},"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",["Reactive",4739],{}]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{FORMSPREE_URL:"",plausible:{hashMode:false,trackLocalhost:false,domain:"",apiHost:"https://plausible.io",autoPageviews:true,autoOutboundTracking:false},gtag:{id:"G-GG6FPMC1B6",config:{},initialConsent:true,loadingStrategy:"defer"},studio:{apiURL:"https://api.nuxt.studio"},mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1695083029470,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["navTitle","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{default:"github-light",dark:"github-dark"},preload:["json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini","c","cpp"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>