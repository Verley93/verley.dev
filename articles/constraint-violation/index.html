<!DOCTYPE html><html lang="en"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Constraint Validation in Spring Boot Microservices</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:image:width" content="400">
<meta property="og:image:height" content="300">
<meta property="og:image:alt" content="An image showcasing my project.">
<meta property="og:title" content="Constraint Validation in Spring Boot Microservices">
<meta name="description" content="A lightweight intro to validating requests via annotations in Java.">
<meta property="og:description" content="A lightweight intro to validating requests via annotations in Java.">
<meta property="og:image" content="/articles/maximilian-weisbecker-unsplash.webp">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/articles/constraint-violation/_payload.json">
<link rel="stylesheet" href="/_nuxt/entry.48TSr9H3.css">
<link rel="stylesheet" href="/_nuxt/DocumentDrivenNotFound.mRTpqdmC.css">
<link rel="stylesheet" href="/_nuxt/article.sY-Ghw0O.css">
<link rel="stylesheet" href="/_nuxt/ProseA.2x_jyKUO.css">
<link rel="stylesheet" href="/_nuxt/ProseP.kDZHH21E.css">
<link rel="stylesheet" href="/_nuxt/ProseEm.9Y6OZsrU.css">
<link rel="stylesheet" href="/_nuxt/ProseH2.Im87WwiD.css">
<link rel="stylesheet" href="/_nuxt/ProseCodeInline.WIOvVaba.css">
<link rel="stylesheet" href="/_nuxt/ProseUl.0lJph2sA.css">
<link rel="stylesheet" href="/_nuxt/ProseLi.yV30sKOK.css">
<link rel="stylesheet" href="/_nuxt/ProseHr.vrrV5eo5.css">
<link rel="stylesheet" href="/_nuxt/ProseH3.r11KyE_E.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.nIRUQbb-.css">
<link rel="stylesheet" href="/_nuxt/ProseCode.mdHiF9vo.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.K1v6OcRV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/NuxtImg.IMuEWkKN.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/document-driven.YPAL_iJq.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenEmpty.6hNPR_IB.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.WfV-qeZC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.APnhqRxY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.Kv18MxjU.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenNotFound.Mv7sGm5j.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/article.h2r__-Fq.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.mTGWEyPA.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/date.3uOv5BcS.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.-_s6BYNt.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.5NbcHtSi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.dKlCutHi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.2RNhG1sk.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.br4_b9ev.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.FzWO6JM4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.zjBrpWwT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseHr.imcooHUh.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.KhUp1cXa.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.ReNtLLWK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.YPypCd4h.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/default.qWMoRVHN.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/page.VDbuDNHh.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/client-db.W6mBvqO-.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/slugify.x2qvCfcZ.js">
<link rel="prefetch" as="style" href="/_nuxt/useStudio.lou0CNVN.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/useStudio.2__4RqJY.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/asyncData.WoLGFbkM.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/query.y98Ajdon.js">
<link rel="prefetch" as="style" href="/_nuxt/error-404._LjjY-y0.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.BfjbjVmM.js">
<link rel="prefetch" as="style" href="/_nuxt/error-500.Ke0_YfD7.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.3A2XXAJI.js">
<script type="module" src="/_nuxt/entry.K1v6OcRV.js" crossorigin></script><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:ybEcgm-v;}.pv-ZZs3hd{max-width:var(--elements-container-maxWidth);padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-ZZs3hd{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-ZZs3hd{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-ZZs3hd{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --alpine-readableLine: 68ch;--alpine-backdrop-backgroundColor: #f4f4f5b3;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--prose-p-fontSize: 18px;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 64rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--shadow-lg: 0px 10px 15px -3px #000000, 0px 4px 6px -4px #000000;--shadow-md: 0px 4px 6px -1px #000000, 0px 2px 4px -2px #000000;--shadow-sm: 0px 1px 3px 0px #000000, 0px 1px 2px -1px #000000;--shadow-xs: 0px 1px 2px 0px #000000;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #002e38;--color-primary-800: #005c70;--color-primary-700: #008aa9;--color-primary-600: #00b9e1;--color-primary-500: #1ad6ff;--color-primary-400: #40ddff;--color-primary-300: #66e4ff;--color-primary-200: #8deaff;--color-primary-100: #b3f1ff;--color-primary-50: #d9f8ff;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #002438;--color-blue-800: #004870;--color-blue-700: #006ca9;--color-blue-600: #0090e1;--color-blue-500: #1aadff;--color-blue-400: #40bbff;--color-blue-300: #66c8ff;--color-blue-200: #8dd6ff;--color-blue-100: #b3e4ff;--color-blue-50: #d9f1ff;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #380300;--color-red-800: #700700;--color-red-700: #a90a00;--color-red-600: #e10e00;--color-red-500: #ff281a;--color-red-400: #ff4c40;--color-red-300: #ff7066;--color-red-200: #ff948d;--color-red-100: #ffb7b3;--color-red-50: #ffdbd9;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #362b03;--color-yellow-800: #6d5605;--color-yellow-700: #a38108;--color-yellow-600: #daac0a;--color-yellow-500: #f5c828;--color-yellow-400: #f7d14c;--color-yellow-300: #f8da70;--color-yellow-200: #fae393;--color-yellow-100: #fcedb7;--color-yellow-50: #fdf6db;--color-green-900: #003f25;--color-green-800: #005e38;--color-green-700: #007e4a;--color-green-600: #009d5d;--color-green-500: #00bd6f;--color-green-400: #00dc82;--color-green-300: #30ffaa;--color-green-200: #83ffcc;--color-green-100: #acffdd;--color-green-50: #d6ffee;--color-gray-900: #18181B;--color-gray-800: #27272A;--color-gray-700: #3f3f46;--color-gray-600: #52525B;--color-gray-500: #71717A;--color-gray-400: #a1a1aa;--color-gray-300: #D4d4d8;--color-gray-200: #e4e4e7;--color-gray-100: #f4f4f5;--color-gray-50: #fafafa;--color-black: #0c0c0d;--color-white: #FFFFFF;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--alpine-body-color: var(--color-gray-800);--alpine-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-16);--elements-container-padding-sm: var(--space-12);--elements-container-padding-xs: var(--space-8);--elements-container-padding-mobile: var(--space-6);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--shadow-2xl: 0px 25px 50px -12px var(--color-gray-900);--shadow-xl: 0px 20px 25px -5px var(--color-gray-400), 0px 8px 10px -6px #000000;--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-color-hover: var(--typography-color-primary-500);--typography-color-secondary-900: var(--color-secondary-900);--typography-color-secondary-800: var(--color-secondary-800);--typography-color-secondary-700: var(--color-secondary-700);--typography-color-secondary-600: var(--color-secondary-600);--typography-color-secondary-500: var(--color-secondary-500);--typography-color-secondary-400: var(--color-secondary-400);--typography-color-secondary-300: var(--color-secondary-300);--typography-color-secondary-200: var(--color-secondary-200);--typography-color-secondary-100: var(--color-secondary-100);--typography-color-secondary-50: var(--color-secondary-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400); } }@media { :root.dark {--pinceau-mq: dark; --alpine-backdrop-backgroundColor: #18181bb3;--prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--alpine-body-color: var(--color-gray-200);--alpine-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-color-hover: var(--typography-color-primary-400);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-border-color-static: var(--typography-color-secondary-600); } }</style><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?f():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:f,addColorScheme:i,removeColorScheme:d};function i(o){const t=""+o+"",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function d(o){const t=""+o+"",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function f(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();
</script></head><body><div id="__nuxt"><div class="container pv-ZZs3hd pc-ybEcgm app-layout" data-v-6cb52e5d data-v-2fb10935><!--[--><div class="nuxt-progress" style="width:0%;height:3px;opacity:0;background-size:Infinity% auto;" data-v-6cb52e5d></div><header class="right" data-v-6cb52e5d data-v-28c70534><div class="menu" data-v-28c70534><button aria-label="Navigation Menu" data-v-28c70534><svg width="24" height="24" viewBox="0 0 68 68" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-28c70534><path d="M8 34C8 32.1362 8 31.2044 8.30448 30.4693C8.71046 29.4892 9.48915 28.7105 10.4693 28.3045C11.2044 28 12.1362 28 14 28C15.8638 28 16.7956 28 17.5307 28.3045C18.5108 28.7105 19.2895 29.4892 19.6955 30.4693C20 31.2044 20 32.1362 20 34C20 35.8638 20 36.7956 19.6955 37.5307C19.2895 38.5108 18.5108 39.2895 17.5307 39.6955C16.7956 40 15.8638 40 14 40C12.1362 40 11.2044 40 10.4693 39.6955C9.48915 39.2895 8.71046 38.5108 8.30448 37.5307C8 36.7956 8 35.8638 8 34Z" data-v-28c70534></path><path d="M28 34C28 32.1362 28 31.2044 28.3045 30.4693C28.7105 29.4892 29.4892 28.7105 30.4693 28.3045C31.2044 28 32.1362 28 34 28C35.8638 28 36.7956 28 37.5307 28.3045C38.5108 28.7105 39.2895 29.4892 39.6955 30.4693C40 31.2044 40 32.1362 40 34C40 35.8638 40 36.7956 39.6955 37.5307C39.2895 38.5108 38.5108 39.2895 37.5307 39.6955C36.7956 40 35.8638 40 34 40C32.1362 40 31.2044 40 30.4693 39.6955C29.4892 39.2895 28.7105 38.5108 28.3045 37.5307C28 36.7956 28 35.8638 28 34Z" data-v-28c70534></path><path d="M48 34C48 32.1362 48 31.2044 48.3045 30.4693C48.7105 29.4892 49.4892 28.7105 50.4693 28.3045C51.2044 28 52.1362 28 54 28C55.8638 28 56.7956 28 57.5307 28.3045C58.5108 28.7105 59.2895 29.4892 59.6955 30.4693C60 31.2044 60 32.1362 60 34C60 35.8638 60 36.7956 59.6955 37.5307C59.2895 38.5108 58.5108 39.2895 57.5307 39.6955C56.7956 40 55.8638 40 54 40C52.1362 40 51.2044 40 50.4693 39.6955C49.4892 39.2895 48.7105 38.5108 48.3045 37.5307C48 36.7956 48 35.8638 48 34Z" data-v-28c70534></path></svg></button></div><div class="overlay" data-v-28c70534><nav data-v-28c70534 data-v-4dd353d7><ul data-v-4dd353d7><!--[--><li data-v-4dd353d7><a href="/" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> About</a></li><li data-v-4dd353d7><a href="/articles" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Articles</a></li><li data-v-4dd353d7><a href="/contact" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Contact</a></li><!--]--></ul></nav></div><div class="logo" data-v-28c70534><a href="/" class="" data-v-28c70534><img src="/logo-dark.svg" class="dark-img" alt="alpine" width="89" height="31" data-v-28c70534><img src="/logo.svg" class="light-img" alt="alpine" width="89" height="31" data-v-28c70534></a></div><div class="main-nav" data-v-28c70534><nav data-v-28c70534 data-v-4dd353d7><ul data-v-4dd353d7><!--[--><li data-v-4dd353d7><a href="/" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> About</a></li><li data-v-4dd353d7><a href="/articles" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Articles</a></li><li data-v-4dd353d7><a href="/contact" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Contact</a></li><!--]--></ul></nav></div></header><!--[--><div class="document-driven-page"><article data-v-a6024b7c><a href="/articles" class="back" data-v-a6024b7c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-a6024b7c style="" width="1em" height="1em" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8"/></svg><span data-v-a6024b7c> Back </span></a><header data-v-a6024b7c><h1 class="title" data-v-a6024b7c>Constraint Validation in Spring Boot Microservices</h1><time datetime="2020-09-27T00:00:00.000Z" data-v-a6024b7c>September 27, 2020</time></header><div class="prose" data-v-a6024b7c><!--[--><div><p data-v-36727232><!--[-->In a microservice architecture, services may accept several, if not many, of the same inputs. This pattern can easily lead to code duplication and redundancy between services. In an effort to mitigate these drawbacks and keep service code focused, we can devise a robust solution involving several APIs provided by Spring and Java.<!--]--></p><p data-v-36727232><!--[--><em data-v-604c8a8c><!--[-->The following tutorial will assume some working knowledge of Java and Spring Boot, but will cater to a range of skill levels. Regardless, it never hurts to see another developer&#39;s code!<!--]--></em><!--]--></p><h2 id="background" data-v-2e52caf7><a aria-current="page" href="/articles/constraint-violation#background" class="router-link-active router-link-exact-active" data-v-2e52caf7><!--[-->Background<!--]--><!----></a></h2><p data-v-36727232><!--[-->Our solution will involve combining the Java and Spring Boot APIs, <code class="" data-v-3328a0cc><!--[-->ConstraintValidator<!--]--></code> and <code class="" data-v-3328a0cc><!--[-->ResponseEntityExceptionHandler<!--]--></code>, respectively.<!--]--></p><p data-v-36727232><!--[--><a href="http://hibernate.org/validator/" rel="nofollow" data-v-c43a607d><!--[-->Hibernate Validator<!--]--></a>, enhanced as part of <a href="https://jcp.org/en/jsr/detail?id=380" rel="nofollow" data-v-c43a607d><!--[-->JSR 380<!--]--></a>, is a specification of the Java API for standard <a href="https://beanvalidation.org/" rel="nofollow" data-v-c43a607d><!--[-->Bean validation<!--]--></a>.  In the context of Spring Boot applications, you may have used this without thinking twice.  Examples include:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@NotNull<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Min<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Max<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Pattern<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Past<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Email<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@PositiveOrZero<!--]--></code><!--]--></li><!--]--></ul><p data-v-36727232><!--[-->In this tutorial, we will examine how to go beyond these basic validations using the <code class="" data-v-3328a0cc><!--[-->ConstraintValidator<!--]--></code> interface to define our own set of constraints.<!--]--></p><p data-v-36727232><!--[-->While other forms of exception handling exist within the Spring ecosystem, the <code class="" data-v-3328a0cc><!--[-->ResponseEntityExceptionHandler<!--]--></code> provides global (and centralized) exception handling within a service.  This globalization is key to the efficacy of our custom constraint annotation since it allows us to validate multiple Beans (or fields within them). That said, we will investigate how we can leverage this class to gracefully handle violations to our constraints.<!--]--></p><hr data-v-0eadba52><h2 id="implementation" data-v-2e52caf7><a aria-current="page" href="/articles/constraint-violation#implementation" class="router-link-active router-link-exact-active" data-v-2e52caf7><!--[-->Implementation<!--]--><!----></a></h2><p data-v-36727232><!--[-->Let&#39;s dive in.  To avoid bloating the tutorial with boilerplate code, you will only find necessary blocks of code in the sections below.  This article is coupled with a working example on <a href="https://github.com/Verley93/annotation-validation" rel="nofollow" data-v-c43a607d><!--[-->GitHub<!--]--></a>.<!--]--></p><p data-v-36727232><!--[--><em data-v-604c8a8c><!--[-->Note: I will be making references to this example project throughout the tutorial.<!--]--></em><!--]--></p><h3 id="dependencies" data-v-046c734a><a aria-current="page" href="/articles/constraint-violation#dependencies" class="router-link-active router-link-exact-active" data-v-046c734a><!--[-->Dependencies<!--]--><!----></a></h3><p data-v-36727232><!--[-->The list is short and sweet:<!--]--></p><div class="highlight-groovy prose-code" meta data-v-559e4b00><!----><!--[--><pre class="language-groovy shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">implementation </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&#39;org.springframework.boot:spring-boot-starter-validation&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="creating-the-annotations" data-v-046c734a><a aria-current="page" href="/articles/constraint-violation#creating-the-annotations" class="router-link-active router-link-exact-active" data-v-046c734a><!--[-->Creating the Annotations<!--]--><!----></a></h3><p data-v-36727232><!--[-->We&#39;ll start simple.  Let&#39;s say we&#39;ve implemented a <em data-v-604c8a8c><!--[-->Fridge<!--]--></em> and <em data-v-604c8a8c><!--[-->Pantry Service<!--]--></em> of which allows us to:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->Manage the Fridge and Pantry repositories<!--]--></li><li data-v-0b3a9d36><!--[-->Accept POST and/or PUT requests with a JSON payload<!--]--></li><!--]--></ul><p data-v-36727232><!--[-->We want to validate common fields between request models of both services.  Our request model may look something like this:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FoodRequestModel.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FoodRequestModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String name;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">PositiveOrZero</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Quantity must be positive&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Max</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">value</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF"> 25</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Quantity must not exceed 25&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> int</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> quantity;
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String category;
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> boolean</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> refrigerated;
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->One of the simplest constraints we can build will involve composing existing constraints, such as <code class="" data-v-3328a0cc><!--[-->@PositiveOrZero<!--]--></code> and <code class="" data-v-3328a0cc><!--[-->@Max<!--]--></code> in the example above.  This allows us to put an explicit label on common constraints and call it &quot;business logic&quot;.  Below, we define <code class="" data-v-3328a0cc><!--[-->@FoodQuantity<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FoodQuantity.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Documented
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">PositiveOrZero</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Quantity must be positive&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Max</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">value</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF"> 25</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Quantity must not exceed 25&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="4"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Constraint</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">validatedBy</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {})
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Retention</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(RetentionPolicy.RUNTIME)
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Target</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">({ElementType.FIELD, ElementType.PARAMETER})
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> FoodQuantity</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    String </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">message</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Invalid quantity&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">;
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    Class</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&lt;?&gt;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">groups</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {};
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    Class</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&lt;?</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> extends Payload</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">payload</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {};
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->There&#39;s a lot going on here, so let&#39;s break this down:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Constraint<!--]--></code> marks an annotation as being a Bean Validation constraint and allows us to specify <code class="" data-v-3328a0cc><!--[-->ConstraintValidator<!--]--></code> implementations; zero, one, or many implementations are welcome here<!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Retention<!--]--></code> is set such that our annotation will be retained at runtime<!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Target<!--]--></code> is set such that we can validate different types of inputs to our services<!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->message<!--]--></code>, <code class="" data-v-3328a0cc><!--[-->groups<!--]--></code>, and <code class="" data-v-3328a0cc><!--[-->payload<!--]--></code> are required by <code class="" data-v-3328a0cc><!--[-->@Constraint<!--]--></code> but do not have to be set--these provide specificity beyond what we&#39;ll cover today<!--]--></li><!--]--></ul><p data-v-36727232><!--[-->By no means is this a simplification.  Looking past the verbosity, the annotation opens quite a few doors to make handling complexity a breeze as we&#39;ll see in the next example.<!--]--></p><hr data-v-0eadba52><p data-v-36727232><!--[-->Let&#39;s define a constraint for the <em data-v-604c8a8c><!--[-->category<!--]--></em> field such that:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->Category must be passed and cannot be empty<!--]--></li><li data-v-0b3a9d36><!--[-->Only certain categories are allowed to be passed<!--]--></li><li data-v-0b3a9d36><!--[-->Categories may differ between the <em data-v-604c8a8c><!--[-->Fridge<!--]--></em> and <em data-v-604c8a8c><!--[-->Pantry<!--]--></em> services<!--]--></li><!--]--></ul><p data-v-36727232><!--[-->To implement this annotation, we will expand upon the premise of our first annotation by adding a custom parameter and providing an implementation of the <code class="" data-v-3328a0cc><!--[-->ConstraintValidator<!--]--></code> interface.  The result looks something like this:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FoodCategory.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Documented
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">NotNull</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Category must be present&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">NotEmpty</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">message</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Category must not be empty&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="4"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Constraint</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">validatedBy</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> FoodCategoryValidator.class)
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Retention</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(RetentionPolicy.RUNTIME)
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Target</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">({ElementType.FIELD, ElementType.PARAMETER})
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> FoodCategory</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    String </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">message</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Invalid category&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">;
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    Class</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&lt;?&gt;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">groups</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {};
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    Class</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&lt;?</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> extends Payload</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">payload</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {};
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">allowed</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">default</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;dairy&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;grain&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">};
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->A few more things are happening in this annotation compared to <code class="" data-v-3328a0cc><!--[-->@FoodQuantity<!--]--></code>.  We&#39;ve specified a new parameter, <code class="" data-v-3328a0cc><!--[-->allowed<!--]--></code>, to restrict what may be passed into <code class="" data-v-3328a0cc><!--[-->category<!--]--></code>.  Notice the default value--this array is only referenced if values are not passed into <code class="" data-v-3328a0cc><!--[-->@FoodCategory<!--]--></code>.  To handle this constraint, we&#39;ve implemented <code class="" data-v-3328a0cc><!--[-->FoodCategoryValidator<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FoodCategoryValidator.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Slf4j
</span></span><span class="line" line="2"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FoodCategoryValidator</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> implements</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> ConstraintValidator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">FoodCategory</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&gt; {
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> List&lt;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&gt; allowed;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Override
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> void</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> initialize</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(FoodCategory </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">constraintAnnotation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">) {
</span></span><span class="line" line="8"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">        this</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">.allowed </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> Arrays.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">asList</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(constraintAnnotation.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">allowed</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">());
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    }
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Override
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> boolean</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> isValid</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(String </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">value</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, ConstraintValidatorContext </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">context</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">) {
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        log.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;isValid: value=[{}]&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, value);
</span></span><span class="line" line="14"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">!</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">allowed.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">contains</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(value.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">toLowerCase</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">())) {
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            String err </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;Category must be one of the following: &quot;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> allowed;
</span></span><span class="line" line="16"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            context.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">disableDefaultConstraintViolation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">();
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            context.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">buildConstraintViolationWithTemplate</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(err)
</span></span><span class="line" line="18"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                    .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">addConstraintViolation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">();
</span></span><span class="line" line="19"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">            return</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">;
</span></span><span class="line" line="20"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        }
</span></span><span class="line" line="21"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">;
</span></span><span class="line" line="22"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    }
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->Let&#39;s breakdown our new validator class:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->ConstraintValidator<!--]--></code> is parameterized with the annotation class and the type being validated--a <code class="" data-v-3328a0cc><!--[-->String<!--]--></code> containing the value of <em data-v-604c8a8c><!--[-->category<!--]--></em><!--]--></li><li data-v-0b3a9d36><!--[-->A global field <code class="" data-v-3328a0cc><!--[-->allowed<!--]--></code>, set within the overridden <code class="" data-v-3328a0cc><!--[-->initialize<!--]--></code> method
<ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->It is within this method that we gain access to the parameters of <code class="" data-v-3328a0cc><!--[-->@FoodCategory<!--]--></code> for use throughout the validator class<!--]--></li><!--]--></ul><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->isValid<!--]--></code> is the meat and bones of our constraint validation
<ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->For invalid scenarios, we disable the default constraint violation, build a proper error message, and return false--this eventually throws an exception we&#39;ll be interested in later<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-36727232><!--[-->Lastly, to get the most out of our annotation, we&#39;ll propagate the category field into two subclasses pertaining to each service.<!--]--></p><p data-v-36727232><!--[-->After all our hard work, we&#39;ve reached a clean set of request models ready to be bombarded with invalid values:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FoodRequestModel.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FoodRequestModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String name;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">FoodQuantity
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> int</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> quantity;
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> boolean</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> refrigerated;
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FridgeRequestModel.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FridgeRequestModel</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FoodRequestModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">FoodCategory</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">allowed</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;dairy&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;vegetables&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;beer&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">})
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String category;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>PantryRequestModel.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> PantryRequestModel</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FoodRequestModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">FoodCategory</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">allowed</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;grains&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;canned&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;snacks&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">})
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String category;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="handling-validation-errors" data-v-046c734a><a aria-current="page" href="/articles/constraint-violation#handling-validation-errors" class="router-link-active router-link-exact-active" data-v-046c734a><!--[-->Handling Validation Errors<!--]--><!----></a></h3><p data-v-36727232><!--[-->Until now, we&#39;ve only defined constraints we (and our consumers) must follow.  Let&#39;s open up an endpoint to allow food to be added to the fridge and test our constraints:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>FridgeController.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Slf4j
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Validated
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">RestController
</span></span><span class="line" line="4"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">RequestMapping</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">path</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF"> &quot;/api/v1/fridge&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">RequiredArgsConstructor</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">onConstructor_</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Autowired</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> FridgeController</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> final</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> FridgeService fridgeService;
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">PostMapping</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;/food&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">)
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> ResponseEntity&lt;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">FoodResponseModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">addFoodToFridgeV1</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(
</span></span><span class="line" line="12"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Valid</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">RequestBody</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> FridgeRequestModel </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">request</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">) {
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        log.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;addFoodToFridgeV1: request=[{}]&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, request);
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        FoodResponseModel response </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> fridgeService.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">addFoodToFridge</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(request);
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> ResponseEntity.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">ok</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(response);
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    }
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->There are a few critical aspects to note for our annotations to work properly:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Validated<!--]--></code> must be used either at the <em data-v-604c8a8c><!--[-->class<!--]--></em> or <em data-v-604c8a8c><!--[-->method<!--]--></em> level to indicate where validation needs to take place<!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@Valid<!--]--></code> is used to mark a <em data-v-604c8a8c><!--[-->property<!--]--></em> for validation cascading, which triggers our constraints<!--]--></li><!--]--></ul><p data-v-36727232><!--[-->Let&#39;s send a payload:<!--]--></p><div class="highlight-json prose-code" meta data-v-559e4b00><!----><!--[--><pre class="language-json shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D">// POST {{baseUrl}}/api/v1/fridge/food
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">{
</span></span><span class="line" line="3"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;name&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;milk&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="4"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;category&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;dairy&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="5"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;quantity&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="6"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;refrigerated&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">true
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->Success!  But let&#39;s see what happens when we send another payload we know will result in error:<!--]--></p><div class="highlight-json prose-code" meta data-v-559e4b00><!----><!--[--><pre class="language-json shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D">// POST {{baseUrl}}/api/v1/fridge/food
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">{
</span></span><span class="line" line="3"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;name&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;pinto beans&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="4"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;category&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;legumes&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="5"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;quantity&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">-3</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="6"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;refrigerated&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">true
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->Note we are violating multiple constraints for this request model.  You should see a verbose response containing the details of the errors encountered and the exceptions thrown.  This verbosity isn&#39;t ideal for us (or our consumers) to deal with, so let&#39;s filter out important details with a simple override of the <code class="" data-v-3328a0cc><!--[-->ResponseEntityExceptionHandler<!--]--></code>.<!--]--></p><p data-v-36727232><!--[-->A further look into the error response provided by Spring, you may notice the exception thrown: <code class="" data-v-3328a0cc><!--[-->MethodArgumentNotValidException<!--]--></code>.  This is the exception we will be interested in for handling constraint violations within the exception handler.<!--]--></p><p data-v-36727232><!--[-->First, we need a model to capture relevant information.  We&#39;re able to distill the following from the original Spring response:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>ErrorResponseModel.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> ErrorResponseModel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> final</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String errorMessage;
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> final</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> LocalDateTime timestamp;
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> final</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> String path;
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->Next, we&#39;ll construct both the global exception handler and a method to handle our constraints:<!--]--></p><div class="highlight-java prose-code" meta data-v-559e4b00><span class="filename" data-v-559e4b00>ErrorController.java</span><!--[--><pre class="language-java shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Slf4j
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">RestControllerAdvice
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> ErrorController</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> ResponseEntityExceptionHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> {
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    @</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Override
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">    protected</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> final</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> ResponseEntity&lt;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">Object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">handleMethodArgumentNotValid</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            MethodArgumentNotValidException </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">ex</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="8"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            HttpHeaders </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">headers</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            HttpStatus </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">status</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="10"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            WebRequest </span><span style="--shiki-default:#E36209;--shiki-dark:#FFAB70">request</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">) {
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        List&lt;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">&gt; errorMessages </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> ex.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">getBindingResult</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">().</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">getAllErrors</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">().</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">stream</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">()
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(DefaultMessageSourceResolvable</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">::</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">getDefaultMessage)
</span></span><span class="line" line="14"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">collect</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(Collectors.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">toList</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">());
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        log.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">error</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;handleMethodArgumentNotValid: errors=[{}]&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, errorMessages);
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8"> ResponseEntity&lt;&gt;(
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                ErrorResponseModel.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">builder</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">()
</span></span><span class="line" line="18"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">errorMessage</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(errorMessages.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">get</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">))
</span></span><span class="line" line="19"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">timestamp</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(LocalDateTime.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">now</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">())
</span></span><span class="line" line="20"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">path</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(request.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">getDescription</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">false</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">))
</span></span><span class="line" line="21"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0">build</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">(),
</span></span><span class="line" line="22"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">                HttpStatus.BAD_REQUEST
</span></span><span class="line" line="23"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        );
</span></span><span class="line" line="24"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    }
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-36727232><!--[-->Let&#39;s note a few things here:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->Explore what might differ for violating constraints of <code class="" data-v-3328a0cc><!--[-->@PathVariable<!--]--></code> or <code class="" data-v-3328a0cc><!--[-->@RequestParam<!--]--></code><!--]--></li><li data-v-0b3a9d36><!--[--><code class="" data-v-3328a0cc><!--[-->@RestControllerAdvice<!--]--></code> is just that--a specialized component for classes that declare <code class="" data-v-3328a0cc><!--[-->@ExceptionHandler<!--]--></code> methods shared across multiple controller classes<!--]--></li><li data-v-0b3a9d36><!--[-->We override the <code class="" data-v-3328a0cc><!--[-->ResponseEntityExceptionHandler<!--]--></code>&#39;s <code class="" data-v-3328a0cc><!--[-->handleMethodArgumentNotValid<!--]--></code> method so we may
<ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->Log important information<!--]--></li><li data-v-0b3a9d36><!--[-->Build a small, focused error response<!--]--></li><li data-v-0b3a9d36><!--[-->Return an HTTP status code of our choice, based on the constraint violated<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-36727232><!--[-->Upon sending a payload that violates the constraints we&#39;ve defined, you should see a succinct response indicating where we went wrong:<!--]--></p><div class="highlight-json prose-code" meta data-v-559e4b00><!----><!--[--><pre class="language-json shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">{
</span></span><span class="line" line="2"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;errorMessage&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;Quantity must be positive&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="3"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;timestamp&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;2020-11-20T19:18:31.1899697&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="4"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">    &quot;path&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;uri=/api/v1/pantry/food&quot;
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-559e4b00 data-v-fdc1fad8><span class="sr-only" data-v-fdc1fad8>Copy to clipboard</span><span class="icon-wrapper" data-v-fdc1fad8><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fdc1fad8 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-6c08ada5><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><hr data-v-0eadba52><h2 id="challenge" data-v-2e52caf7><a aria-current="page" href="/articles/constraint-violation#challenge" class="router-link-active router-link-exact-active" data-v-2e52caf7><!--[-->Challenge<!--]--><!----></a></h2><p data-v-36727232><!--[-->This tutorial provides some basic forms of constraint validation within a Spring-/Java-based REST service.  If you are looking to take things a bit further, here are a few places you can start:<!--]--></p><ul data-v-d1c076b7><!--[--><li data-v-0b3a9d36><!--[-->Implement nested constraints within a complex request model<!--]--></li><li data-v-0b3a9d36><!--[-->Increase the flexibility of the HTTP status code returned to the consumer<!--]--></li><li data-v-0b3a9d36><!--[-->Expand the sample project to handle the nuance of a composite service--a <em data-v-604c8a8c><!--[-->Picnic Service<!--]--></em>, for instance<!--]--></li><li data-v-0b3a9d36><!--[-->Explore the <code class="" data-v-3328a0cc><!--[-->@Constraint<!--]--></code> API further--what might <code class="" data-v-3328a0cc><!--[-->payload<!--]--></code> and <code class="" data-v-3328a0cc><!--[-->groups<!--]--></code> be used for?<!--]--></li><!--]--></ul><hr data-v-0eadba52><h2 id="closing" data-v-2e52caf7><a aria-current="page" href="/articles/constraint-violation#closing" class="router-link-active router-link-exact-active" data-v-2e52caf7><!--[-->Closing<!--]--><!----></a></h2><p data-v-36727232><!--[-->This concludes the tutorial on implementing custom constraint validators using annotations!  Don&#39;t be afraid to let me know if I missed anything.  I certainly welcome (and appreciate) criticism, questions, and the like.<!--]--></p><p data-v-36727232><!--[-->For further reference, here is the <a href="https://github.com/Verley93/annotation-validation" rel="nofollow" data-v-c43a607d><!--[-->GitHub repository<!--]--></a> with the full working code and examples presented in this article.<!--]--></p><style>html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}</style></div><!--]--><div class="back-to-top" data-v-a6024b7c><a data-v-a6024b7c data-v-c43a607d><!--[-->Back to top <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-a6024b7c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6c08ada5><path fill="currentColor" d="M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20z"/></svg><!--]--></a></div></div></article></div><!--]--><footer class="center" data-v-6cb52e5d data-v-1adb343d><!----><div class="navigation" data-v-1adb343d><nav data-v-1adb343d data-v-4dd353d7><ul data-v-4dd353d7><!--[--><li data-v-4dd353d7><a href="/" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> About</a></li><li data-v-4dd353d7><a href="/articles" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Articles</a></li><li data-v-4dd353d7><a href="/contact" class="" data-v-4dd353d7><span class="underline-fx" data-v-4dd353d7></span> Contact</a></li><!--]--></ul></nav></div><p class="message" data-v-1adb343d>Follow me on</p><div class="icons" data-v-1adb343d><div class="social" data-v-1adb343d><!--[--><a href="https://twitter.com/verley93" rel="noopener noreferrer" target="_blank" title="verley93" aria-label="verley93" data-v-1780d8c7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-1780d8c7 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6c08ada5><path fill="currentColor" d="M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12"/></svg></a><a href="https://instagram.com/devlinverley" rel="noopener noreferrer" target="_blank" title="devlinverley" aria-label="devlinverley" data-v-1780d8c7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-1780d8c7 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6c08ada5><path fill="currentColor" d="M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2m4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12M20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4M12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87m0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33"/></svg></a><a href="https://github.com/verley93" rel="noopener noreferrer" target="_blank" title="verley93" aria-label="verley93" data-v-1780d8c7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-1780d8c7 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6c08ada5><path fill="currentColor" d="M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.562 4.937a2.368 2.368 0 0 1 .674 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247"/></svg></a><a href="https://www.medium.com/@verley93" rel="noopener noreferrer" target="_blank" title="Medium" aria-label="Medium" data-v-1780d8c7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-1780d8c7 style="" width="1em" height="1em" viewBox="0 0 16 16" data-v-6c08ada5><path fill="currentColor" d="M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8m4.95 0c0 2.34-1.01 4.236-2.256 4.236S9.463 10.339 9.463 8c0-2.34 1.01-4.236 2.256-4.236S13.975 5.661 13.975 8M16 8c0 2.096-.355 3.795-.794 3.795c-.438 0-.793-1.7-.793-3.795c0-2.096.355-3.795.794-3.795c.438 0 .793 1.699.793 3.795"/></svg></a><a href="https://www.linkedin.com/in/devlinverley" rel="noopener noreferrer" target="_blank" title="LinkedIn" aria-label="LinkedIn" data-v-1780d8c7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-1780d8c7 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-6c08ada5><path fill="currentColor" d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z"/></svg></a><!--]--></div><div class="color-mode-switch" data-v-1adb343d><button aria-label="Color Mode" data-v-1adb343d data-v-cffe2946><span data-v-cffe2946></span></button></div></div></footer><!--]--></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/articles/constraint-violation/_payload.json">[{"state":1,"once":4014,"_errors":4016,"serverRendered":348,"path":7,"prerenderedAt":4018},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":3949,"$sdd-globals":3970,"$scolor-mode":3972,"$sdd-navigation":3974,"$sicons":3995},["ShallowRef",4],["ShallowReactive",5],{"/articles/constraint-violation":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":11,"description":12,"cover":13,"draft":9,"date":14,"author":15,"layout":19,"body":20,"_type":3944,"_id":3945,"_source":3946,"_file":3947,"_extension":3948},"/articles/constraint-violation","articles",false,"","Constraint Validation in Spring Boot Microservices","A lightweight intro to validating requests via annotations in Java.","/articles/maximilian-weisbecker-unsplash.webp","2020-09-27T00:00:00.000Z",{"name":16,"avatarUrl":17,"link":18},"Devlin Verley","https://drive.google.com/file/d/1G2pwYWjHjdoXqfTsbyKtRnYl6mUFlvCH/view?usp=sharing","https://twitter.com/verley93","article",{"type":21,"children":22,"toc":3934},"root",[23,31,40,47,69,101,169,181,193,197,203,217,225,232,237,265,271,289,302,307,549,575,912,917,990,995,998,1010,1040,1052,1410,1451,1928,1933,2011,2016,2021,2135,2258,2380,2386,2391,2752,2757,2803,2808,2922,2927,3030,3041,3054,3059,3156,3161,3670,3675,3752,3757,3837,3840,3846,3851,3901,3904,3910,3915,3928],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28],{"type":29,"value":30},"text","In a microservice architecture, services may accept several, if not many, of the same inputs. This pattern can easily lead to code duplication and redundancy between services. In an effort to mitigate these drawbacks and keep service code focused, we can devise a robust solution involving several APIs provided by Spring and Java.",{"type":24,"tag":25,"props":32,"children":33},{},[34],{"type":24,"tag":35,"props":36,"children":37},"em",{},[38],{"type":29,"value":39},"The following tutorial will assume some working knowledge of Java and Spring Boot, but will cater to a range of skill levels. Regardless, it never hurts to see another developer's code!",{"type":24,"tag":41,"props":42,"children":44},"h2",{"id":43},"background",[45],{"type":29,"value":46},"Background",{"type":24,"tag":25,"props":48,"children":49},{},[50,52,59,61,67],{"type":29,"value":51},"Our solution will involve combining the Java and Spring Boot APIs, ",{"type":24,"tag":53,"props":54,"children":56},"code",{"className":55},[],[57],{"type":29,"value":58},"ConstraintValidator",{"type":29,"value":60}," and ",{"type":24,"tag":53,"props":62,"children":64},{"className":63},[],[65],{"type":29,"value":66},"ResponseEntityExceptionHandler",{"type":29,"value":68},", respectively.",{"type":24,"tag":25,"props":70,"children":71},{},[72,81,83,90,92,99],{"type":24,"tag":73,"props":74,"children":78},"a",{"href":75,"rel":76},"http://hibernate.org/validator/",[77],"nofollow",[79],{"type":29,"value":80},"Hibernate Validator",{"type":29,"value":82},", enhanced as part of ",{"type":24,"tag":73,"props":84,"children":87},{"href":85,"rel":86},"https://jcp.org/en/jsr/detail?id=380",[77],[88],{"type":29,"value":89},"JSR 380",{"type":29,"value":91},", is a specification of the Java API for standard ",{"type":24,"tag":73,"props":93,"children":96},{"href":94,"rel":95},"https://beanvalidation.org/",[77],[97],{"type":29,"value":98},"Bean validation",{"type":29,"value":100},".  In the context of Spring Boot applications, you may have used this without thinking twice.  Examples include:",{"type":24,"tag":102,"props":103,"children":104},"ul",{},[105,115,124,133,142,151,160],{"type":24,"tag":106,"props":107,"children":108},"li",{},[109],{"type":24,"tag":53,"props":110,"children":112},{"className":111},[],[113],{"type":29,"value":114},"@NotNull",{"type":24,"tag":106,"props":116,"children":117},{},[118],{"type":24,"tag":53,"props":119,"children":121},{"className":120},[],[122],{"type":29,"value":123},"@Min",{"type":24,"tag":106,"props":125,"children":126},{},[127],{"type":24,"tag":53,"props":128,"children":130},{"className":129},[],[131],{"type":29,"value":132},"@Max",{"type":24,"tag":106,"props":134,"children":135},{},[136],{"type":24,"tag":53,"props":137,"children":139},{"className":138},[],[140],{"type":29,"value":141},"@Pattern",{"type":24,"tag":106,"props":143,"children":144},{},[145],{"type":24,"tag":53,"props":146,"children":148},{"className":147},[],[149],{"type":29,"value":150},"@Past",{"type":24,"tag":106,"props":152,"children":153},{},[154],{"type":24,"tag":53,"props":155,"children":157},{"className":156},[],[158],{"type":29,"value":159},"@Email",{"type":24,"tag":106,"props":161,"children":162},{},[163],{"type":24,"tag":53,"props":164,"children":166},{"className":165},[],[167],{"type":29,"value":168},"@PositiveOrZero",{"type":24,"tag":25,"props":170,"children":171},{},[172,174,179],{"type":29,"value":173},"In this tutorial, we will examine how to go beyond these basic validations using the ",{"type":24,"tag":53,"props":175,"children":177},{"className":176},[],[178],{"type":29,"value":58},{"type":29,"value":180}," interface to define our own set of constraints.",{"type":24,"tag":25,"props":182,"children":183},{},[184,186,191],{"type":29,"value":185},"While other forms of exception handling exist within the Spring ecosystem, the ",{"type":24,"tag":53,"props":187,"children":189},{"className":188},[],[190],{"type":29,"value":66},{"type":29,"value":192}," provides global (and centralized) exception handling within a service.  This globalization is key to the efficacy of our custom constraint annotation since it allows us to validate multiple Beans (or fields within them). That said, we will investigate how we can leverage this class to gracefully handle violations to our constraints.",{"type":24,"tag":194,"props":195,"children":196},"hr",{},[],{"type":24,"tag":41,"props":198,"children":200},{"id":199},"implementation",[201],{"type":29,"value":202},"Implementation",{"type":24,"tag":25,"props":204,"children":205},{},[206,208,215],{"type":29,"value":207},"Let's dive in.  To avoid bloating the tutorial with boilerplate code, you will only find necessary blocks of code in the sections below.  This article is coupled with a working example on ",{"type":24,"tag":73,"props":209,"children":212},{"href":210,"rel":211},"https://github.com/Verley93/annotation-validation",[77],[213],{"type":29,"value":214},"GitHub",{"type":29,"value":216},".",{"type":24,"tag":25,"props":218,"children":219},{},[220],{"type":24,"tag":35,"props":221,"children":222},{},[223],{"type":29,"value":224},"Note: I will be making references to this example project throughout the tutorial.",{"type":24,"tag":226,"props":227,"children":229},"h3",{"id":228},"dependencies",[230],{"type":29,"value":231},"Dependencies",{"type":24,"tag":25,"props":233,"children":234},{},[235],{"type":29,"value":236},"The list is short and sweet:",{"type":24,"tag":238,"props":239,"children":243},"pre",{"className":240,"code":241,"language":242,"meta":10,"style":10},"language-groovy shiki shiki-themes github-light github-dark","implementation 'org.springframework.boot:spring-boot-starter-validation'\n","groovy",[244],{"type":24,"tag":53,"props":245,"children":246},{"__ignoreMap":10},[247],{"type":24,"tag":248,"props":249,"children":252},"span",{"class":250,"line":251},"line",1,[253,259],{"type":24,"tag":248,"props":254,"children":256},{"style":255},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[257],{"type":29,"value":258},"implementation ",{"type":24,"tag":248,"props":260,"children":262},{"style":261},"--shiki-default:#032F62;--shiki-dark:#9ECBFF",[263],{"type":29,"value":264},"'org.springframework.boot:spring-boot-starter-validation'\n",{"type":24,"tag":226,"props":266,"children":268},{"id":267},"creating-the-annotations",[269],{"type":29,"value":270},"Creating the Annotations",{"type":24,"tag":25,"props":272,"children":273},{},[274,276,281,282,287],{"type":29,"value":275},"We'll start simple.  Let's say we've implemented a ",{"type":24,"tag":35,"props":277,"children":278},{},[279],{"type":29,"value":280},"Fridge",{"type":29,"value":60},{"type":24,"tag":35,"props":283,"children":284},{},[285],{"type":29,"value":286},"Pantry Service",{"type":29,"value":288}," of which allows us to:",{"type":24,"tag":102,"props":290,"children":291},{},[292,297],{"type":24,"tag":106,"props":293,"children":294},{},[295],{"type":29,"value":296},"Manage the Fridge and Pantry repositories",{"type":24,"tag":106,"props":298,"children":299},{},[300],{"type":29,"value":301},"Accept POST and/or PUT requests with a JSON payload",{"type":24,"tag":25,"props":303,"children":304},{},[305],{"type":29,"value":306},"We want to validate common fields between request models of both services.  Our request model may look something like this:",{"type":24,"tag":238,"props":308,"children":313},{"className":309,"code":310,"filename":311,"language":312,"meta":10,"style":10},"language-java shiki shiki-themes github-light github-dark","public class FoodRequestModel {\n\n    private String name;\n\n    @PositiveOrZero(message = \"Quantity must be positive\")\n    @Max(value = 25, message = \"Quantity must not exceed 25\")\n    private int quantity;\n\n    private String category;\n\n    private boolean refrigerated;\n\n}\n","FoodRequestModel.java","java",[314],{"type":24,"tag":53,"props":315,"children":316},{"__ignoreMap":10},[317,342,352,366,374,414,467,485,493,506,514,532,540],{"type":24,"tag":248,"props":318,"children":319},{"class":250,"line":251},[320,326,331,337],{"type":24,"tag":248,"props":321,"children":323},{"style":322},"--shiki-default:#D73A49;--shiki-dark:#F97583",[324],{"type":29,"value":325},"public",{"type":24,"tag":248,"props":327,"children":328},{"style":322},[329],{"type":29,"value":330}," class",{"type":24,"tag":248,"props":332,"children":334},{"style":333},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[335],{"type":29,"value":336}," FoodRequestModel",{"type":24,"tag":248,"props":338,"children":339},{"style":255},[340],{"type":29,"value":341}," {\n",{"type":24,"tag":248,"props":343,"children":345},{"class":250,"line":344},2,[346],{"type":24,"tag":248,"props":347,"children":349},{"emptyLinePlaceholder":348},true,[350],{"type":29,"value":351},"\n",{"type":24,"tag":248,"props":353,"children":355},{"class":250,"line":354},3,[356,361],{"type":24,"tag":248,"props":357,"children":358},{"style":322},[359],{"type":29,"value":360},"    private",{"type":24,"tag":248,"props":362,"children":363},{"style":255},[364],{"type":29,"value":365}," String name;\n",{"type":24,"tag":248,"props":367,"children":369},{"class":250,"line":368},4,[370],{"type":24,"tag":248,"props":371,"children":372},{"emptyLinePlaceholder":348},[373],{"type":29,"value":351},{"type":24,"tag":248,"props":375,"children":377},{"class":250,"line":376},5,[378,383,388,393,399,404,409],{"type":24,"tag":248,"props":379,"children":380},{"style":255},[381],{"type":29,"value":382},"    @",{"type":24,"tag":248,"props":384,"children":385},{"style":322},[386],{"type":29,"value":387},"PositiveOrZero",{"type":24,"tag":248,"props":389,"children":390},{"style":255},[391],{"type":29,"value":392},"(",{"type":24,"tag":248,"props":394,"children":396},{"style":395},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[397],{"type":29,"value":398},"message",{"type":24,"tag":248,"props":400,"children":401},{"style":322},[402],{"type":29,"value":403}," =",{"type":24,"tag":248,"props":405,"children":406},{"style":261},[407],{"type":29,"value":408}," \"Quantity must be positive\"",{"type":24,"tag":248,"props":410,"children":411},{"style":255},[412],{"type":29,"value":413},")\n",{"type":24,"tag":248,"props":415,"children":417},{"class":250,"line":416},6,[418,422,427,431,436,440,445,450,454,458,463],{"type":24,"tag":248,"props":419,"children":420},{"style":255},[421],{"type":29,"value":382},{"type":24,"tag":248,"props":423,"children":424},{"style":322},[425],{"type":29,"value":426},"Max",{"type":24,"tag":248,"props":428,"children":429},{"style":255},[430],{"type":29,"value":392},{"type":24,"tag":248,"props":432,"children":433},{"style":395},[434],{"type":29,"value":435},"value",{"type":24,"tag":248,"props":437,"children":438},{"style":322},[439],{"type":29,"value":403},{"type":24,"tag":248,"props":441,"children":442},{"style":395},[443],{"type":29,"value":444}," 25",{"type":24,"tag":248,"props":446,"children":447},{"style":255},[448],{"type":29,"value":449},", ",{"type":24,"tag":248,"props":451,"children":452},{"style":395},[453],{"type":29,"value":398},{"type":24,"tag":248,"props":455,"children":456},{"style":322},[457],{"type":29,"value":403},{"type":24,"tag":248,"props":459,"children":460},{"style":261},[461],{"type":29,"value":462}," \"Quantity must not exceed 25\"",{"type":24,"tag":248,"props":464,"children":465},{"style":255},[466],{"type":29,"value":413},{"type":24,"tag":248,"props":468,"children":470},{"class":250,"line":469},7,[471,475,480],{"type":24,"tag":248,"props":472,"children":473},{"style":322},[474],{"type":29,"value":360},{"type":24,"tag":248,"props":476,"children":477},{"style":322},[478],{"type":29,"value":479}," int",{"type":24,"tag":248,"props":481,"children":482},{"style":255},[483],{"type":29,"value":484}," quantity;\n",{"type":24,"tag":248,"props":486,"children":488},{"class":250,"line":487},8,[489],{"type":24,"tag":248,"props":490,"children":491},{"emptyLinePlaceholder":348},[492],{"type":29,"value":351},{"type":24,"tag":248,"props":494,"children":496},{"class":250,"line":495},9,[497,501],{"type":24,"tag":248,"props":498,"children":499},{"style":322},[500],{"type":29,"value":360},{"type":24,"tag":248,"props":502,"children":503},{"style":255},[504],{"type":29,"value":505}," String category;\n",{"type":24,"tag":248,"props":507,"children":509},{"class":250,"line":508},10,[510],{"type":24,"tag":248,"props":511,"children":512},{"emptyLinePlaceholder":348},[513],{"type":29,"value":351},{"type":24,"tag":248,"props":515,"children":517},{"class":250,"line":516},11,[518,522,527],{"type":24,"tag":248,"props":519,"children":520},{"style":322},[521],{"type":29,"value":360},{"type":24,"tag":248,"props":523,"children":524},{"style":322},[525],{"type":29,"value":526}," boolean",{"type":24,"tag":248,"props":528,"children":529},{"style":255},[530],{"type":29,"value":531}," refrigerated;\n",{"type":24,"tag":248,"props":533,"children":535},{"class":250,"line":534},12,[536],{"type":24,"tag":248,"props":537,"children":538},{"emptyLinePlaceholder":348},[539],{"type":29,"value":351},{"type":24,"tag":248,"props":541,"children":543},{"class":250,"line":542},13,[544],{"type":24,"tag":248,"props":545,"children":546},{"style":255},[547],{"type":29,"value":548},"}\n",{"type":24,"tag":25,"props":550,"children":551},{},[552,554,559,560,565,567,573],{"type":29,"value":553},"One of the simplest constraints we can build will involve composing existing constraints, such as ",{"type":24,"tag":53,"props":555,"children":557},{"className":556},[],[558],{"type":29,"value":168},{"type":29,"value":60},{"type":24,"tag":53,"props":561,"children":563},{"className":562},[],[564],{"type":29,"value":132},{"type":29,"value":566}," in the example above.  This allows us to put an explicit label on common constraints and call it \"business logic\".  Below, we define ",{"type":24,"tag":53,"props":568,"children":570},{"className":569},[],[571],{"type":29,"value":572},"@FoodQuantity",{"type":29,"value":574},":",{"type":24,"tag":238,"props":576,"children":579},{"className":309,"code":577,"filename":578,"language":312,"meta":10,"style":10},"@Documented\n@PositiveOrZero(message = \"Quantity must be positive\")\n@Max(value = 25, message = \"Quantity must not exceed 25\")\n@Constraint(validatedBy = {})\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\npublic @interface FoodQuantity {\n\n    String message() default \"Invalid quantity\";\n\n    Class\u003C?>[] groups() default {};\n\n    Class\u003C? extends Payload>[] payload() default {};\n\n}\n","FoodQuantity.java",[580],{"type":24,"tag":53,"props":581,"children":582},{"__ignoreMap":10},[583,596,627,674,704,721,738,764,771,803,810,846,853,896,904],{"type":24,"tag":248,"props":584,"children":585},{"class":250,"line":251},[586,591],{"type":24,"tag":248,"props":587,"children":588},{"style":255},[589],{"type":29,"value":590},"@",{"type":24,"tag":248,"props":592,"children":593},{"style":322},[594],{"type":29,"value":595},"Documented\n",{"type":24,"tag":248,"props":597,"children":598},{"class":250,"line":344},[599,603,607,611,615,619,623],{"type":24,"tag":248,"props":600,"children":601},{"style":255},[602],{"type":29,"value":590},{"type":24,"tag":248,"props":604,"children":605},{"style":322},[606],{"type":29,"value":387},{"type":24,"tag":248,"props":608,"children":609},{"style":255},[610],{"type":29,"value":392},{"type":24,"tag":248,"props":612,"children":613},{"style":395},[614],{"type":29,"value":398},{"type":24,"tag":248,"props":616,"children":617},{"style":322},[618],{"type":29,"value":403},{"type":24,"tag":248,"props":620,"children":621},{"style":261},[622],{"type":29,"value":408},{"type":24,"tag":248,"props":624,"children":625},{"style":255},[626],{"type":29,"value":413},{"type":24,"tag":248,"props":628,"children":629},{"class":250,"line":354},[630,634,638,642,646,650,654,658,662,666,670],{"type":24,"tag":248,"props":631,"children":632},{"style":255},[633],{"type":29,"value":590},{"type":24,"tag":248,"props":635,"children":636},{"style":322},[637],{"type":29,"value":426},{"type":24,"tag":248,"props":639,"children":640},{"style":255},[641],{"type":29,"value":392},{"type":24,"tag":248,"props":643,"children":644},{"style":395},[645],{"type":29,"value":435},{"type":24,"tag":248,"props":647,"children":648},{"style":322},[649],{"type":29,"value":403},{"type":24,"tag":248,"props":651,"children":652},{"style":395},[653],{"type":29,"value":444},{"type":24,"tag":248,"props":655,"children":656},{"style":255},[657],{"type":29,"value":449},{"type":24,"tag":248,"props":659,"children":660},{"style":395},[661],{"type":29,"value":398},{"type":24,"tag":248,"props":663,"children":664},{"style":322},[665],{"type":29,"value":403},{"type":24,"tag":248,"props":667,"children":668},{"style":261},[669],{"type":29,"value":462},{"type":24,"tag":248,"props":671,"children":672},{"style":255},[673],{"type":29,"value":413},{"type":24,"tag":248,"props":675,"children":676},{"class":250,"line":368},[677,681,686,690,695,699],{"type":24,"tag":248,"props":678,"children":679},{"style":255},[680],{"type":29,"value":590},{"type":24,"tag":248,"props":682,"children":683},{"style":322},[684],{"type":29,"value":685},"Constraint",{"type":24,"tag":248,"props":687,"children":688},{"style":255},[689],{"type":29,"value":392},{"type":24,"tag":248,"props":691,"children":692},{"style":395},[693],{"type":29,"value":694},"validatedBy",{"type":24,"tag":248,"props":696,"children":697},{"style":322},[698],{"type":29,"value":403},{"type":24,"tag":248,"props":700,"children":701},{"style":255},[702],{"type":29,"value":703}," {})\n",{"type":24,"tag":248,"props":705,"children":706},{"class":250,"line":376},[707,711,716],{"type":24,"tag":248,"props":708,"children":709},{"style":255},[710],{"type":29,"value":590},{"type":24,"tag":248,"props":712,"children":713},{"style":322},[714],{"type":29,"value":715},"Retention",{"type":24,"tag":248,"props":717,"children":718},{"style":255},[719],{"type":29,"value":720},"(RetentionPolicy.RUNTIME)\n",{"type":24,"tag":248,"props":722,"children":723},{"class":250,"line":416},[724,728,733],{"type":24,"tag":248,"props":725,"children":726},{"style":255},[727],{"type":29,"value":590},{"type":24,"tag":248,"props":729,"children":730},{"style":322},[731],{"type":29,"value":732},"Target",{"type":24,"tag":248,"props":734,"children":735},{"style":255},[736],{"type":29,"value":737},"({ElementType.FIELD, ElementType.PARAMETER})\n",{"type":24,"tag":248,"props":739,"children":740},{"class":250,"line":469},[741,745,750,755,760],{"type":24,"tag":248,"props":742,"children":743},{"style":322},[744],{"type":29,"value":325},{"type":24,"tag":248,"props":746,"children":747},{"style":255},[748],{"type":29,"value":749}," @",{"type":24,"tag":248,"props":751,"children":752},{"style":322},[753],{"type":29,"value":754},"interface",{"type":24,"tag":248,"props":756,"children":757},{"style":322},[758],{"type":29,"value":759}," FoodQuantity",{"type":24,"tag":248,"props":761,"children":762},{"style":255},[763],{"type":29,"value":341},{"type":24,"tag":248,"props":765,"children":766},{"class":250,"line":487},[767],{"type":24,"tag":248,"props":768,"children":769},{"emptyLinePlaceholder":348},[770],{"type":29,"value":351},{"type":24,"tag":248,"props":772,"children":773},{"class":250,"line":495},[774,779,783,788,793,798],{"type":24,"tag":248,"props":775,"children":776},{"style":255},[777],{"type":29,"value":778},"    String ",{"type":24,"tag":248,"props":780,"children":781},{"style":333},[782],{"type":29,"value":398},{"type":24,"tag":248,"props":784,"children":785},{"style":255},[786],{"type":29,"value":787},"() ",{"type":24,"tag":248,"props":789,"children":790},{"style":322},[791],{"type":29,"value":792},"default",{"type":24,"tag":248,"props":794,"children":795},{"style":261},[796],{"type":29,"value":797}," \"Invalid quantity\"",{"type":24,"tag":248,"props":799,"children":800},{"style":255},[801],{"type":29,"value":802},";\n",{"type":24,"tag":248,"props":804,"children":805},{"class":250,"line":508},[806],{"type":24,"tag":248,"props":807,"children":808},{"emptyLinePlaceholder":348},[809],{"type":29,"value":351},{"type":24,"tag":248,"props":811,"children":812},{"class":250,"line":516},[813,818,823,828,833,837,841],{"type":24,"tag":248,"props":814,"children":815},{"style":255},[816],{"type":29,"value":817},"    Class",{"type":24,"tag":248,"props":819,"children":820},{"style":322},[821],{"type":29,"value":822},"\u003C?>",{"type":24,"tag":248,"props":824,"children":825},{"style":255},[826],{"type":29,"value":827},"[] ",{"type":24,"tag":248,"props":829,"children":830},{"style":333},[831],{"type":29,"value":832},"groups",{"type":24,"tag":248,"props":834,"children":835},{"style":255},[836],{"type":29,"value":787},{"type":24,"tag":248,"props":838,"children":839},{"style":322},[840],{"type":29,"value":792},{"type":24,"tag":248,"props":842,"children":843},{"style":255},[844],{"type":29,"value":845}," {};\n",{"type":24,"tag":248,"props":847,"children":848},{"class":250,"line":534},[849],{"type":24,"tag":248,"props":850,"children":851},{"emptyLinePlaceholder":348},[852],{"type":29,"value":351},{"type":24,"tag":248,"props":854,"children":855},{"class":250,"line":542},[856,860,865,870,875,879,884,888,892],{"type":24,"tag":248,"props":857,"children":858},{"style":255},[859],{"type":29,"value":817},{"type":24,"tag":248,"props":861,"children":862},{"style":322},[863],{"type":29,"value":864},"\u003C?",{"type":24,"tag":248,"props":866,"children":867},{"style":255},[868],{"type":29,"value":869}," extends Payload",{"type":24,"tag":248,"props":871,"children":872},{"style":322},[873],{"type":29,"value":874},">",{"type":24,"tag":248,"props":876,"children":877},{"style":255},[878],{"type":29,"value":827},{"type":24,"tag":248,"props":880,"children":881},{"style":333},[882],{"type":29,"value":883},"payload",{"type":24,"tag":248,"props":885,"children":886},{"style":255},[887],{"type":29,"value":787},{"type":24,"tag":248,"props":889,"children":890},{"style":322},[891],{"type":29,"value":792},{"type":24,"tag":248,"props":893,"children":894},{"style":255},[895],{"type":29,"value":845},{"type":24,"tag":248,"props":897,"children":899},{"class":250,"line":898},14,[900],{"type":24,"tag":248,"props":901,"children":902},{"emptyLinePlaceholder":348},[903],{"type":29,"value":351},{"type":24,"tag":248,"props":905,"children":907},{"class":250,"line":906},15,[908],{"type":24,"tag":248,"props":909,"children":910},{"style":255},[911],{"type":29,"value":548},{"type":24,"tag":25,"props":913,"children":914},{},[915],{"type":29,"value":916},"There's a lot going on here, so let's break this down:",{"type":24,"tag":102,"props":918,"children":919},{},[920,938,949,960],{"type":24,"tag":106,"props":921,"children":922},{},[923,929,931,936],{"type":24,"tag":53,"props":924,"children":926},{"className":925},[],[927],{"type":29,"value":928},"@Constraint",{"type":29,"value":930}," marks an annotation as being a Bean Validation constraint and allows us to specify ",{"type":24,"tag":53,"props":932,"children":934},{"className":933},[],[935],{"type":29,"value":58},{"type":29,"value":937}," implementations; zero, one, or many implementations are welcome here",{"type":24,"tag":106,"props":939,"children":940},{},[941,947],{"type":24,"tag":53,"props":942,"children":944},{"className":943},[],[945],{"type":29,"value":946},"@Retention",{"type":29,"value":948}," is set such that our annotation will be retained at runtime",{"type":24,"tag":106,"props":950,"children":951},{},[952,958],{"type":24,"tag":53,"props":953,"children":955},{"className":954},[],[956],{"type":29,"value":957},"@Target",{"type":29,"value":959}," is set such that we can validate different types of inputs to our services",{"type":24,"tag":106,"props":961,"children":962},{},[963,968,969,974,976,981,983,988],{"type":24,"tag":53,"props":964,"children":966},{"className":965},[],[967],{"type":29,"value":398},{"type":29,"value":449},{"type":24,"tag":53,"props":970,"children":972},{"className":971},[],[973],{"type":29,"value":832},{"type":29,"value":975},", and ",{"type":24,"tag":53,"props":977,"children":979},{"className":978},[],[980],{"type":29,"value":883},{"type":29,"value":982}," are required by ",{"type":24,"tag":53,"props":984,"children":986},{"className":985},[],[987],{"type":29,"value":928},{"type":29,"value":989}," but do not have to be set--these provide specificity beyond what we'll cover today",{"type":24,"tag":25,"props":991,"children":992},{},[993],{"type":29,"value":994},"By no means is this a simplification.  Looking past the verbosity, the annotation opens quite a few doors to make handling complexity a breeze as we'll see in the next example.",{"type":24,"tag":194,"props":996,"children":997},{},[],{"type":24,"tag":25,"props":999,"children":1000},{},[1001,1003,1008],{"type":29,"value":1002},"Let's define a constraint for the ",{"type":24,"tag":35,"props":1004,"children":1005},{},[1006],{"type":29,"value":1007},"category",{"type":29,"value":1009}," field such that:",{"type":24,"tag":102,"props":1011,"children":1012},{},[1013,1018,1023],{"type":24,"tag":106,"props":1014,"children":1015},{},[1016],{"type":29,"value":1017},"Category must be passed and cannot be empty",{"type":24,"tag":106,"props":1019,"children":1020},{},[1021],{"type":29,"value":1022},"Only certain categories are allowed to be passed",{"type":24,"tag":106,"props":1024,"children":1025},{},[1026,1028,1032,1033,1038],{"type":29,"value":1027},"Categories may differ between the ",{"type":24,"tag":35,"props":1029,"children":1030},{},[1031],{"type":29,"value":280},{"type":29,"value":60},{"type":24,"tag":35,"props":1034,"children":1035},{},[1036],{"type":29,"value":1037},"Pantry",{"type":29,"value":1039}," services",{"type":24,"tag":25,"props":1041,"children":1042},{},[1043,1045,1050],{"type":29,"value":1044},"To implement this annotation, we will expand upon the premise of our first annotation by adding a custom parameter and providing an implementation of the ",{"type":24,"tag":53,"props":1046,"children":1048},{"className":1047},[],[1049],{"type":29,"value":58},{"type":29,"value":1051}," interface.  The result looks something like this:",{"type":24,"tag":238,"props":1053,"children":1056},{"className":309,"code":1054,"filename":1055,"language":312,"meta":10,"style":10},"@Documented\n@NotNull(message = \"Category must be present\")\n@NotEmpty(message = \"Category must not be empty\")\n@Constraint(validatedBy = FoodCategoryValidator.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\npublic @interface FoodCategory {\n\n    String message() default \"Invalid category\";\n\n    Class\u003C?>[] groups() default {};\n\n    Class\u003C? extends Payload>[] payload() default {};\n\n    String[] allowed() default {\"dairy\", \"grain\"};\n\n}\n","FoodCategory.java",[1057],{"type":24,"tag":53,"props":1058,"children":1059},{"__ignoreMap":10},[1060,1071,1104,1137,1165,1180,1195,1219,1226,1254,1261,1292,1299,1338,1345,1394,1402],{"type":24,"tag":248,"props":1061,"children":1062},{"class":250,"line":251},[1063,1067],{"type":24,"tag":248,"props":1064,"children":1065},{"style":255},[1066],{"type":29,"value":590},{"type":24,"tag":248,"props":1068,"children":1069},{"style":322},[1070],{"type":29,"value":595},{"type":24,"tag":248,"props":1072,"children":1073},{"class":250,"line":344},[1074,1078,1083,1087,1091,1095,1100],{"type":24,"tag":248,"props":1075,"children":1076},{"style":255},[1077],{"type":29,"value":590},{"type":24,"tag":248,"props":1079,"children":1080},{"style":322},[1081],{"type":29,"value":1082},"NotNull",{"type":24,"tag":248,"props":1084,"children":1085},{"style":255},[1086],{"type":29,"value":392},{"type":24,"tag":248,"props":1088,"children":1089},{"style":395},[1090],{"type":29,"value":398},{"type":24,"tag":248,"props":1092,"children":1093},{"style":322},[1094],{"type":29,"value":403},{"type":24,"tag":248,"props":1096,"children":1097},{"style":261},[1098],{"type":29,"value":1099}," \"Category must be present\"",{"type":24,"tag":248,"props":1101,"children":1102},{"style":255},[1103],{"type":29,"value":413},{"type":24,"tag":248,"props":1105,"children":1106},{"class":250,"line":354},[1107,1111,1116,1120,1124,1128,1133],{"type":24,"tag":248,"props":1108,"children":1109},{"style":255},[1110],{"type":29,"value":590},{"type":24,"tag":248,"props":1112,"children":1113},{"style":322},[1114],{"type":29,"value":1115},"NotEmpty",{"type":24,"tag":248,"props":1117,"children":1118},{"style":255},[1119],{"type":29,"value":392},{"type":24,"tag":248,"props":1121,"children":1122},{"style":395},[1123],{"type":29,"value":398},{"type":24,"tag":248,"props":1125,"children":1126},{"style":322},[1127],{"type":29,"value":403},{"type":24,"tag":248,"props":1129,"children":1130},{"style":261},[1131],{"type":29,"value":1132}," \"Category must not be empty\"",{"type":24,"tag":248,"props":1134,"children":1135},{"style":255},[1136],{"type":29,"value":413},{"type":24,"tag":248,"props":1138,"children":1139},{"class":250,"line":368},[1140,1144,1148,1152,1156,1160],{"type":24,"tag":248,"props":1141,"children":1142},{"style":255},[1143],{"type":29,"value":590},{"type":24,"tag":248,"props":1145,"children":1146},{"style":322},[1147],{"type":29,"value":685},{"type":24,"tag":248,"props":1149,"children":1150},{"style":255},[1151],{"type":29,"value":392},{"type":24,"tag":248,"props":1153,"children":1154},{"style":395},[1155],{"type":29,"value":694},{"type":24,"tag":248,"props":1157,"children":1158},{"style":322},[1159],{"type":29,"value":403},{"type":24,"tag":248,"props":1161,"children":1162},{"style":255},[1163],{"type":29,"value":1164}," FoodCategoryValidator.class)\n",{"type":24,"tag":248,"props":1166,"children":1167},{"class":250,"line":376},[1168,1172,1176],{"type":24,"tag":248,"props":1169,"children":1170},{"style":255},[1171],{"type":29,"value":590},{"type":24,"tag":248,"props":1173,"children":1174},{"style":322},[1175],{"type":29,"value":715},{"type":24,"tag":248,"props":1177,"children":1178},{"style":255},[1179],{"type":29,"value":720},{"type":24,"tag":248,"props":1181,"children":1182},{"class":250,"line":416},[1183,1187,1191],{"type":24,"tag":248,"props":1184,"children":1185},{"style":255},[1186],{"type":29,"value":590},{"type":24,"tag":248,"props":1188,"children":1189},{"style":322},[1190],{"type":29,"value":732},{"type":24,"tag":248,"props":1192,"children":1193},{"style":255},[1194],{"type":29,"value":737},{"type":24,"tag":248,"props":1196,"children":1197},{"class":250,"line":469},[1198,1202,1206,1210,1215],{"type":24,"tag":248,"props":1199,"children":1200},{"style":322},[1201],{"type":29,"value":325},{"type":24,"tag":248,"props":1203,"children":1204},{"style":255},[1205],{"type":29,"value":749},{"type":24,"tag":248,"props":1207,"children":1208},{"style":322},[1209],{"type":29,"value":754},{"type":24,"tag":248,"props":1211,"children":1212},{"style":322},[1213],{"type":29,"value":1214}," FoodCategory",{"type":24,"tag":248,"props":1216,"children":1217},{"style":255},[1218],{"type":29,"value":341},{"type":24,"tag":248,"props":1220,"children":1221},{"class":250,"line":487},[1222],{"type":24,"tag":248,"props":1223,"children":1224},{"emptyLinePlaceholder":348},[1225],{"type":29,"value":351},{"type":24,"tag":248,"props":1227,"children":1228},{"class":250,"line":495},[1229,1233,1237,1241,1245,1250],{"type":24,"tag":248,"props":1230,"children":1231},{"style":255},[1232],{"type":29,"value":778},{"type":24,"tag":248,"props":1234,"children":1235},{"style":333},[1236],{"type":29,"value":398},{"type":24,"tag":248,"props":1238,"children":1239},{"style":255},[1240],{"type":29,"value":787},{"type":24,"tag":248,"props":1242,"children":1243},{"style":322},[1244],{"type":29,"value":792},{"type":24,"tag":248,"props":1246,"children":1247},{"style":261},[1248],{"type":29,"value":1249}," \"Invalid category\"",{"type":24,"tag":248,"props":1251,"children":1252},{"style":255},[1253],{"type":29,"value":802},{"type":24,"tag":248,"props":1255,"children":1256},{"class":250,"line":508},[1257],{"type":24,"tag":248,"props":1258,"children":1259},{"emptyLinePlaceholder":348},[1260],{"type":29,"value":351},{"type":24,"tag":248,"props":1262,"children":1263},{"class":250,"line":516},[1264,1268,1272,1276,1280,1284,1288],{"type":24,"tag":248,"props":1265,"children":1266},{"style":255},[1267],{"type":29,"value":817},{"type":24,"tag":248,"props":1269,"children":1270},{"style":322},[1271],{"type":29,"value":822},{"type":24,"tag":248,"props":1273,"children":1274},{"style":255},[1275],{"type":29,"value":827},{"type":24,"tag":248,"props":1277,"children":1278},{"style":333},[1279],{"type":29,"value":832},{"type":24,"tag":248,"props":1281,"children":1282},{"style":255},[1283],{"type":29,"value":787},{"type":24,"tag":248,"props":1285,"children":1286},{"style":322},[1287],{"type":29,"value":792},{"type":24,"tag":248,"props":1289,"children":1290},{"style":255},[1291],{"type":29,"value":845},{"type":24,"tag":248,"props":1293,"children":1294},{"class":250,"line":534},[1295],{"type":24,"tag":248,"props":1296,"children":1297},{"emptyLinePlaceholder":348},[1298],{"type":29,"value":351},{"type":24,"tag":248,"props":1300,"children":1301},{"class":250,"line":542},[1302,1306,1310,1314,1318,1322,1326,1330,1334],{"type":24,"tag":248,"props":1303,"children":1304},{"style":255},[1305],{"type":29,"value":817},{"type":24,"tag":248,"props":1307,"children":1308},{"style":322},[1309],{"type":29,"value":864},{"type":24,"tag":248,"props":1311,"children":1312},{"style":255},[1313],{"type":29,"value":869},{"type":24,"tag":248,"props":1315,"children":1316},{"style":322},[1317],{"type":29,"value":874},{"type":24,"tag":248,"props":1319,"children":1320},{"style":255},[1321],{"type":29,"value":827},{"type":24,"tag":248,"props":1323,"children":1324},{"style":333},[1325],{"type":29,"value":883},{"type":24,"tag":248,"props":1327,"children":1328},{"style":255},[1329],{"type":29,"value":787},{"type":24,"tag":248,"props":1331,"children":1332},{"style":322},[1333],{"type":29,"value":792},{"type":24,"tag":248,"props":1335,"children":1336},{"style":255},[1337],{"type":29,"value":845},{"type":24,"tag":248,"props":1339,"children":1340},{"class":250,"line":898},[1341],{"type":24,"tag":248,"props":1342,"children":1343},{"emptyLinePlaceholder":348},[1344],{"type":29,"value":351},{"type":24,"tag":248,"props":1346,"children":1347},{"class":250,"line":906},[1348,1353,1357,1362,1366,1370,1375,1380,1384,1389],{"type":24,"tag":248,"props":1349,"children":1350},{"style":322},[1351],{"type":29,"value":1352},"    String",{"type":24,"tag":248,"props":1354,"children":1355},{"style":255},[1356],{"type":29,"value":827},{"type":24,"tag":248,"props":1358,"children":1359},{"style":333},[1360],{"type":29,"value":1361},"allowed",{"type":24,"tag":248,"props":1363,"children":1364},{"style":255},[1365],{"type":29,"value":787},{"type":24,"tag":248,"props":1367,"children":1368},{"style":322},[1369],{"type":29,"value":792},{"type":24,"tag":248,"props":1371,"children":1372},{"style":255},[1373],{"type":29,"value":1374}," {",{"type":24,"tag":248,"props":1376,"children":1377},{"style":261},[1378],{"type":29,"value":1379},"\"dairy\"",{"type":24,"tag":248,"props":1381,"children":1382},{"style":255},[1383],{"type":29,"value":449},{"type":24,"tag":248,"props":1385,"children":1386},{"style":261},[1387],{"type":29,"value":1388},"\"grain\"",{"type":24,"tag":248,"props":1390,"children":1391},{"style":255},[1392],{"type":29,"value":1393},"};\n",{"type":24,"tag":248,"props":1395,"children":1397},{"class":250,"line":1396},16,[1398],{"type":24,"tag":248,"props":1399,"children":1400},{"emptyLinePlaceholder":348},[1401],{"type":29,"value":351},{"type":24,"tag":248,"props":1403,"children":1405},{"class":250,"line":1404},17,[1406],{"type":24,"tag":248,"props":1407,"children":1408},{"style":255},[1409],{"type":29,"value":548},{"type":24,"tag":25,"props":1411,"children":1412},{},[1413,1415,1420,1422,1427,1429,1434,1436,1442,1444,1450],{"type":29,"value":1414},"A few more things are happening in this annotation compared to ",{"type":24,"tag":53,"props":1416,"children":1418},{"className":1417},[],[1419],{"type":29,"value":572},{"type":29,"value":1421},".  We've specified a new parameter, ",{"type":24,"tag":53,"props":1423,"children":1425},{"className":1424},[],[1426],{"type":29,"value":1361},{"type":29,"value":1428},", to restrict what may be passed into ",{"type":24,"tag":53,"props":1430,"children":1432},{"className":1431},[],[1433],{"type":29,"value":1007},{"type":29,"value":1435},".  Notice the default value--this array is only referenced if values are not passed into ",{"type":24,"tag":53,"props":1437,"children":1439},{"className":1438},[],[1440],{"type":29,"value":1441},"@FoodCategory",{"type":29,"value":1443},".  To handle this constraint, we've implemented ",{"type":24,"tag":53,"props":1445,"children":1447},{"className":1446},[],[1448],{"type":29,"value":1449},"FoodCategoryValidator",{"type":29,"value":574},{"type":24,"tag":238,"props":1452,"children":1455},{"className":309,"code":1453,"filename":1454,"language":312,"meta":10,"style":10},"@Slf4j\npublic class FoodCategoryValidator implements ConstraintValidator\u003CFoodCategory, String> {\n\n    private List\u003CString> allowed;\n\n    @Override\n    public void initialize(FoodCategory constraintAnnotation) {\n        this.allowed = Arrays.asList(constraintAnnotation.allowed());\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        log.info(\"isValid: value=[{}]\", value);\n        if (!allowed.contains(value.toLowerCase())) {\n            String err = \"Category must be one of the following: \" + allowed;\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(err)\n                    .addConstraintViolation();\n            return false;\n        }\n        return true;\n    }\n\n}\n","FoodCategoryValidator.java",[1456],{"type":24,"tag":53,"props":1457,"children":1458},{"__ignoreMap":10},[1459,1471,1521,1528,1549,1556,1568,1602,1644,1652,1659,1670,1709,1736,1779,1806,1824,1841,1859,1877,1886,1904,1912,1920],{"type":24,"tag":248,"props":1460,"children":1461},{"class":250,"line":251},[1462,1466],{"type":24,"tag":248,"props":1463,"children":1464},{"style":255},[1465],{"type":29,"value":590},{"type":24,"tag":248,"props":1467,"children":1468},{"style":322},[1469],{"type":29,"value":1470},"Slf4j\n",{"type":24,"tag":248,"props":1472,"children":1473},{"class":250,"line":344},[1474,1478,1482,1487,1492,1497,1502,1507,1511,1516],{"type":24,"tag":248,"props":1475,"children":1476},{"style":322},[1477],{"type":29,"value":325},{"type":24,"tag":248,"props":1479,"children":1480},{"style":322},[1481],{"type":29,"value":330},{"type":24,"tag":248,"props":1483,"children":1484},{"style":333},[1485],{"type":29,"value":1486}," FoodCategoryValidator",{"type":24,"tag":248,"props":1488,"children":1489},{"style":322},[1490],{"type":29,"value":1491}," implements",{"type":24,"tag":248,"props":1493,"children":1494},{"style":333},[1495],{"type":29,"value":1496}," ConstraintValidator",{"type":24,"tag":248,"props":1498,"children":1499},{"style":255},[1500],{"type":29,"value":1501},"\u003C",{"type":24,"tag":248,"props":1503,"children":1504},{"style":322},[1505],{"type":29,"value":1506},"FoodCategory",{"type":24,"tag":248,"props":1508,"children":1509},{"style":255},[1510],{"type":29,"value":449},{"type":24,"tag":248,"props":1512,"children":1513},{"style":322},[1514],{"type":29,"value":1515},"String",{"type":24,"tag":248,"props":1517,"children":1518},{"style":255},[1519],{"type":29,"value":1520},"> {\n",{"type":24,"tag":248,"props":1522,"children":1523},{"class":250,"line":354},[1524],{"type":24,"tag":248,"props":1525,"children":1526},{"emptyLinePlaceholder":348},[1527],{"type":29,"value":351},{"type":24,"tag":248,"props":1529,"children":1530},{"class":250,"line":368},[1531,1535,1540,1544],{"type":24,"tag":248,"props":1532,"children":1533},{"style":322},[1534],{"type":29,"value":360},{"type":24,"tag":248,"props":1536,"children":1537},{"style":255},[1538],{"type":29,"value":1539}," List\u003C",{"type":24,"tag":248,"props":1541,"children":1542},{"style":322},[1543],{"type":29,"value":1515},{"type":24,"tag":248,"props":1545,"children":1546},{"style":255},[1547],{"type":29,"value":1548},"> allowed;\n",{"type":24,"tag":248,"props":1550,"children":1551},{"class":250,"line":376},[1552],{"type":24,"tag":248,"props":1553,"children":1554},{"emptyLinePlaceholder":348},[1555],{"type":29,"value":351},{"type":24,"tag":248,"props":1557,"children":1558},{"class":250,"line":416},[1559,1563],{"type":24,"tag":248,"props":1560,"children":1561},{"style":255},[1562],{"type":29,"value":382},{"type":24,"tag":248,"props":1564,"children":1565},{"style":322},[1566],{"type":29,"value":1567},"Override\n",{"type":24,"tag":248,"props":1569,"children":1570},{"class":250,"line":469},[1571,1576,1581,1586,1591,1597],{"type":24,"tag":248,"props":1572,"children":1573},{"style":322},[1574],{"type":29,"value":1575},"    public",{"type":24,"tag":248,"props":1577,"children":1578},{"style":322},[1579],{"type":29,"value":1580}," void",{"type":24,"tag":248,"props":1582,"children":1583},{"style":333},[1584],{"type":29,"value":1585}," initialize",{"type":24,"tag":248,"props":1587,"children":1588},{"style":255},[1589],{"type":29,"value":1590},"(FoodCategory ",{"type":24,"tag":248,"props":1592,"children":1594},{"style":1593},"--shiki-default:#E36209;--shiki-dark:#FFAB70",[1595],{"type":29,"value":1596},"constraintAnnotation",{"type":24,"tag":248,"props":1598,"children":1599},{"style":255},[1600],{"type":29,"value":1601},") {\n",{"type":24,"tag":248,"props":1603,"children":1604},{"class":250,"line":487},[1605,1610,1615,1620,1625,1630,1635,1639],{"type":24,"tag":248,"props":1606,"children":1607},{"style":395},[1608],{"type":29,"value":1609},"        this",{"type":24,"tag":248,"props":1611,"children":1612},{"style":255},[1613],{"type":29,"value":1614},".allowed ",{"type":24,"tag":248,"props":1616,"children":1617},{"style":322},[1618],{"type":29,"value":1619},"=",{"type":24,"tag":248,"props":1621,"children":1622},{"style":255},[1623],{"type":29,"value":1624}," Arrays.",{"type":24,"tag":248,"props":1626,"children":1627},{"style":333},[1628],{"type":29,"value":1629},"asList",{"type":24,"tag":248,"props":1631,"children":1632},{"style":255},[1633],{"type":29,"value":1634},"(constraintAnnotation.",{"type":24,"tag":248,"props":1636,"children":1637},{"style":333},[1638],{"type":29,"value":1361},{"type":24,"tag":248,"props":1640,"children":1641},{"style":255},[1642],{"type":29,"value":1643},"());\n",{"type":24,"tag":248,"props":1645,"children":1646},{"class":250,"line":495},[1647],{"type":24,"tag":248,"props":1648,"children":1649},{"style":255},[1650],{"type":29,"value":1651},"    }\n",{"type":24,"tag":248,"props":1653,"children":1654},{"class":250,"line":508},[1655],{"type":24,"tag":248,"props":1656,"children":1657},{"emptyLinePlaceholder":348},[1658],{"type":29,"value":351},{"type":24,"tag":248,"props":1660,"children":1661},{"class":250,"line":516},[1662,1666],{"type":24,"tag":248,"props":1663,"children":1664},{"style":255},[1665],{"type":29,"value":382},{"type":24,"tag":248,"props":1667,"children":1668},{"style":322},[1669],{"type":29,"value":1567},{"type":24,"tag":248,"props":1671,"children":1672},{"class":250,"line":534},[1673,1677,1681,1686,1691,1695,1700,1705],{"type":24,"tag":248,"props":1674,"children":1675},{"style":322},[1676],{"type":29,"value":1575},{"type":24,"tag":248,"props":1678,"children":1679},{"style":322},[1680],{"type":29,"value":526},{"type":24,"tag":248,"props":1682,"children":1683},{"style":333},[1684],{"type":29,"value":1685}," isValid",{"type":24,"tag":248,"props":1687,"children":1688},{"style":255},[1689],{"type":29,"value":1690},"(String ",{"type":24,"tag":248,"props":1692,"children":1693},{"style":1593},[1694],{"type":29,"value":435},{"type":24,"tag":248,"props":1696,"children":1697},{"style":255},[1698],{"type":29,"value":1699},", ConstraintValidatorContext ",{"type":24,"tag":248,"props":1701,"children":1702},{"style":1593},[1703],{"type":29,"value":1704},"context",{"type":24,"tag":248,"props":1706,"children":1707},{"style":255},[1708],{"type":29,"value":1601},{"type":24,"tag":248,"props":1710,"children":1711},{"class":250,"line":542},[1712,1717,1722,1726,1731],{"type":24,"tag":248,"props":1713,"children":1714},{"style":255},[1715],{"type":29,"value":1716},"        log.",{"type":24,"tag":248,"props":1718,"children":1719},{"style":333},[1720],{"type":29,"value":1721},"info",{"type":24,"tag":248,"props":1723,"children":1724},{"style":255},[1725],{"type":29,"value":392},{"type":24,"tag":248,"props":1727,"children":1728},{"style":261},[1729],{"type":29,"value":1730},"\"isValid: value=[{}]\"",{"type":24,"tag":248,"props":1732,"children":1733},{"style":255},[1734],{"type":29,"value":1735},", value);\n",{"type":24,"tag":248,"props":1737,"children":1738},{"class":250,"line":898},[1739,1744,1749,1754,1759,1764,1769,1774],{"type":24,"tag":248,"props":1740,"children":1741},{"style":322},[1742],{"type":29,"value":1743},"        if",{"type":24,"tag":248,"props":1745,"children":1746},{"style":255},[1747],{"type":29,"value":1748}," (",{"type":24,"tag":248,"props":1750,"children":1751},{"style":322},[1752],{"type":29,"value":1753},"!",{"type":24,"tag":248,"props":1755,"children":1756},{"style":255},[1757],{"type":29,"value":1758},"allowed.",{"type":24,"tag":248,"props":1760,"children":1761},{"style":333},[1762],{"type":29,"value":1763},"contains",{"type":24,"tag":248,"props":1765,"children":1766},{"style":255},[1767],{"type":29,"value":1768},"(value.",{"type":24,"tag":248,"props":1770,"children":1771},{"style":333},[1772],{"type":29,"value":1773},"toLowerCase",{"type":24,"tag":248,"props":1775,"children":1776},{"style":255},[1777],{"type":29,"value":1778},"())) {\n",{"type":24,"tag":248,"props":1780,"children":1781},{"class":250,"line":906},[1782,1787,1791,1796,1801],{"type":24,"tag":248,"props":1783,"children":1784},{"style":255},[1785],{"type":29,"value":1786},"            String err ",{"type":24,"tag":248,"props":1788,"children":1789},{"style":322},[1790],{"type":29,"value":1619},{"type":24,"tag":248,"props":1792,"children":1793},{"style":261},[1794],{"type":29,"value":1795}," \"Category must be one of the following: \"",{"type":24,"tag":248,"props":1797,"children":1798},{"style":322},[1799],{"type":29,"value":1800}," +",{"type":24,"tag":248,"props":1802,"children":1803},{"style":255},[1804],{"type":29,"value":1805}," allowed;\n",{"type":24,"tag":248,"props":1807,"children":1808},{"class":250,"line":1396},[1809,1814,1819],{"type":24,"tag":248,"props":1810,"children":1811},{"style":255},[1812],{"type":29,"value":1813},"            context.",{"type":24,"tag":248,"props":1815,"children":1816},{"style":333},[1817],{"type":29,"value":1818},"disableDefaultConstraintViolation",{"type":24,"tag":248,"props":1820,"children":1821},{"style":255},[1822],{"type":29,"value":1823},"();\n",{"type":24,"tag":248,"props":1825,"children":1826},{"class":250,"line":1404},[1827,1831,1836],{"type":24,"tag":248,"props":1828,"children":1829},{"style":255},[1830],{"type":29,"value":1813},{"type":24,"tag":248,"props":1832,"children":1833},{"style":333},[1834],{"type":29,"value":1835},"buildConstraintViolationWithTemplate",{"type":24,"tag":248,"props":1837,"children":1838},{"style":255},[1839],{"type":29,"value":1840},"(err)\n",{"type":24,"tag":248,"props":1842,"children":1844},{"class":250,"line":1843},18,[1845,1850,1855],{"type":24,"tag":248,"props":1846,"children":1847},{"style":255},[1848],{"type":29,"value":1849},"                    .",{"type":24,"tag":248,"props":1851,"children":1852},{"style":333},[1853],{"type":29,"value":1854},"addConstraintViolation",{"type":24,"tag":248,"props":1856,"children":1857},{"style":255},[1858],{"type":29,"value":1823},{"type":24,"tag":248,"props":1860,"children":1862},{"class":250,"line":1861},19,[1863,1868,1873],{"type":24,"tag":248,"props":1864,"children":1865},{"style":322},[1866],{"type":29,"value":1867},"            return",{"type":24,"tag":248,"props":1869,"children":1870},{"style":395},[1871],{"type":29,"value":1872}," false",{"type":24,"tag":248,"props":1874,"children":1875},{"style":255},[1876],{"type":29,"value":802},{"type":24,"tag":248,"props":1878,"children":1880},{"class":250,"line":1879},20,[1881],{"type":24,"tag":248,"props":1882,"children":1883},{"style":255},[1884],{"type":29,"value":1885},"        }\n",{"type":24,"tag":248,"props":1887,"children":1889},{"class":250,"line":1888},21,[1890,1895,1900],{"type":24,"tag":248,"props":1891,"children":1892},{"style":322},[1893],{"type":29,"value":1894},"        return",{"type":24,"tag":248,"props":1896,"children":1897},{"style":395},[1898],{"type":29,"value":1899}," true",{"type":24,"tag":248,"props":1901,"children":1902},{"style":255},[1903],{"type":29,"value":802},{"type":24,"tag":248,"props":1905,"children":1907},{"class":250,"line":1906},22,[1908],{"type":24,"tag":248,"props":1909,"children":1910},{"style":255},[1911],{"type":29,"value":1651},{"type":24,"tag":248,"props":1913,"children":1915},{"class":250,"line":1914},23,[1916],{"type":24,"tag":248,"props":1917,"children":1918},{"emptyLinePlaceholder":348},[1919],{"type":29,"value":351},{"type":24,"tag":248,"props":1921,"children":1923},{"class":250,"line":1922},24,[1924],{"type":24,"tag":248,"props":1925,"children":1926},{"style":255},[1927],{"type":29,"value":548},{"type":24,"tag":25,"props":1929,"children":1930},{},[1931],{"type":29,"value":1932},"Let's breakdown our new validator class:",{"type":24,"tag":102,"props":1934,"children":1935},{},[1936,1957,1992],{"type":24,"tag":106,"props":1937,"children":1938},{},[1939,1944,1946,1951,1953],{"type":24,"tag":53,"props":1940,"children":1942},{"className":1941},[],[1943],{"type":29,"value":58},{"type":29,"value":1945}," is parameterized with the annotation class and the type being validated--a ",{"type":24,"tag":53,"props":1947,"children":1949},{"className":1948},[],[1950],{"type":29,"value":1515},{"type":29,"value":1952}," containing the value of ",{"type":24,"tag":35,"props":1954,"children":1955},{},[1956],{"type":29,"value":1007},{"type":24,"tag":106,"props":1958,"children":1959},{},[1960,1962,1967,1969,1975,1977],{"type":29,"value":1961},"A global field ",{"type":24,"tag":53,"props":1963,"children":1965},{"className":1964},[],[1966],{"type":29,"value":1361},{"type":29,"value":1968},", set within the overridden ",{"type":24,"tag":53,"props":1970,"children":1972},{"className":1971},[],[1973],{"type":29,"value":1974},"initialize",{"type":29,"value":1976}," method\n",{"type":24,"tag":102,"props":1978,"children":1979},{},[1980],{"type":24,"tag":106,"props":1981,"children":1982},{},[1983,1985,1990],{"type":29,"value":1984},"It is within this method that we gain access to the parameters of ",{"type":24,"tag":53,"props":1986,"children":1988},{"className":1987},[],[1989],{"type":29,"value":1441},{"type":29,"value":1991}," for use throughout the validator class",{"type":24,"tag":106,"props":1993,"children":1994},{},[1995,2001,2003],{"type":24,"tag":53,"props":1996,"children":1998},{"className":1997},[],[1999],{"type":29,"value":2000},"isValid",{"type":29,"value":2002}," is the meat and bones of our constraint validation\n",{"type":24,"tag":102,"props":2004,"children":2005},{},[2006],{"type":24,"tag":106,"props":2007,"children":2008},{},[2009],{"type":29,"value":2010},"For invalid scenarios, we disable the default constraint violation, build a proper error message, and return false--this eventually throws an exception we'll be interested in later",{"type":24,"tag":25,"props":2012,"children":2013},{},[2014],{"type":29,"value":2015},"Lastly, to get the most out of our annotation, we'll propagate the category field into two subclasses pertaining to each service.",{"type":24,"tag":25,"props":2017,"children":2018},{},[2019],{"type":29,"value":2020},"After all our hard work, we've reached a clean set of request models ready to be bombarded with invalid values:",{"type":24,"tag":238,"props":2022,"children":2024},{"className":309,"code":2023,"filename":311,"language":312,"meta":10,"style":10},"public class FoodRequestModel {\n\n    private String name;\n\n    @FoodQuantity\n    private int quantity;\n\n    private boolean refrigerated;\n\n}\n",[2025],{"type":24,"tag":53,"props":2026,"children":2027},{"__ignoreMap":10},[2028,2047,2054,2065,2072,2084,2099,2106,2121,2128],{"type":24,"tag":248,"props":2029,"children":2030},{"class":250,"line":251},[2031,2035,2039,2043],{"type":24,"tag":248,"props":2032,"children":2033},{"style":322},[2034],{"type":29,"value":325},{"type":24,"tag":248,"props":2036,"children":2037},{"style":322},[2038],{"type":29,"value":330},{"type":24,"tag":248,"props":2040,"children":2041},{"style":333},[2042],{"type":29,"value":336},{"type":24,"tag":248,"props":2044,"children":2045},{"style":255},[2046],{"type":29,"value":341},{"type":24,"tag":248,"props":2048,"children":2049},{"class":250,"line":344},[2050],{"type":24,"tag":248,"props":2051,"children":2052},{"emptyLinePlaceholder":348},[2053],{"type":29,"value":351},{"type":24,"tag":248,"props":2055,"children":2056},{"class":250,"line":354},[2057,2061],{"type":24,"tag":248,"props":2058,"children":2059},{"style":322},[2060],{"type":29,"value":360},{"type":24,"tag":248,"props":2062,"children":2063},{"style":255},[2064],{"type":29,"value":365},{"type":24,"tag":248,"props":2066,"children":2067},{"class":250,"line":368},[2068],{"type":24,"tag":248,"props":2069,"children":2070},{"emptyLinePlaceholder":348},[2071],{"type":29,"value":351},{"type":24,"tag":248,"props":2073,"children":2074},{"class":250,"line":376},[2075,2079],{"type":24,"tag":248,"props":2076,"children":2077},{"style":255},[2078],{"type":29,"value":382},{"type":24,"tag":248,"props":2080,"children":2081},{"style":322},[2082],{"type":29,"value":2083},"FoodQuantity\n",{"type":24,"tag":248,"props":2085,"children":2086},{"class":250,"line":416},[2087,2091,2095],{"type":24,"tag":248,"props":2088,"children":2089},{"style":322},[2090],{"type":29,"value":360},{"type":24,"tag":248,"props":2092,"children":2093},{"style":322},[2094],{"type":29,"value":479},{"type":24,"tag":248,"props":2096,"children":2097},{"style":255},[2098],{"type":29,"value":484},{"type":24,"tag":248,"props":2100,"children":2101},{"class":250,"line":469},[2102],{"type":24,"tag":248,"props":2103,"children":2104},{"emptyLinePlaceholder":348},[2105],{"type":29,"value":351},{"type":24,"tag":248,"props":2107,"children":2108},{"class":250,"line":487},[2109,2113,2117],{"type":24,"tag":248,"props":2110,"children":2111},{"style":322},[2112],{"type":29,"value":360},{"type":24,"tag":248,"props":2114,"children":2115},{"style":322},[2116],{"type":29,"value":526},{"type":24,"tag":248,"props":2118,"children":2119},{"style":255},[2120],{"type":29,"value":531},{"type":24,"tag":248,"props":2122,"children":2123},{"class":250,"line":495},[2124],{"type":24,"tag":248,"props":2125,"children":2126},{"emptyLinePlaceholder":348},[2127],{"type":29,"value":351},{"type":24,"tag":248,"props":2129,"children":2130},{"class":250,"line":508},[2131],{"type":24,"tag":248,"props":2132,"children":2133},{"style":255},[2134],{"type":29,"value":548},{"type":24,"tag":238,"props":2136,"children":2139},{"className":309,"code":2137,"filename":2138,"language":312,"meta":10,"style":10},"public class FridgeRequestModel extends FoodRequestModel {\n\n    @FoodCategory(allowed = {\"dairy\", \"vegetables\", \"beer\"})\n    private String category;\n\n}\n","FridgeRequestModel.java",[2140],{"type":24,"tag":53,"props":2141,"children":2142},{"__ignoreMap":10},[2143,2172,2179,2233,2244,2251],{"type":24,"tag":248,"props":2144,"children":2145},{"class":250,"line":251},[2146,2150,2154,2159,2164,2168],{"type":24,"tag":248,"props":2147,"children":2148},{"style":322},[2149],{"type":29,"value":325},{"type":24,"tag":248,"props":2151,"children":2152},{"style":322},[2153],{"type":29,"value":330},{"type":24,"tag":248,"props":2155,"children":2156},{"style":333},[2157],{"type":29,"value":2158}," FridgeRequestModel",{"type":24,"tag":248,"props":2160,"children":2161},{"style":322},[2162],{"type":29,"value":2163}," extends",{"type":24,"tag":248,"props":2165,"children":2166},{"style":333},[2167],{"type":29,"value":336},{"type":24,"tag":248,"props":2169,"children":2170},{"style":255},[2171],{"type":29,"value":341},{"type":24,"tag":248,"props":2173,"children":2174},{"class":250,"line":344},[2175],{"type":24,"tag":248,"props":2176,"children":2177},{"emptyLinePlaceholder":348},[2178],{"type":29,"value":351},{"type":24,"tag":248,"props":2180,"children":2181},{"class":250,"line":354},[2182,2186,2190,2194,2198,2202,2206,2210,2214,2219,2223,2228],{"type":24,"tag":248,"props":2183,"children":2184},{"style":255},[2185],{"type":29,"value":382},{"type":24,"tag":248,"props":2187,"children":2188},{"style":322},[2189],{"type":29,"value":1506},{"type":24,"tag":248,"props":2191,"children":2192},{"style":255},[2193],{"type":29,"value":392},{"type":24,"tag":248,"props":2195,"children":2196},{"style":395},[2197],{"type":29,"value":1361},{"type":24,"tag":248,"props":2199,"children":2200},{"style":322},[2201],{"type":29,"value":403},{"type":24,"tag":248,"props":2203,"children":2204},{"style":255},[2205],{"type":29,"value":1374},{"type":24,"tag":248,"props":2207,"children":2208},{"style":261},[2209],{"type":29,"value":1379},{"type":24,"tag":248,"props":2211,"children":2212},{"style":255},[2213],{"type":29,"value":449},{"type":24,"tag":248,"props":2215,"children":2216},{"style":261},[2217],{"type":29,"value":2218},"\"vegetables\"",{"type":24,"tag":248,"props":2220,"children":2221},{"style":255},[2222],{"type":29,"value":449},{"type":24,"tag":248,"props":2224,"children":2225},{"style":261},[2226],{"type":29,"value":2227},"\"beer\"",{"type":24,"tag":248,"props":2229,"children":2230},{"style":255},[2231],{"type":29,"value":2232},"})\n",{"type":24,"tag":248,"props":2234,"children":2235},{"class":250,"line":368},[2236,2240],{"type":24,"tag":248,"props":2237,"children":2238},{"style":322},[2239],{"type":29,"value":360},{"type":24,"tag":248,"props":2241,"children":2242},{"style":255},[2243],{"type":29,"value":505},{"type":24,"tag":248,"props":2245,"children":2246},{"class":250,"line":376},[2247],{"type":24,"tag":248,"props":2248,"children":2249},{"emptyLinePlaceholder":348},[2250],{"type":29,"value":351},{"type":24,"tag":248,"props":2252,"children":2253},{"class":250,"line":416},[2254],{"type":24,"tag":248,"props":2255,"children":2256},{"style":255},[2257],{"type":29,"value":548},{"type":24,"tag":238,"props":2259,"children":2262},{"className":309,"code":2260,"filename":2261,"language":312,"meta":10,"style":10},"public class PantryRequestModel extends FoodRequestModel {\n\n    @FoodCategory(allowed = {\"grains\", \"canned\", \"snacks\"})\n    private String category;\n\n}\n","PantryRequestModel.java",[2263],{"type":24,"tag":53,"props":2264,"children":2265},{"__ignoreMap":10},[2266,2294,2301,2355,2366,2373],{"type":24,"tag":248,"props":2267,"children":2268},{"class":250,"line":251},[2269,2273,2277,2282,2286,2290],{"type":24,"tag":248,"props":2270,"children":2271},{"style":322},[2272],{"type":29,"value":325},{"type":24,"tag":248,"props":2274,"children":2275},{"style":322},[2276],{"type":29,"value":330},{"type":24,"tag":248,"props":2278,"children":2279},{"style":333},[2280],{"type":29,"value":2281}," PantryRequestModel",{"type":24,"tag":248,"props":2283,"children":2284},{"style":322},[2285],{"type":29,"value":2163},{"type":24,"tag":248,"props":2287,"children":2288},{"style":333},[2289],{"type":29,"value":336},{"type":24,"tag":248,"props":2291,"children":2292},{"style":255},[2293],{"type":29,"value":341},{"type":24,"tag":248,"props":2295,"children":2296},{"class":250,"line":344},[2297],{"type":24,"tag":248,"props":2298,"children":2299},{"emptyLinePlaceholder":348},[2300],{"type":29,"value":351},{"type":24,"tag":248,"props":2302,"children":2303},{"class":250,"line":354},[2304,2308,2312,2316,2320,2324,2328,2333,2337,2342,2346,2351],{"type":24,"tag":248,"props":2305,"children":2306},{"style":255},[2307],{"type":29,"value":382},{"type":24,"tag":248,"props":2309,"children":2310},{"style":322},[2311],{"type":29,"value":1506},{"type":24,"tag":248,"props":2313,"children":2314},{"style":255},[2315],{"type":29,"value":392},{"type":24,"tag":248,"props":2317,"children":2318},{"style":395},[2319],{"type":29,"value":1361},{"type":24,"tag":248,"props":2321,"children":2322},{"style":322},[2323],{"type":29,"value":403},{"type":24,"tag":248,"props":2325,"children":2326},{"style":255},[2327],{"type":29,"value":1374},{"type":24,"tag":248,"props":2329,"children":2330},{"style":261},[2331],{"type":29,"value":2332},"\"grains\"",{"type":24,"tag":248,"props":2334,"children":2335},{"style":255},[2336],{"type":29,"value":449},{"type":24,"tag":248,"props":2338,"children":2339},{"style":261},[2340],{"type":29,"value":2341},"\"canned\"",{"type":24,"tag":248,"props":2343,"children":2344},{"style":255},[2345],{"type":29,"value":449},{"type":24,"tag":248,"props":2347,"children":2348},{"style":261},[2349],{"type":29,"value":2350},"\"snacks\"",{"type":24,"tag":248,"props":2352,"children":2353},{"style":255},[2354],{"type":29,"value":2232},{"type":24,"tag":248,"props":2356,"children":2357},{"class":250,"line":368},[2358,2362],{"type":24,"tag":248,"props":2359,"children":2360},{"style":322},[2361],{"type":29,"value":360},{"type":24,"tag":248,"props":2363,"children":2364},{"style":255},[2365],{"type":29,"value":505},{"type":24,"tag":248,"props":2367,"children":2368},{"class":250,"line":376},[2369],{"type":24,"tag":248,"props":2370,"children":2371},{"emptyLinePlaceholder":348},[2372],{"type":29,"value":351},{"type":24,"tag":248,"props":2374,"children":2375},{"class":250,"line":416},[2376],{"type":24,"tag":248,"props":2377,"children":2378},{"style":255},[2379],{"type":29,"value":548},{"type":24,"tag":226,"props":2381,"children":2383},{"id":2382},"handling-validation-errors",[2384],{"type":29,"value":2385},"Handling Validation Errors",{"type":24,"tag":25,"props":2387,"children":2388},{},[2389],{"type":29,"value":2390},"Until now, we've only defined constraints we (and our consumers) must follow.  Let's open up an endpoint to allow food to be added to the fridge and test our constraints:",{"type":24,"tag":238,"props":2392,"children":2395},{"className":309,"code":2393,"filename":2394,"language":312,"meta":10,"style":10},"@Slf4j\n@Validated\n@RestController\n@RequestMapping(path = \"/api/v1/fridge\")\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\npublic class FridgeController {\n\n    private final FridgeService fridgeService;\n\n    @PostMapping(\"/food\")\n    public ResponseEntity\u003CFoodResponseModel> addFoodToFridgeV1(\n            @Valid @RequestBody FridgeRequestModel request) {\n\n        log.info(\"addFoodToFridgeV1: request=[{}]\", request);\n        FoodResponseModel response = fridgeService.addFoodToFridge(request);\n        return ResponseEntity.ok(response);\n    }\n\n}\n","FridgeController.java",[2396],{"type":24,"tag":53,"props":2397,"children":2398},{"__ignoreMap":10},[2399,2410,2422,2434,2468,2506,2526,2533,2550,2557,2582,2614,2650,2657,2682,2709,2731,2738,2745],{"type":24,"tag":248,"props":2400,"children":2401},{"class":250,"line":251},[2402,2406],{"type":24,"tag":248,"props":2403,"children":2404},{"style":255},[2405],{"type":29,"value":590},{"type":24,"tag":248,"props":2407,"children":2408},{"style":322},[2409],{"type":29,"value":1470},{"type":24,"tag":248,"props":2411,"children":2412},{"class":250,"line":344},[2413,2417],{"type":24,"tag":248,"props":2414,"children":2415},{"style":255},[2416],{"type":29,"value":590},{"type":24,"tag":248,"props":2418,"children":2419},{"style":322},[2420],{"type":29,"value":2421},"Validated\n",{"type":24,"tag":248,"props":2423,"children":2424},{"class":250,"line":354},[2425,2429],{"type":24,"tag":248,"props":2426,"children":2427},{"style":255},[2428],{"type":29,"value":590},{"type":24,"tag":248,"props":2430,"children":2431},{"style":322},[2432],{"type":29,"value":2433},"RestController\n",{"type":24,"tag":248,"props":2435,"children":2436},{"class":250,"line":368},[2437,2441,2446,2450,2455,2459,2464],{"type":24,"tag":248,"props":2438,"children":2439},{"style":255},[2440],{"type":29,"value":590},{"type":24,"tag":248,"props":2442,"children":2443},{"style":322},[2444],{"type":29,"value":2445},"RequestMapping",{"type":24,"tag":248,"props":2447,"children":2448},{"style":255},[2449],{"type":29,"value":392},{"type":24,"tag":248,"props":2451,"children":2452},{"style":395},[2453],{"type":29,"value":2454},"path",{"type":24,"tag":248,"props":2456,"children":2457},{"style":322},[2458],{"type":29,"value":403},{"type":24,"tag":248,"props":2460,"children":2461},{"style":261},[2462],{"type":29,"value":2463}," \"/api/v1/fridge\"",{"type":24,"tag":248,"props":2465,"children":2466},{"style":255},[2467],{"type":29,"value":413},{"type":24,"tag":248,"props":2469,"children":2470},{"class":250,"line":376},[2471,2475,2480,2484,2489,2493,2497,2502],{"type":24,"tag":248,"props":2472,"children":2473},{"style":255},[2474],{"type":29,"value":590},{"type":24,"tag":248,"props":2476,"children":2477},{"style":322},[2478],{"type":29,"value":2479},"RequiredArgsConstructor",{"type":24,"tag":248,"props":2481,"children":2482},{"style":255},[2483],{"type":29,"value":392},{"type":24,"tag":248,"props":2485,"children":2486},{"style":395},[2487],{"type":29,"value":2488},"onConstructor_",{"type":24,"tag":248,"props":2490,"children":2491},{"style":322},[2492],{"type":29,"value":403},{"type":24,"tag":248,"props":2494,"children":2495},{"style":255},[2496],{"type":29,"value":749},{"type":24,"tag":248,"props":2498,"children":2499},{"style":322},[2500],{"type":29,"value":2501},"Autowired",{"type":24,"tag":248,"props":2503,"children":2504},{"style":255},[2505],{"type":29,"value":413},{"type":24,"tag":248,"props":2507,"children":2508},{"class":250,"line":416},[2509,2513,2517,2522],{"type":24,"tag":248,"props":2510,"children":2511},{"style":322},[2512],{"type":29,"value":325},{"type":24,"tag":248,"props":2514,"children":2515},{"style":322},[2516],{"type":29,"value":330},{"type":24,"tag":248,"props":2518,"children":2519},{"style":333},[2520],{"type":29,"value":2521}," FridgeController",{"type":24,"tag":248,"props":2523,"children":2524},{"style":255},[2525],{"type":29,"value":341},{"type":24,"tag":248,"props":2527,"children":2528},{"class":250,"line":469},[2529],{"type":24,"tag":248,"props":2530,"children":2531},{"emptyLinePlaceholder":348},[2532],{"type":29,"value":351},{"type":24,"tag":248,"props":2534,"children":2535},{"class":250,"line":487},[2536,2540,2545],{"type":24,"tag":248,"props":2537,"children":2538},{"style":322},[2539],{"type":29,"value":360},{"type":24,"tag":248,"props":2541,"children":2542},{"style":322},[2543],{"type":29,"value":2544}," final",{"type":24,"tag":248,"props":2546,"children":2547},{"style":255},[2548],{"type":29,"value":2549}," FridgeService fridgeService;\n",{"type":24,"tag":248,"props":2551,"children":2552},{"class":250,"line":495},[2553],{"type":24,"tag":248,"props":2554,"children":2555},{"emptyLinePlaceholder":348},[2556],{"type":29,"value":351},{"type":24,"tag":248,"props":2558,"children":2559},{"class":250,"line":508},[2560,2564,2569,2573,2578],{"type":24,"tag":248,"props":2561,"children":2562},{"style":255},[2563],{"type":29,"value":382},{"type":24,"tag":248,"props":2565,"children":2566},{"style":322},[2567],{"type":29,"value":2568},"PostMapping",{"type":24,"tag":248,"props":2570,"children":2571},{"style":255},[2572],{"type":29,"value":392},{"type":24,"tag":248,"props":2574,"children":2575},{"style":261},[2576],{"type":29,"value":2577},"\"/food\"",{"type":24,"tag":248,"props":2579,"children":2580},{"style":255},[2581],{"type":29,"value":413},{"type":24,"tag":248,"props":2583,"children":2584},{"class":250,"line":516},[2585,2589,2594,2599,2604,2609],{"type":24,"tag":248,"props":2586,"children":2587},{"style":322},[2588],{"type":29,"value":1575},{"type":24,"tag":248,"props":2590,"children":2591},{"style":255},[2592],{"type":29,"value":2593}," ResponseEntity\u003C",{"type":24,"tag":248,"props":2595,"children":2596},{"style":322},[2597],{"type":29,"value":2598},"FoodResponseModel",{"type":24,"tag":248,"props":2600,"children":2601},{"style":255},[2602],{"type":29,"value":2603},"> ",{"type":24,"tag":248,"props":2605,"children":2606},{"style":333},[2607],{"type":29,"value":2608},"addFoodToFridgeV1",{"type":24,"tag":248,"props":2610,"children":2611},{"style":255},[2612],{"type":29,"value":2613},"(\n",{"type":24,"tag":248,"props":2615,"children":2616},{"class":250,"line":534},[2617,2622,2627,2631,2636,2641,2646],{"type":24,"tag":248,"props":2618,"children":2619},{"style":255},[2620],{"type":29,"value":2621},"            @",{"type":24,"tag":248,"props":2623,"children":2624},{"style":322},[2625],{"type":29,"value":2626},"Valid",{"type":24,"tag":248,"props":2628,"children":2629},{"style":255},[2630],{"type":29,"value":749},{"type":24,"tag":248,"props":2632,"children":2633},{"style":322},[2634],{"type":29,"value":2635},"RequestBody",{"type":24,"tag":248,"props":2637,"children":2638},{"style":255},[2639],{"type":29,"value":2640}," FridgeRequestModel ",{"type":24,"tag":248,"props":2642,"children":2643},{"style":1593},[2644],{"type":29,"value":2645},"request",{"type":24,"tag":248,"props":2647,"children":2648},{"style":255},[2649],{"type":29,"value":1601},{"type":24,"tag":248,"props":2651,"children":2652},{"class":250,"line":542},[2653],{"type":24,"tag":248,"props":2654,"children":2655},{"emptyLinePlaceholder":348},[2656],{"type":29,"value":351},{"type":24,"tag":248,"props":2658,"children":2659},{"class":250,"line":898},[2660,2664,2668,2672,2677],{"type":24,"tag":248,"props":2661,"children":2662},{"style":255},[2663],{"type":29,"value":1716},{"type":24,"tag":248,"props":2665,"children":2666},{"style":333},[2667],{"type":29,"value":1721},{"type":24,"tag":248,"props":2669,"children":2670},{"style":255},[2671],{"type":29,"value":392},{"type":24,"tag":248,"props":2673,"children":2674},{"style":261},[2675],{"type":29,"value":2676},"\"addFoodToFridgeV1: request=[{}]\"",{"type":24,"tag":248,"props":2678,"children":2679},{"style":255},[2680],{"type":29,"value":2681},", request);\n",{"type":24,"tag":248,"props":2683,"children":2684},{"class":250,"line":906},[2685,2690,2694,2699,2704],{"type":24,"tag":248,"props":2686,"children":2687},{"style":255},[2688],{"type":29,"value":2689},"        FoodResponseModel response ",{"type":24,"tag":248,"props":2691,"children":2692},{"style":322},[2693],{"type":29,"value":1619},{"type":24,"tag":248,"props":2695,"children":2696},{"style":255},[2697],{"type":29,"value":2698}," fridgeService.",{"type":24,"tag":248,"props":2700,"children":2701},{"style":333},[2702],{"type":29,"value":2703},"addFoodToFridge",{"type":24,"tag":248,"props":2705,"children":2706},{"style":255},[2707],{"type":29,"value":2708},"(request);\n",{"type":24,"tag":248,"props":2710,"children":2711},{"class":250,"line":1396},[2712,2716,2721,2726],{"type":24,"tag":248,"props":2713,"children":2714},{"style":322},[2715],{"type":29,"value":1894},{"type":24,"tag":248,"props":2717,"children":2718},{"style":255},[2719],{"type":29,"value":2720}," ResponseEntity.",{"type":24,"tag":248,"props":2722,"children":2723},{"style":333},[2724],{"type":29,"value":2725},"ok",{"type":24,"tag":248,"props":2727,"children":2728},{"style":255},[2729],{"type":29,"value":2730},"(response);\n",{"type":24,"tag":248,"props":2732,"children":2733},{"class":250,"line":1404},[2734],{"type":24,"tag":248,"props":2735,"children":2736},{"style":255},[2737],{"type":29,"value":1651},{"type":24,"tag":248,"props":2739,"children":2740},{"class":250,"line":1843},[2741],{"type":24,"tag":248,"props":2742,"children":2743},{"emptyLinePlaceholder":348},[2744],{"type":29,"value":351},{"type":24,"tag":248,"props":2746,"children":2747},{"class":250,"line":1861},[2748],{"type":24,"tag":248,"props":2749,"children":2750},{"style":255},[2751],{"type":29,"value":548},{"type":24,"tag":25,"props":2753,"children":2754},{},[2755],{"type":29,"value":2756},"There are a few critical aspects to note for our annotations to work properly:",{"type":24,"tag":102,"props":2758,"children":2759},{},[2760,2785],{"type":24,"tag":106,"props":2761,"children":2762},{},[2763,2769,2771,2776,2778,2783],{"type":24,"tag":53,"props":2764,"children":2766},{"className":2765},[],[2767],{"type":29,"value":2768},"@Validated",{"type":29,"value":2770}," must be used either at the ",{"type":24,"tag":35,"props":2772,"children":2773},{},[2774],{"type":29,"value":2775},"class",{"type":29,"value":2777}," or ",{"type":24,"tag":35,"props":2779,"children":2780},{},[2781],{"type":29,"value":2782},"method",{"type":29,"value":2784}," level to indicate where validation needs to take place",{"type":24,"tag":106,"props":2786,"children":2787},{},[2788,2794,2796,2801],{"type":24,"tag":53,"props":2789,"children":2791},{"className":2790},[],[2792],{"type":29,"value":2793},"@Valid",{"type":29,"value":2795}," is used to mark a ",{"type":24,"tag":35,"props":2797,"children":2798},{},[2799],{"type":29,"value":2800},"property",{"type":29,"value":2802}," for validation cascading, which triggers our constraints",{"type":24,"tag":25,"props":2804,"children":2805},{},[2806],{"type":29,"value":2807},"Let's send a payload:",{"type":24,"tag":238,"props":2809,"children":2813},{"className":2810,"code":2811,"language":2812,"meta":10,"style":10},"language-json shiki shiki-themes github-light github-dark","// POST {{baseUrl}}/api/v1/fridge/food\n{\n    \"name\": \"milk\",\n    \"category\": \"dairy\",\n    \"quantity\": 2,\n    \"refrigerated\": true\n}\n","json",[2814],{"type":24,"tag":53,"props":2815,"children":2816},{"__ignoreMap":10},[2817,2826,2834,2857,2877,2898,2915],{"type":24,"tag":248,"props":2818,"children":2819},{"class":250,"line":251},[2820],{"type":24,"tag":248,"props":2821,"children":2823},{"style":2822},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[2824],{"type":29,"value":2825},"// POST {{baseUrl}}/api/v1/fridge/food\n",{"type":24,"tag":248,"props":2827,"children":2828},{"class":250,"line":344},[2829],{"type":24,"tag":248,"props":2830,"children":2831},{"style":255},[2832],{"type":29,"value":2833},"{\n",{"type":24,"tag":248,"props":2835,"children":2836},{"class":250,"line":354},[2837,2842,2847,2852],{"type":24,"tag":248,"props":2838,"children":2839},{"style":395},[2840],{"type":29,"value":2841},"    \"name\"",{"type":24,"tag":248,"props":2843,"children":2844},{"style":255},[2845],{"type":29,"value":2846},": ",{"type":24,"tag":248,"props":2848,"children":2849},{"style":261},[2850],{"type":29,"value":2851},"\"milk\"",{"type":24,"tag":248,"props":2853,"children":2854},{"style":255},[2855],{"type":29,"value":2856},",\n",{"type":24,"tag":248,"props":2858,"children":2859},{"class":250,"line":368},[2860,2865,2869,2873],{"type":24,"tag":248,"props":2861,"children":2862},{"style":395},[2863],{"type":29,"value":2864},"    \"category\"",{"type":24,"tag":248,"props":2866,"children":2867},{"style":255},[2868],{"type":29,"value":2846},{"type":24,"tag":248,"props":2870,"children":2871},{"style":261},[2872],{"type":29,"value":1379},{"type":24,"tag":248,"props":2874,"children":2875},{"style":255},[2876],{"type":29,"value":2856},{"type":24,"tag":248,"props":2878,"children":2879},{"class":250,"line":376},[2880,2885,2889,2894],{"type":24,"tag":248,"props":2881,"children":2882},{"style":395},[2883],{"type":29,"value":2884},"    \"quantity\"",{"type":24,"tag":248,"props":2886,"children":2887},{"style":255},[2888],{"type":29,"value":2846},{"type":24,"tag":248,"props":2890,"children":2891},{"style":395},[2892],{"type":29,"value":2893},"2",{"type":24,"tag":248,"props":2895,"children":2896},{"style":255},[2897],{"type":29,"value":2856},{"type":24,"tag":248,"props":2899,"children":2900},{"class":250,"line":416},[2901,2906,2910],{"type":24,"tag":248,"props":2902,"children":2903},{"style":395},[2904],{"type":29,"value":2905},"    \"refrigerated\"",{"type":24,"tag":248,"props":2907,"children":2908},{"style":255},[2909],{"type":29,"value":2846},{"type":24,"tag":248,"props":2911,"children":2912},{"style":395},[2913],{"type":29,"value":2914},"true\n",{"type":24,"tag":248,"props":2916,"children":2917},{"class":250,"line":469},[2918],{"type":24,"tag":248,"props":2919,"children":2920},{"style":255},[2921],{"type":29,"value":548},{"type":24,"tag":25,"props":2923,"children":2924},{},[2925],{"type":29,"value":2926},"Success!  But let's see what happens when we send another payload we know will result in error:",{"type":24,"tag":238,"props":2928,"children":2930},{"className":2810,"code":2929,"language":2812,"meta":10,"style":10},"// POST {{baseUrl}}/api/v1/fridge/food\n{\n    \"name\": \"pinto beans\",\n    \"category\": \"legumes\",\n    \"quantity\": -3,\n    \"refrigerated\": true\n}\n",[2931],{"type":24,"tag":53,"props":2932,"children":2933},{"__ignoreMap":10},[2934,2941,2948,2968,2988,3008,3023],{"type":24,"tag":248,"props":2935,"children":2936},{"class":250,"line":251},[2937],{"type":24,"tag":248,"props":2938,"children":2939},{"style":2822},[2940],{"type":29,"value":2825},{"type":24,"tag":248,"props":2942,"children":2943},{"class":250,"line":344},[2944],{"type":24,"tag":248,"props":2945,"children":2946},{"style":255},[2947],{"type":29,"value":2833},{"type":24,"tag":248,"props":2949,"children":2950},{"class":250,"line":354},[2951,2955,2959,2964],{"type":24,"tag":248,"props":2952,"children":2953},{"style":395},[2954],{"type":29,"value":2841},{"type":24,"tag":248,"props":2956,"children":2957},{"style":255},[2958],{"type":29,"value":2846},{"type":24,"tag":248,"props":2960,"children":2961},{"style":261},[2962],{"type":29,"value":2963},"\"pinto beans\"",{"type":24,"tag":248,"props":2965,"children":2966},{"style":255},[2967],{"type":29,"value":2856},{"type":24,"tag":248,"props":2969,"children":2970},{"class":250,"line":368},[2971,2975,2979,2984],{"type":24,"tag":248,"props":2972,"children":2973},{"style":395},[2974],{"type":29,"value":2864},{"type":24,"tag":248,"props":2976,"children":2977},{"style":255},[2978],{"type":29,"value":2846},{"type":24,"tag":248,"props":2980,"children":2981},{"style":261},[2982],{"type":29,"value":2983},"\"legumes\"",{"type":24,"tag":248,"props":2985,"children":2986},{"style":255},[2987],{"type":29,"value":2856},{"type":24,"tag":248,"props":2989,"children":2990},{"class":250,"line":376},[2991,2995,2999,3004],{"type":24,"tag":248,"props":2992,"children":2993},{"style":395},[2994],{"type":29,"value":2884},{"type":24,"tag":248,"props":2996,"children":2997},{"style":255},[2998],{"type":29,"value":2846},{"type":24,"tag":248,"props":3000,"children":3001},{"style":395},[3002],{"type":29,"value":3003},"-3",{"type":24,"tag":248,"props":3005,"children":3006},{"style":255},[3007],{"type":29,"value":2856},{"type":24,"tag":248,"props":3009,"children":3010},{"class":250,"line":416},[3011,3015,3019],{"type":24,"tag":248,"props":3012,"children":3013},{"style":395},[3014],{"type":29,"value":2905},{"type":24,"tag":248,"props":3016,"children":3017},{"style":255},[3018],{"type":29,"value":2846},{"type":24,"tag":248,"props":3020,"children":3021},{"style":395},[3022],{"type":29,"value":2914},{"type":24,"tag":248,"props":3024,"children":3025},{"class":250,"line":469},[3026],{"type":24,"tag":248,"props":3027,"children":3028},{"style":255},[3029],{"type":29,"value":548},{"type":24,"tag":25,"props":3031,"children":3032},{},[3033,3035,3040],{"type":29,"value":3034},"Note we are violating multiple constraints for this request model.  You should see a verbose response containing the details of the errors encountered and the exceptions thrown.  This verbosity isn't ideal for us (or our consumers) to deal with, so let's filter out important details with a simple override of the ",{"type":24,"tag":53,"props":3036,"children":3038},{"className":3037},[],[3039],{"type":29,"value":66},{"type":29,"value":216},{"type":24,"tag":25,"props":3042,"children":3043},{},[3044,3046,3052],{"type":29,"value":3045},"A further look into the error response provided by Spring, you may notice the exception thrown: ",{"type":24,"tag":53,"props":3047,"children":3049},{"className":3048},[],[3050],{"type":29,"value":3051},"MethodArgumentNotValidException",{"type":29,"value":3053},".  This is the exception we will be interested in for handling constraint violations within the exception handler.",{"type":24,"tag":25,"props":3055,"children":3056},{},[3057],{"type":29,"value":3058},"First, we need a model to capture relevant information.  We're able to distill the following from the original Spring response:",{"type":24,"tag":238,"props":3060,"children":3063},{"className":309,"code":3061,"filename":3062,"language":312,"meta":10,"style":10},"public class ErrorResponseModel {\n\n    private final String errorMessage;\n    private final LocalDateTime timestamp;\n    private final String path;\n\n}\n","ErrorResponseModel.java",[3064],{"type":24,"tag":53,"props":3065,"children":3066},{"__ignoreMap":10},[3067,3087,3094,3110,3126,3142,3149],{"type":24,"tag":248,"props":3068,"children":3069},{"class":250,"line":251},[3070,3074,3078,3083],{"type":24,"tag":248,"props":3071,"children":3072},{"style":322},[3073],{"type":29,"value":325},{"type":24,"tag":248,"props":3075,"children":3076},{"style":322},[3077],{"type":29,"value":330},{"type":24,"tag":248,"props":3079,"children":3080},{"style":333},[3081],{"type":29,"value":3082}," ErrorResponseModel",{"type":24,"tag":248,"props":3084,"children":3085},{"style":255},[3086],{"type":29,"value":341},{"type":24,"tag":248,"props":3088,"children":3089},{"class":250,"line":344},[3090],{"type":24,"tag":248,"props":3091,"children":3092},{"emptyLinePlaceholder":348},[3093],{"type":29,"value":351},{"type":24,"tag":248,"props":3095,"children":3096},{"class":250,"line":354},[3097,3101,3105],{"type":24,"tag":248,"props":3098,"children":3099},{"style":322},[3100],{"type":29,"value":360},{"type":24,"tag":248,"props":3102,"children":3103},{"style":322},[3104],{"type":29,"value":2544},{"type":24,"tag":248,"props":3106,"children":3107},{"style":255},[3108],{"type":29,"value":3109}," String errorMessage;\n",{"type":24,"tag":248,"props":3111,"children":3112},{"class":250,"line":368},[3113,3117,3121],{"type":24,"tag":248,"props":3114,"children":3115},{"style":322},[3116],{"type":29,"value":360},{"type":24,"tag":248,"props":3118,"children":3119},{"style":322},[3120],{"type":29,"value":2544},{"type":24,"tag":248,"props":3122,"children":3123},{"style":255},[3124],{"type":29,"value":3125}," LocalDateTime timestamp;\n",{"type":24,"tag":248,"props":3127,"children":3128},{"class":250,"line":376},[3129,3133,3137],{"type":24,"tag":248,"props":3130,"children":3131},{"style":322},[3132],{"type":29,"value":360},{"type":24,"tag":248,"props":3134,"children":3135},{"style":322},[3136],{"type":29,"value":2544},{"type":24,"tag":248,"props":3138,"children":3139},{"style":255},[3140],{"type":29,"value":3141}," String path;\n",{"type":24,"tag":248,"props":3143,"children":3144},{"class":250,"line":416},[3145],{"type":24,"tag":248,"props":3146,"children":3147},{"emptyLinePlaceholder":348},[3148],{"type":29,"value":351},{"type":24,"tag":248,"props":3150,"children":3151},{"class":250,"line":469},[3152],{"type":24,"tag":248,"props":3153,"children":3154},{"style":255},[3155],{"type":29,"value":548},{"type":24,"tag":25,"props":3157,"children":3158},{},[3159],{"type":29,"value":3160},"Next, we'll construct both the global exception handler and a method to handle our constraints:",{"type":24,"tag":238,"props":3162,"children":3165},{"className":309,"code":3163,"filename":3164,"language":312,"meta":10,"style":10},"@Slf4j\n@RestControllerAdvice\npublic class ErrorController extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected final ResponseEntity\u003CObject> handleMethodArgumentNotValid(\n            MethodArgumentNotValidException ex,\n            HttpHeaders headers,\n            HttpStatus status,\n            WebRequest request) {\n\n        List\u003CString> errorMessages = ex.getBindingResult().getAllErrors().stream()\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\n                .collect(Collectors.toList());\n        log.error(\"handleMethodArgumentNotValid: errors=[{}]\", errorMessages);\n        return new ResponseEntity\u003C>(\n                ErrorResponseModel.builder()\n                        .errorMessage(errorMessages.get(0))\n                        .timestamp(LocalDateTime.now())\n                        .path(request.getDescription(false))\n                        .build(),\n                HttpStatus.BAD_REQUEST\n        );\n    }\n\n}\n","ErrorController.java",[3166],{"type":24,"tag":53,"props":3167,"children":3168},{"__ignoreMap":10},[3169,3180,3192,3221,3228,3239,3273,3290,3307,3324,3340,3347,3402,3430,3456,3482,3499,3516,3553,3580,3614,3631,3639,3647,3654,3662],{"type":24,"tag":248,"props":3170,"children":3171},{"class":250,"line":251},[3172,3176],{"type":24,"tag":248,"props":3173,"children":3174},{"style":255},[3175],{"type":29,"value":590},{"type":24,"tag":248,"props":3177,"children":3178},{"style":322},[3179],{"type":29,"value":1470},{"type":24,"tag":248,"props":3181,"children":3182},{"class":250,"line":344},[3183,3187],{"type":24,"tag":248,"props":3184,"children":3185},{"style":255},[3186],{"type":29,"value":590},{"type":24,"tag":248,"props":3188,"children":3189},{"style":322},[3190],{"type":29,"value":3191},"RestControllerAdvice\n",{"type":24,"tag":248,"props":3193,"children":3194},{"class":250,"line":354},[3195,3199,3203,3208,3212,3217],{"type":24,"tag":248,"props":3196,"children":3197},{"style":322},[3198],{"type":29,"value":325},{"type":24,"tag":248,"props":3200,"children":3201},{"style":322},[3202],{"type":29,"value":330},{"type":24,"tag":248,"props":3204,"children":3205},{"style":333},[3206],{"type":29,"value":3207}," ErrorController",{"type":24,"tag":248,"props":3209,"children":3210},{"style":322},[3211],{"type":29,"value":2163},{"type":24,"tag":248,"props":3213,"children":3214},{"style":333},[3215],{"type":29,"value":3216}," ResponseEntityExceptionHandler",{"type":24,"tag":248,"props":3218,"children":3219},{"style":255},[3220],{"type":29,"value":341},{"type":24,"tag":248,"props":3222,"children":3223},{"class":250,"line":368},[3224],{"type":24,"tag":248,"props":3225,"children":3226},{"emptyLinePlaceholder":348},[3227],{"type":29,"value":351},{"type":24,"tag":248,"props":3229,"children":3230},{"class":250,"line":376},[3231,3235],{"type":24,"tag":248,"props":3232,"children":3233},{"style":255},[3234],{"type":29,"value":382},{"type":24,"tag":248,"props":3236,"children":3237},{"style":322},[3238],{"type":29,"value":1567},{"type":24,"tag":248,"props":3240,"children":3241},{"class":250,"line":416},[3242,3247,3251,3255,3260,3264,3269],{"type":24,"tag":248,"props":3243,"children":3244},{"style":322},[3245],{"type":29,"value":3246},"    protected",{"type":24,"tag":248,"props":3248,"children":3249},{"style":322},[3250],{"type":29,"value":2544},{"type":24,"tag":248,"props":3252,"children":3253},{"style":255},[3254],{"type":29,"value":2593},{"type":24,"tag":248,"props":3256,"children":3257},{"style":322},[3258],{"type":29,"value":3259},"Object",{"type":24,"tag":248,"props":3261,"children":3262},{"style":255},[3263],{"type":29,"value":2603},{"type":24,"tag":248,"props":3265,"children":3266},{"style":333},[3267],{"type":29,"value":3268},"handleMethodArgumentNotValid",{"type":24,"tag":248,"props":3270,"children":3271},{"style":255},[3272],{"type":29,"value":2613},{"type":24,"tag":248,"props":3274,"children":3275},{"class":250,"line":469},[3276,3281,3286],{"type":24,"tag":248,"props":3277,"children":3278},{"style":255},[3279],{"type":29,"value":3280},"            MethodArgumentNotValidException ",{"type":24,"tag":248,"props":3282,"children":3283},{"style":1593},[3284],{"type":29,"value":3285},"ex",{"type":24,"tag":248,"props":3287,"children":3288},{"style":255},[3289],{"type":29,"value":2856},{"type":24,"tag":248,"props":3291,"children":3292},{"class":250,"line":487},[3293,3298,3303],{"type":24,"tag":248,"props":3294,"children":3295},{"style":255},[3296],{"type":29,"value":3297},"            HttpHeaders ",{"type":24,"tag":248,"props":3299,"children":3300},{"style":1593},[3301],{"type":29,"value":3302},"headers",{"type":24,"tag":248,"props":3304,"children":3305},{"style":255},[3306],{"type":29,"value":2856},{"type":24,"tag":248,"props":3308,"children":3309},{"class":250,"line":495},[3310,3315,3320],{"type":24,"tag":248,"props":3311,"children":3312},{"style":255},[3313],{"type":29,"value":3314},"            HttpStatus ",{"type":24,"tag":248,"props":3316,"children":3317},{"style":1593},[3318],{"type":29,"value":3319},"status",{"type":24,"tag":248,"props":3321,"children":3322},{"style":255},[3323],{"type":29,"value":2856},{"type":24,"tag":248,"props":3325,"children":3326},{"class":250,"line":508},[3327,3332,3336],{"type":24,"tag":248,"props":3328,"children":3329},{"style":255},[3330],{"type":29,"value":3331},"            WebRequest ",{"type":24,"tag":248,"props":3333,"children":3334},{"style":1593},[3335],{"type":29,"value":2645},{"type":24,"tag":248,"props":3337,"children":3338},{"style":255},[3339],{"type":29,"value":1601},{"type":24,"tag":248,"props":3341,"children":3342},{"class":250,"line":516},[3343],{"type":24,"tag":248,"props":3344,"children":3345},{"emptyLinePlaceholder":348},[3346],{"type":29,"value":351},{"type":24,"tag":248,"props":3348,"children":3349},{"class":250,"line":534},[3350,3355,3359,3364,3368,3373,3378,3383,3388,3392,3397],{"type":24,"tag":248,"props":3351,"children":3352},{"style":255},[3353],{"type":29,"value":3354},"        List\u003C",{"type":24,"tag":248,"props":3356,"children":3357},{"style":322},[3358],{"type":29,"value":1515},{"type":24,"tag":248,"props":3360,"children":3361},{"style":255},[3362],{"type":29,"value":3363},"> errorMessages ",{"type":24,"tag":248,"props":3365,"children":3366},{"style":322},[3367],{"type":29,"value":1619},{"type":24,"tag":248,"props":3369,"children":3370},{"style":255},[3371],{"type":29,"value":3372}," ex.",{"type":24,"tag":248,"props":3374,"children":3375},{"style":333},[3376],{"type":29,"value":3377},"getBindingResult",{"type":24,"tag":248,"props":3379,"children":3380},{"style":255},[3381],{"type":29,"value":3382},"().",{"type":24,"tag":248,"props":3384,"children":3385},{"style":333},[3386],{"type":29,"value":3387},"getAllErrors",{"type":24,"tag":248,"props":3389,"children":3390},{"style":255},[3391],{"type":29,"value":3382},{"type":24,"tag":248,"props":3393,"children":3394},{"style":333},[3395],{"type":29,"value":3396},"stream",{"type":24,"tag":248,"props":3398,"children":3399},{"style":255},[3400],{"type":29,"value":3401},"()\n",{"type":24,"tag":248,"props":3403,"children":3404},{"class":250,"line":542},[3405,3410,3415,3420,3425],{"type":24,"tag":248,"props":3406,"children":3407},{"style":255},[3408],{"type":29,"value":3409},"                .",{"type":24,"tag":248,"props":3411,"children":3412},{"style":333},[3413],{"type":29,"value":3414},"map",{"type":24,"tag":248,"props":3416,"children":3417},{"style":255},[3418],{"type":29,"value":3419},"(DefaultMessageSourceResolvable",{"type":24,"tag":248,"props":3421,"children":3422},{"style":322},[3423],{"type":29,"value":3424},"::",{"type":24,"tag":248,"props":3426,"children":3427},{"style":255},[3428],{"type":29,"value":3429},"getDefaultMessage)\n",{"type":24,"tag":248,"props":3431,"children":3432},{"class":250,"line":898},[3433,3437,3442,3447,3452],{"type":24,"tag":248,"props":3434,"children":3435},{"style":255},[3436],{"type":29,"value":3409},{"type":24,"tag":248,"props":3438,"children":3439},{"style":333},[3440],{"type":29,"value":3441},"collect",{"type":24,"tag":248,"props":3443,"children":3444},{"style":255},[3445],{"type":29,"value":3446},"(Collectors.",{"type":24,"tag":248,"props":3448,"children":3449},{"style":333},[3450],{"type":29,"value":3451},"toList",{"type":24,"tag":248,"props":3453,"children":3454},{"style":255},[3455],{"type":29,"value":1643},{"type":24,"tag":248,"props":3457,"children":3458},{"class":250,"line":906},[3459,3463,3468,3472,3477],{"type":24,"tag":248,"props":3460,"children":3461},{"style":255},[3462],{"type":29,"value":1716},{"type":24,"tag":248,"props":3464,"children":3465},{"style":333},[3466],{"type":29,"value":3467},"error",{"type":24,"tag":248,"props":3469,"children":3470},{"style":255},[3471],{"type":29,"value":392},{"type":24,"tag":248,"props":3473,"children":3474},{"style":261},[3475],{"type":29,"value":3476},"\"handleMethodArgumentNotValid: errors=[{}]\"",{"type":24,"tag":248,"props":3478,"children":3479},{"style":255},[3480],{"type":29,"value":3481},", errorMessages);\n",{"type":24,"tag":248,"props":3483,"children":3484},{"class":250,"line":1396},[3485,3489,3494],{"type":24,"tag":248,"props":3486,"children":3487},{"style":322},[3488],{"type":29,"value":1894},{"type":24,"tag":248,"props":3490,"children":3491},{"style":322},[3492],{"type":29,"value":3493}," new",{"type":24,"tag":248,"props":3495,"children":3496},{"style":255},[3497],{"type":29,"value":3498}," ResponseEntity\u003C>(\n",{"type":24,"tag":248,"props":3500,"children":3501},{"class":250,"line":1404},[3502,3507,3512],{"type":24,"tag":248,"props":3503,"children":3504},{"style":255},[3505],{"type":29,"value":3506},"                ErrorResponseModel.",{"type":24,"tag":248,"props":3508,"children":3509},{"style":333},[3510],{"type":29,"value":3511},"builder",{"type":24,"tag":248,"props":3513,"children":3514},{"style":255},[3515],{"type":29,"value":3401},{"type":24,"tag":248,"props":3517,"children":3518},{"class":250,"line":1843},[3519,3524,3529,3534,3539,3543,3548],{"type":24,"tag":248,"props":3520,"children":3521},{"style":255},[3522],{"type":29,"value":3523},"                        .",{"type":24,"tag":248,"props":3525,"children":3526},{"style":333},[3527],{"type":29,"value":3528},"errorMessage",{"type":24,"tag":248,"props":3530,"children":3531},{"style":255},[3532],{"type":29,"value":3533},"(errorMessages.",{"type":24,"tag":248,"props":3535,"children":3536},{"style":333},[3537],{"type":29,"value":3538},"get",{"type":24,"tag":248,"props":3540,"children":3541},{"style":255},[3542],{"type":29,"value":392},{"type":24,"tag":248,"props":3544,"children":3545},{"style":395},[3546],{"type":29,"value":3547},"0",{"type":24,"tag":248,"props":3549,"children":3550},{"style":255},[3551],{"type":29,"value":3552},"))\n",{"type":24,"tag":248,"props":3554,"children":3555},{"class":250,"line":1861},[3556,3560,3565,3570,3575],{"type":24,"tag":248,"props":3557,"children":3558},{"style":255},[3559],{"type":29,"value":3523},{"type":24,"tag":248,"props":3561,"children":3562},{"style":333},[3563],{"type":29,"value":3564},"timestamp",{"type":24,"tag":248,"props":3566,"children":3567},{"style":255},[3568],{"type":29,"value":3569},"(LocalDateTime.",{"type":24,"tag":248,"props":3571,"children":3572},{"style":333},[3573],{"type":29,"value":3574},"now",{"type":24,"tag":248,"props":3576,"children":3577},{"style":255},[3578],{"type":29,"value":3579},"())\n",{"type":24,"tag":248,"props":3581,"children":3582},{"class":250,"line":1879},[3583,3587,3591,3596,3601,3605,3610],{"type":24,"tag":248,"props":3584,"children":3585},{"style":255},[3586],{"type":29,"value":3523},{"type":24,"tag":248,"props":3588,"children":3589},{"style":333},[3590],{"type":29,"value":2454},{"type":24,"tag":248,"props":3592,"children":3593},{"style":255},[3594],{"type":29,"value":3595},"(request.",{"type":24,"tag":248,"props":3597,"children":3598},{"style":333},[3599],{"type":29,"value":3600},"getDescription",{"type":24,"tag":248,"props":3602,"children":3603},{"style":255},[3604],{"type":29,"value":392},{"type":24,"tag":248,"props":3606,"children":3607},{"style":395},[3608],{"type":29,"value":3609},"false",{"type":24,"tag":248,"props":3611,"children":3612},{"style":255},[3613],{"type":29,"value":3552},{"type":24,"tag":248,"props":3615,"children":3616},{"class":250,"line":1888},[3617,3621,3626],{"type":24,"tag":248,"props":3618,"children":3619},{"style":255},[3620],{"type":29,"value":3523},{"type":24,"tag":248,"props":3622,"children":3623},{"style":333},[3624],{"type":29,"value":3625},"build",{"type":24,"tag":248,"props":3627,"children":3628},{"style":255},[3629],{"type":29,"value":3630},"(),\n",{"type":24,"tag":248,"props":3632,"children":3633},{"class":250,"line":1906},[3634],{"type":24,"tag":248,"props":3635,"children":3636},{"style":255},[3637],{"type":29,"value":3638},"                HttpStatus.BAD_REQUEST\n",{"type":24,"tag":248,"props":3640,"children":3641},{"class":250,"line":1914},[3642],{"type":24,"tag":248,"props":3643,"children":3644},{"style":255},[3645],{"type":29,"value":3646},"        );\n",{"type":24,"tag":248,"props":3648,"children":3649},{"class":250,"line":1922},[3650],{"type":24,"tag":248,"props":3651,"children":3652},{"style":255},[3653],{"type":29,"value":1651},{"type":24,"tag":248,"props":3655,"children":3657},{"class":250,"line":3656},25,[3658],{"type":24,"tag":248,"props":3659,"children":3660},{"emptyLinePlaceholder":348},[3661],{"type":29,"value":351},{"type":24,"tag":248,"props":3663,"children":3665},{"class":250,"line":3664},26,[3666],{"type":24,"tag":248,"props":3667,"children":3668},{"style":255},[3669],{"type":29,"value":548},{"type":24,"tag":25,"props":3671,"children":3672},{},[3673],{"type":29,"value":3674},"Let's note a few things here:",{"type":24,"tag":102,"props":3676,"children":3677},{},[3678,3696,3715],{"type":24,"tag":106,"props":3679,"children":3680},{},[3681,3683,3689,3690],{"type":29,"value":3682},"Explore what might differ for violating constraints of ",{"type":24,"tag":53,"props":3684,"children":3686},{"className":3685},[],[3687],{"type":29,"value":3688},"@PathVariable",{"type":29,"value":2777},{"type":24,"tag":53,"props":3691,"children":3693},{"className":3692},[],[3694],{"type":29,"value":3695},"@RequestParam",{"type":24,"tag":106,"props":3697,"children":3698},{},[3699,3705,3707,3713],{"type":24,"tag":53,"props":3700,"children":3702},{"className":3701},[],[3703],{"type":29,"value":3704},"@RestControllerAdvice",{"type":29,"value":3706}," is just that--a specialized component for classes that declare ",{"type":24,"tag":53,"props":3708,"children":3710},{"className":3709},[],[3711],{"type":29,"value":3712},"@ExceptionHandler",{"type":29,"value":3714}," methods shared across multiple controller classes",{"type":24,"tag":106,"props":3716,"children":3717},{},[3718,3720,3725,3727,3732,3734],{"type":29,"value":3719},"We override the ",{"type":24,"tag":53,"props":3721,"children":3723},{"className":3722},[],[3724],{"type":29,"value":66},{"type":29,"value":3726},"'s ",{"type":24,"tag":53,"props":3728,"children":3730},{"className":3729},[],[3731],{"type":29,"value":3268},{"type":29,"value":3733}," method so we may\n",{"type":24,"tag":102,"props":3735,"children":3736},{},[3737,3742,3747],{"type":24,"tag":106,"props":3738,"children":3739},{},[3740],{"type":29,"value":3741},"Log important information",{"type":24,"tag":106,"props":3743,"children":3744},{},[3745],{"type":29,"value":3746},"Build a small, focused error response",{"type":24,"tag":106,"props":3748,"children":3749},{},[3750],{"type":29,"value":3751},"Return an HTTP status code of our choice, based on the constraint violated",{"type":24,"tag":25,"props":3753,"children":3754},{},[3755],{"type":29,"value":3756},"Upon sending a payload that violates the constraints we've defined, you should see a succinct response indicating where we went wrong:",{"type":24,"tag":238,"props":3758,"children":3760},{"className":2810,"code":3759,"language":2812,"meta":10,"style":10},"{\n    \"errorMessage\": \"Quantity must be positive\",\n    \"timestamp\": \"2020-11-20T19:18:31.1899697\",\n    \"path\": \"uri=/api/v1/pantry/food\"\n}\n",[3761],{"type":24,"tag":53,"props":3762,"children":3763},{"__ignoreMap":10},[3764,3771,3792,3813,3830],{"type":24,"tag":248,"props":3765,"children":3766},{"class":250,"line":251},[3767],{"type":24,"tag":248,"props":3768,"children":3769},{"style":255},[3770],{"type":29,"value":2833},{"type":24,"tag":248,"props":3772,"children":3773},{"class":250,"line":344},[3774,3779,3783,3788],{"type":24,"tag":248,"props":3775,"children":3776},{"style":395},[3777],{"type":29,"value":3778},"    \"errorMessage\"",{"type":24,"tag":248,"props":3780,"children":3781},{"style":255},[3782],{"type":29,"value":2846},{"type":24,"tag":248,"props":3784,"children":3785},{"style":261},[3786],{"type":29,"value":3787},"\"Quantity must be positive\"",{"type":24,"tag":248,"props":3789,"children":3790},{"style":255},[3791],{"type":29,"value":2856},{"type":24,"tag":248,"props":3793,"children":3794},{"class":250,"line":354},[3795,3800,3804,3809],{"type":24,"tag":248,"props":3796,"children":3797},{"style":395},[3798],{"type":29,"value":3799},"    \"timestamp\"",{"type":24,"tag":248,"props":3801,"children":3802},{"style":255},[3803],{"type":29,"value":2846},{"type":24,"tag":248,"props":3805,"children":3806},{"style":261},[3807],{"type":29,"value":3808},"\"2020-11-20T19:18:31.1899697\"",{"type":24,"tag":248,"props":3810,"children":3811},{"style":255},[3812],{"type":29,"value":2856},{"type":24,"tag":248,"props":3814,"children":3815},{"class":250,"line":368},[3816,3821,3825],{"type":24,"tag":248,"props":3817,"children":3818},{"style":395},[3819],{"type":29,"value":3820},"    \"path\"",{"type":24,"tag":248,"props":3822,"children":3823},{"style":255},[3824],{"type":29,"value":2846},{"type":24,"tag":248,"props":3826,"children":3827},{"style":261},[3828],{"type":29,"value":3829},"\"uri=/api/v1/pantry/food\"\n",{"type":24,"tag":248,"props":3831,"children":3832},{"class":250,"line":376},[3833],{"type":24,"tag":248,"props":3834,"children":3835},{"style":255},[3836],{"type":29,"value":548},{"type":24,"tag":194,"props":3838,"children":3839},{},[],{"type":24,"tag":41,"props":3841,"children":3843},{"id":3842},"challenge",[3844],{"type":29,"value":3845},"Challenge",{"type":24,"tag":25,"props":3847,"children":3848},{},[3849],{"type":29,"value":3850},"This tutorial provides some basic forms of constraint validation within a Spring-/Java-based REST service.  If you are looking to take things a bit further, here are a few places you can start:",{"type":24,"tag":102,"props":3852,"children":3853},{},[3854,3859,3864,3876],{"type":24,"tag":106,"props":3855,"children":3856},{},[3857],{"type":29,"value":3858},"Implement nested constraints within a complex request model",{"type":24,"tag":106,"props":3860,"children":3861},{},[3862],{"type":29,"value":3863},"Increase the flexibility of the HTTP status code returned to the consumer",{"type":24,"tag":106,"props":3865,"children":3866},{},[3867,3869,3874],{"type":29,"value":3868},"Expand the sample project to handle the nuance of a composite service--a ",{"type":24,"tag":35,"props":3870,"children":3871},{},[3872],{"type":29,"value":3873},"Picnic Service",{"type":29,"value":3875},", for instance",{"type":24,"tag":106,"props":3877,"children":3878},{},[3879,3881,3886,3888,3893,3894,3899],{"type":29,"value":3880},"Explore the ",{"type":24,"tag":53,"props":3882,"children":3884},{"className":3883},[],[3885],{"type":29,"value":928},{"type":29,"value":3887}," API further--what might ",{"type":24,"tag":53,"props":3889,"children":3891},{"className":3890},[],[3892],{"type":29,"value":883},{"type":29,"value":60},{"type":24,"tag":53,"props":3895,"children":3897},{"className":3896},[],[3898],{"type":29,"value":832},{"type":29,"value":3900}," be used for?",{"type":24,"tag":194,"props":3902,"children":3903},{},[],{"type":24,"tag":41,"props":3905,"children":3907},{"id":3906},"closing",[3908],{"type":29,"value":3909},"Closing",{"type":24,"tag":25,"props":3911,"children":3912},{},[3913],{"type":29,"value":3914},"This concludes the tutorial on implementing custom constraint validators using annotations!  Don't be afraid to let me know if I missed anything.  I certainly welcome (and appreciate) criticism, questions, and the like.",{"type":24,"tag":25,"props":3916,"children":3917},{},[3918,3920,3926],{"type":29,"value":3919},"For further reference, here is the ",{"type":24,"tag":73,"props":3921,"children":3923},{"href":210,"rel":3922},[77],[3924],{"type":29,"value":3925},"GitHub repository",{"type":29,"value":3927}," with the full working code and examples presented in this article.",{"type":24,"tag":3929,"props":3930,"children":3931},"style",{},[3932],{"type":29,"value":3933},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":10,"searchDepth":344,"depth":344,"links":3935},[3936,3937,3942,3943],{"id":43,"depth":344,"text":46},{"id":199,"depth":344,"text":202,"children":3938},[3939,3940,3941],{"id":228,"depth":354,"text":231},{"id":267,"depth":354,"text":270},{"id":2382,"depth":354,"text":2385},{"id":3842,"depth":344,"text":3845},{"id":3906,"depth":344,"text":3909},"markdown","content:articles:0.constraint-violation.md","content","articles/0.constraint-violation.md","md",["ShallowRef",3950],["ShallowReactive",3951],{"/articles/constraint-violation":3952},[3953,3958],{"_path":3954,"_dir":10,"_draft":9,"_partial":9,"_locale":10,"title":3955,"description":10,"layout":792,"_type":3944,"_id":3956,"_source":3946,"_file":3957,"_extension":3948},"/contact","Contact","content:3.contact.md","3.contact.md",{"_path":3959,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":3960,"description":3961,"cover":3962,"author":3963,"date":3967,"draft":348,"layout":19,"_type":3944,"_id":3968,"_source":3946,"_file":3969,"_extension":3948},"/articles/get-started","Get started with Alpine","Creating a blog with Alpine is a command away, as well as deploying to many platforms.","/articles/get-started.webp",{"name":3964,"avatarUrl":3965,"link":3966},"Sbastien Chopin","https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg","https://twitter.com/atinux","2022-08-23T00:00:00.000Z","content:articles:1.get-started.md","articles/1.get-started.md",["ShallowRef",3971],{},{"preference":3973,"value":3973,"unknown":348,"forced":9},"system",[3975,3978,3994],{"title":3976,"_path":3977,"layout":792},"About","/",{"title":3979,"_path":3980,"children":3981,"layout":3993},"Articles","/articles",[3982,3983,3984,3987,3990],{"title":11,"_path":7,"layout":19},{"title":3960,"_path":3959,"layout":19},{"title":3985,"_path":3986,"layout":19},"Configure Alpine","/articles/configure",{"title":3988,"_path":3989,"layout":19},"Write Articles","/articles/write-articles",{"title":3991,"_path":3992,"layout":19},"Customize Alpine","/articles/design-tokens","page",{"title":3955,"_path":3954,"layout":792},{"uil:twitter":3996,"uil:instagram":3999,"uil:github":4001,"bi:medium":4003,"uil:linkedin":4005,"material-symbols:arrow-upward":4007,"ph:arrow-left":4009,"ph:copy":4012},{"left":3997,"top":3997,"width":1922,"height":1922,"rotate":3997,"vFlip":9,"hFlip":9,"body":3998},0,"\u003Cpath fill=\"currentColor\" d=\"M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12\"/>",{"left":3997,"top":3997,"width":1922,"height":1922,"rotate":3997,"vFlip":9,"hFlip":9,"body":4000},"\u003Cpath fill=\"currentColor\" d=\"M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2m4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12M20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4M12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87m0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33\"/>",{"left":3997,"top":3997,"width":1922,"height":1922,"rotate":3997,"vFlip":9,"hFlip":9,"body":4002},"\u003Cpath fill=\"currentColor\" d=\"M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.562 4.937a2.368 2.368 0 0 1 .674 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247\"/>",{"left":3997,"top":3997,"width":1396,"height":1396,"rotate":3997,"vFlip":9,"hFlip":9,"body":4004},"\u003Cpath fill=\"currentColor\" d=\"M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8m4.95 0c0 2.34-1.01 4.236-2.256 4.236S9.463 10.339 9.463 8c0-2.34 1.01-4.236 2.256-4.236S13.975 5.661 13.975 8M16 8c0 2.096-.355 3.795-.794 3.795c-.438 0-.793-1.7-.793-3.795c0-2.096.355-3.795.794-3.795c.438 0 .793 1.699.793 3.795\"/>",{"left":3997,"top":3997,"width":1922,"height":1922,"rotate":3997,"vFlip":9,"hFlip":9,"body":4006},"\u003Cpath fill=\"currentColor\" d=\"M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z\"/>",{"left":3997,"top":3997,"width":1922,"height":1922,"rotate":3997,"vFlip":9,"hFlip":9,"body":4008},"\u003Cpath fill=\"currentColor\" d=\"M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20z\"/>",{"left":3997,"top":3997,"width":4010,"height":4010,"rotate":3997,"vFlip":9,"hFlip":9,"body":4011},256,"\u003Cpath fill=\"currentColor\" d=\"M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8\"/>",{"left":3997,"top":3997,"width":4010,"height":4010,"rotate":3997,"vFlip":9,"hFlip":9,"body":4013},"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",["Reactive",4015],["Set"],["Reactive",4017],{},1705626295291]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{FORMSPREE_URL:"",plausible:{hashMode:false,trackLocalhost:false,domain:"",apiHost:"https://plausible.io",autoPageviews:true,autoOutboundTracking:false},gtag:{id:"G-GG6FPMC1B6",config:{},initialConsent:true,loadingStrategy:"defer"},studio:{apiURL:"https://api.nuxt.studio"},mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1705626274269,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["navTitle","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{default:"github-light",dark:"github-dark"},preload:["json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini","c","cpp"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>